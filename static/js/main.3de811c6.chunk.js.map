{"version":3,"sources":["config.js","TransferMapComponent/TransferMapComponent.js","TransferTableComponent/m-table-filter-row.js","TransferTableComponent/m-table-body.js","TransferTableComponent/m-table-toolbar.js","TransferTableComponent/m-table-stepped-pagination.js","TransferTableComponent/common-values.js","TransferTableComponent/m-table-header.js","TransferTableComponent/Filters/AmountRangeFilter.js","TransferTableComponent/Filters/DefaultFilter.js","TransferTableComponent/Filters/DateRangeFilter.js","TransferTableComponent/Filters/Filterbox.js","TransferTableComponent/TransferTableComponent.js","Legend/Legend.js","App.js","serviceWorker.js","index.js"],"names":["defaultLegendTitleStyle","paddingLeft","height","color","fontFamily","fontSize","fontWeight","letterSpacing","defaultLegendBodyStyle","defaultLegendBoxStyle","paddingRight","tableOptions","csvUrl","mapOptions","fill","columns","transactionDateRange","title","field","hidden","searchable","sorting","grouping","filtering","type","defaultFilter","lookup","filterPlaceholder","width","customSort","a","b","Date","transactionDate","customFilterAndSearch","term","rowData","dateRange","rowDate","cellStyle","paidBy","paidTo","amount","render","parseInt","greaterThan","lessThan","fromCountry","country","purpose","bankSender","confidence","confirmed","textAlign","proof","imgLink","internal","bank","electronic","customs","linkColumn","story","table","search","paging","pageSize","textBody","hideFilterIcons","showTitle","pageSizeOptions","paginationType","padding","searchFieldAlignment","searchFieldVariant","loadingType","draggable","searchFieldStyle","boxShadow","border","backgroundColor","headerStyle","lineHeight","rowStyle","filterCellStyle","legend","img","body","titleStyle","bodyStyle","boxStyle","Set","require","projections","d3Geo","TransferMapComponent","config","countries","pairs","capitals","dataScaler","state","ready","conf","data","visibleCountries","visiblePairs","focusCountry","makeProjection","projectionConfig","projection","proj","translate","center","rotate","scale","parallels","forEach","d","extractCountries","row","add","from_country","to_country","nestPairs","nest","key","rollup","value","count","length","total","sum","entries","countryClickHandler","console","log","has","setState","props","handleCountryClick","prevProps","resetMap","this","json","c","then","map","totals","values","t","push","scaleLinear","domain","extent","range","name","all","style","borderTop","paddingTop","onClick","geography","geographies","geo","properties","countryFill","passive_color","hover","outline","focus_color","active_color","cursor","rsmKey","stroke","default","pressed","toCountry","x","get","latlng","slice","reverse","y","coordinates","transform","href","stroke-miterlimit","stroke-width","from","to","fromAbs","toAbs","dx","dy","connectorProps","strokeWidth","strokeLinecap","markerStart","subject","id","viewBox","refX","refY","markerUnits","markerWidth","markerHeight","orient","filterUnits","in","result","stdDeviation","filter","mask","fill-opacity","clip-path","textAnchor","label_text_style","toLocaleString","Component","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","MTableFilterRow","getLocalizationData","defaultProps","localization","getLocalizedFilterPlaceHolder","columnDef","filterPlaceHolder","renderLookupFilter","FormControl","InputLabel","htmlFor","marginTop","Select","multiple","tableData","filterValue","onChange","event","onFilterChanged","target","input","Input","renderValue","selecteds","selected","join","Object","keys","MenuItem","Checkbox","checked","indexOf","toString","ListItemText","primary","renderFilterComponent","React","filterComponent","renderBooleanFilter","indeterminate","undefined","val","renderDefaultFilter","FilterIcon","icons","Filter","TextField","float","placeholder","inputProps","InputProps","hideFilterIcon","startAdornment","InputAdornment","position","Tooltip","filterTooltip","renderDateTypeFilter","pickerProps","date","clearable","dateInputElement","DatePicker","DateTimePicker","TimePicker","utils","DateFnsUtils","locale","dateTimePickerLocalization","renderDateRangeTypeFilter","dateRangeChange","renderAmountRangeTypeFilter","_","display","Typography","includes","groupOrder","sort","columnOrder","TableCell","getComponentForColumn","selection","splice","hasActions","actionsColumnIndex","endPos","hasDetailPanel","isTreeData","className","resetFilters","backgroundRepeat","overflow","variant","TableRow","MTableBody","dataForSum","renderData","getFilteredData","getNumOfRowsOnPage","emptyRowCount","rowHeight","options","showEmptyDataSourceMessage","addColumn","actions","emptyRowsWhenPaging","paddingBottom","colSpan","emptyDataSourceMessage","Array","r","index","editing","components","EditRow","editRow","mode","detailPanel","onEditingCanceled","onEditingApproved","getFieldValue","Row","level","onRowSelected","path","currentPage","onToggleDetailPanel","onRowClick","onTreeExpandChanged","hasAnyEditingRow","treeDataMaxLevel","groups","groupData","GroupRow","onGroupExpandChanged","col","col1","col2","TableBody","FilterRow","filterRow","showAddRow","addRowPosition","initialFormData","renderGroupedRows","renderUngroupedRows","renderEmpty","MTableToolbar","onSearchChange","searchText","dataManager","changeSearchText","onSearchChanged","defaultExportCsv","export","exportAllData","CsvBuilder","exportFileName","setDelimeter","exportDelimiter","setColumns","addRows","exportFile","exportCsv","exportButtonAnchorEl","columnsButtonAnchorEl","Box","autoFocus","searchAutoFocus","classes","searchField","searchPlaceholder","fullWidth","disableUnderline","searchTooltip","Search","endAdornment","IconButton","disabled","ResetSearch","columnsButton","showColumnsTitle","currentTarget","aria-label","showColumnsAriaLabel","ViewColumn","Menu","anchorEl","open","Boolean","onClose","opacity","addRemoveColumns","formControlLabel","component","removable","onColumnsChanged","exportButton","exportTitle","exportAriaLabel","Export","exportName","Actions","selectedRows","renderSelectedActions","renderDefaultActions","toolBarTitle","whiteSpace","textOverflow","showTextRowsSelected","nRowsSelected","replace","classNames","root","highlight","renderToolbarTitle","renderSearch","toolbarButtonAlignment","renderActions","spacer","withStyles","theme","spacing","palette","secondary","main","lighten","light","text","dark","flex","minWidth","MTablePaginationInner","setSum","formatMoney","decimalCount","decimal","thousands","Math","abs","isNaN","negativeSign","i","Number","toFixed","j","substr","e","handleFirstPageButtonClick","onChangePage","handleBackButtonClick","page","handleNextButtonClick","handleNumberButtonClick","number","handleLastPageButtonClick","max","ceil","rowsPerPage","start","end","buttons","p","buttonVariant","Button","size","maxWidth","minHeight","showFirstLastPageButtons","maxPages","pageStart","pageEnd","min","justifyContent","firstTooltip","firstAriaLabel","direction","LastPage","FirstPage","previousTooltip","previousAriaLabel","PreviousPage","Hidden","smDown","renderPagesButton","nextTooltip","nextAriaLabel","NextPage","lastTooltip","lastAriaLabel","right","mb","totalNumOfRows","labelDisplayedRows","labelRowsPerPage","MTableSteppedPagination","flexShrink","marginLeft","withTheme","baseIconSize","elementSize","MTableHeader","content","draggableId","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","TableSortLabel","IconComponent","SortArrow","active","orderBy","orderDirection","thirdSortClick","onOrderChange","tooltip","align","header","boxSizing","rowActions","maxTreeLevel","selectionWidth","showSelectAllCheckbox","selectedCount","dataCount","onAllSelected","headers","renderHeader","hasSelection","renderSelectionHeader","showActionsColumn","actionsHeaderIndex","renderActionsHeader","detailPanelColumnAlignment","renderDetailPanelColumnCell","TableHead","top","zIndex","background","paper","amountRangeTypeFilter","dateRangeFilter","filters","column","item","px","AmountRangeFilter","DateRangeFilter","DefaultFilter","container","m","objColumns","numOfRows","createMuiTheme","typography","overrides","MuiTableCell","sizeSmall","MuiSelect","MuiTableSortLabel","icon","MuiTableHead","borderWidth","borderTopWidth","borderBottomWidth","borderColor","borderStyle","TransferTableComponent","filterCountry","filteredData","toolbarRef","createRef","tableRef","paginationRef","setData","newData","getLookupData","initLookup","loadImage","setFilters","obj","src","alt","turnImageToLink","dataCopy","link","cols","reduce","handleResetMap","current","sumOfFilteredData","parseFloat","getNumOfRowsOnCurrentPage","handleDateRange","filterAmountRange","filterDefault","filterDateRange","handleFilterChanged","onFilterChange","Body","Toolbar","Pagination","Header","Container","Paper","elevation","toolbar","items","itemList","pb","App","csv","Legend","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3de811c6.chunk.js","sourcesContent":["const defaultLegendTitleStyle = {\r\n  paddingLeft: '6px', \r\n  height: '19px',\r\n  color: '#515151',\r\n  fontFamily: \"Open Sans\",\r\n  fontSize: '14px',\r\n  fontWeight: '700',\r\n  letterSpacing: '-0.3px',}\r\n\r\nconst defaultLegendBodyStyle = {\r\n  height: '44px',\r\n  color: '#515151',\r\n  fontFamily: \"Open Sans\",\r\n  fontSize: '14px',\r\n  letterSpacing: '-0.3px',\r\n}\r\nconst defaultLegendBoxStyle = {\r\n  paddingLeft: '25px',\r\n  paddingRight: '25px'\r\n}\r\n\r\nconst tableOptions = {\r\n\r\n  csvUrl: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-map%2Fmockup_v3.csv?alt=media&token=3294afb4-be79-487a-938e-e919b7969230',\r\n\r\n  mapOptions: {\r\n    \"active_color\": \"#dbabac\",\r\n    \"passive_color\": \"#DDD\",\r\n    \"focus_color\": \"#bd3d3f\",\r\n    \"label_text_style\": {\r\n      fill: '#ffffff',\r\n      fontSize: '12px',\r\n      fontWeight: '900',\r\n      letterSpacing: '-0.26px'\r\n    },\r\n    \"capitals\": \"https://gist.githubusercontent.com/erdem/8c7d26765831d0f9a8c62f02782ae00d/raw/248037cd701af0a4957cce340dabb0fd04e38f4c/countries.json\"\r\n  },\r\n\r\n  \r\n  columns: {\r\n    transactionDateRange: {\r\n      title: \"Transaction date range\",\r\n      field: \"transactionDate\",\r\n      hidden: false,\r\n      searchable: false,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      type: 'date_range',\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      filterPlaceholder: 'Transaction date range',\r\n      width: 66,\r\n      customSort: (a, b) => {\r\n        return new Date(a.transactionDate) - new Date(b.transactionDate)\r\n      },\r\n      customFilterAndSearch: (term, rowData) => {\r\n        if (term.dateRange == null){\r\n          return true\r\n        }\r\n        const rowDate = new Date(rowData.transactionDate)\r\n        return rowDate >= term.dateRange[0] && rowDate <= term.dateRange[1]\r\n      },\r\n      cellStyle: {paddingLeft: 20},\r\n    },\r\n    paidBy: {\r\n      title: \"Paid by\",\r\n      field: \"paidBy\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'Payer...',\r\n      width: 66,\r\n    },\r\n    paidTo: {\r\n      title: \"Paid to\",\r\n      field: \"paidTo\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'Recipient...',\r\n      width: 66,\r\n    },\r\n    amount: {\r\n      title: \"Amount\",\r\n      field: \"amount\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      type: 'number_range',\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      filterPlaceholder: '',\r\n      width: 20,\r\n      render: rowData => {return '$' + rowData.amount},\r\n      customSort: (a, b) => {\r\n        return parseInt(a.amount) - parseInt(b.amount)\r\n      },\r\n      customFilterAndSearch: (term, rowData) => {\r\n        // this allows search to work\r\n        if (term[0] != null) {\r\n          return rowData[0] == term[0]\r\n        }\r\n        // there must be a better way to compare\r\n        if (term.greaterThan != null && term.lessThan != null) {\r\n          return term.greaterThan <= parseInt(rowData.amount)\r\n            && term.lessThan >= parseInt(rowData.amount)\r\n        } else if (term.greaterThan != null && term.lessThan == null) {\r\n          return term.greaterThan <= parseInt(rowData.amount)\r\n        } else if (term.greaterThan == null && term.lessThan != null) {\r\n          return term.lessThan >= parseInt(rowData.amount)\r\n        } else {\r\n          return true\r\n        }\r\n      },\r\n    },\r\n    // amount: {\r\n    //   title: \"Amount\",\r\n    //   field: \"amount\",\r\n    //   hidden: true,\r\n    //   searchable: true,\r\n    //   sorting: true,\r\n    //   grouping: false,\r\n    //   filtering: false,\r\n    //   defaultFilter: '',\r\n    //   lookup: '',\r\n    //   type: 'currency',\r\n    //   width: 66,\r\n    // },\r\n    fromCountry: {\r\n      title: \"From Country\",\r\n      field: \"fromCountry\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'From country',\r\n      width: 66,\r\n    },\r\n    country: {\r\n      title: \"Country\",\r\n      field: \"country\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'To country...',\r\n      width: 66,\r\n    },\r\n    purpose: {\r\n      title: \"Purpose\",\r\n      field: \"purpose\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      width: 66,\r\n    },\r\n    type: {\r\n      title: \"Type\",\r\n      field: \"type\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      width: 66,\r\n    },\r\n    bankSender: {\r\n      title: \"Bank sender\",\r\n      field: \"bankSender\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'Bank...',\r\n      width: 60\r\n    },\r\n    confidence: {\r\n      title: \"Confidence\",\r\n      field: \"confidence\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      lookup: {confirmed: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FConfirmed.svg?alt=media&token=60873b2f-26ed-4c14-b210-8f5467709e1c'},\r\n      defaultFilter: '',\r\n      type: 'image',\r\n      cellStyle: {textAlign: 'center'},\r\n      width: 30,\r\n    },\r\n    proof: {\r\n      title: \"Proof\",\r\n      field: \"proof\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      imgLink: {\r\n        internal: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FInternal.svg?alt=media&token=ea2ac9bf-5026-45ff-8074-0e5bd08b5e8a',\r\n        bank: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FBank.svg?alt=media&token=cf2d58c9-c18e-48e1-9033-8739f85a66eb',\r\n        electronic: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FElectronic.svg?alt=media&token=0a7b3d35-71a8-4f46-85a0-9bf681e7c2b0',\r\n        customs: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FCustoms.svg?alt=media&token=71ecfae4-1c9e-459d-82a3-e8da707dbb9d'\r\n      },\r\n      linkColumn: 'proofLink',\r\n      defaultFilter: '',\r\n      type: 'image-link',\r\n      width: 30,\r\n      cellStyle: {textAlign: 'center', paddingRight: 20}\r\n    },\r\n    story: {\r\n        title: \"Story\",\r\n        field: \"story\",\r\n        hidden: true,\r\n        searchable: true,\r\n        sorting: true,\r\n        grouping: false,\r\n        filtering: false,\r\n        defaultFilter: '',\r\n        lookup: '',\r\n        type: '',\r\n        filterPlaceholder: 'Story...',\r\n        width: 66,\r\n      },\r\n  },\r\n  table: {\r\n    search: true,\r\n    sorting: true,\r\n    filtering: false,\r\n    grouping: false,\r\n    paging: true,\r\n    pageSize: 20,\r\n\r\n    textBody: 'Explore the dataset of transactions below:',\r\n\r\n    hideFilterIcons: true,\r\n    showTitle: false,\r\n    pageSizeOptions: [],\r\n    paginationType: 'stepped',\r\n    padding: 'dense',\r\n    searchFieldAlignment: 'left',\r\n    searchFieldVariant: 'standard',\r\n    loadingType: 'overlay',\r\n    draggable: false,\r\n\r\n    searchFieldStyle: {\r\n      width: '100%',\r\n      height: '35px',\r\n      boxShadow: 'inset 1px 2px 4px rgba(0, 0, 0, 0.35)',\r\n      border: '1px solid #979797',\r\n      backgroundColor: '#ffffff',\r\n    },\r\n\r\n    headerStyle: {\r\n      fontWeight: 700,\r\n      lineHeight: \"14px\"\r\n    },\r\n\r\n    rowStyle: {\r\n      height: '37px',\r\n    },\r\n    \r\n    filterCellStyle: {\r\n      fontFamily: \"Roboto\",\r\n      fontSize: \"20px\",\r\n      padding: \"none\",\r\n      width: \"50px\",\r\n    }\r\n  },\r\n\r\n  legend: {\r\n    confirmed: {\r\n      img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FConfirmed.svg?alt=media&token=60873b2f-26ed-4c14-b210-8f5467709e1c',\r\n      title: 'Confirmed',\r\n      body: \"Confirmed by U.S. Bank Records\",\r\n      titleStyle: defaultLegendTitleStyle,\r\n      bodyStyle: defaultLegendBodyStyle,\r\n      boxStyle: defaultLegendBoxStyle\r\n    },\r\n    internal: \r\n      {\r\n        img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FInternal.svg?alt=media&token=ea2ac9bf-5026-45ff-8074-0e5bd08b5e8a',\r\n        title: 'Internal',\r\n        body: \"Saimatis internal documents (spreadsheet)\",\r\n        titleStyle: defaultLegendTitleStyle,\r\n        bodyStyle: defaultLegendBodyStyle,\r\n        boxStyle: defaultLegendBoxStyle\r\n      },\r\n    bank: \r\n      {\r\n        img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FBank.svg?alt=media&token=cf2d58c9-c18e-48e1-9033-8739f85a66eb',\r\n        title: 'Bank transfer',\r\n        body: \"Scanned PDF of hard copies of bank transfer\",\r\n        titleStyle: defaultLegendTitleStyle,\r\n        bodyStyle: defaultLegendBodyStyle,\r\n        boxStyle: defaultLegendBoxStyle\r\n      },\r\n    electronic: \r\n      {\r\n        img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FElectronic.svg?alt=media&token=0a7b3d35-71a8-4f46-85a0-9bf681e7c2b0',\r\n        title: 'Electronic transfer',\r\n        body: \"Electronic PDF copies of bank transfer\",\r\n        titleStyle: defaultLegendTitleStyle,\r\n        bodyStyle: defaultLegendBodyStyle,\r\n        boxStyle: defaultLegendBoxStyle\r\n      },\r\n    customs: \r\n      {\r\n        img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FCustoms.svg?alt=media&token=71ecfae4-1c9e-459d-82a3-e8da707dbb9d',\r\n        title: 'Customs',\r\n        body: \"Customs declaration form as scanned PDF\",\r\n        titleStyle: defaultLegendTitleStyle,\r\n        bodyStyle: defaultLegendBodyStyle,\r\n        boxStyle: defaultLegendBoxStyle\r\n      }\r\n    },\r\n\r\n}\r\n\r\n\r\n// myJSON = JSON.stringify(tableOptions,null, 4);\r\nexport default tableOptions\r\n\r\n// export default tableOptions\r\n\r\n\r\n//     console.log(myJSON)\r\n//     console.log(typeof(myJSON))\r\n\r\n\r\n// let objJSON = JSON.parse(myJSON);\r\n//     console.log(objJSON)\r\n//     console.log(typeof(objJSON))    \r\n\r\n// let newJSON = JSON.stringify(objJSON,null, 4);\r\n//     console.log(newJSON)\r\n//     console.log(typeof(newJSON))","import React, { Component } from 'react'\r\nimport {\r\n  ComposableMap,\r\n  ZoomableGroup,\r\n  Geographies,\r\n  Geography,\r\n  Line,\r\n  Marker,\r\n  Annotation\r\n} from 'react-simple-maps'\r\n\r\n\r\nimport {\r\n  csv,\r\n  json,\r\n  nest,\r\n  sum,\r\n  extent,\r\n  scaleLinear,\r\n  line,\r\n  curveBasis\r\n} from 'd3'\r\n\r\nimport * as d3Geo from \"d3-geo\"\r\n\r\nimport config from '../config';\r\n\r\nconst { Set } = require('immutable');\r\n\r\nconst configURL = 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-map%2Fmap_config.json?alt=media&token=170acf67-7f33-4da3-ba43-e01b6620469a'\r\nconst geoUrl = 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-map%2Fcountries-110m.json?alt=media&token=94f12c4b-592b-46d9-8761-a20a94c09b20'\r\n\r\nconst { geoPath, ...projections } = d3Geo\r\n\r\nclass TransferMapComponent extends Component {\r\n\r\n  config = {};\r\n  countries = Set([]);\r\n  pairs = [];\r\n  capitals = {};\r\n  dataScaler = null;\r\n\r\n  state = {\r\n    ready: false,\r\n    conf: {},\r\n    data: [],\r\n    visibleCountries: Set([]),\r\n    visiblePairs: [],\r\n    focusCountry: null\r\n  }\r\n\r\n  makeProjection = ({\r\n                      projectionConfig = {},\r\n                      projection = \"geoEqualEarth\",\r\n                      width = 800,\r\n                      height = 600,\r\n                    }) => {\r\n    const isFunc = typeof projection === \"function\"\r\n\r\n    if (isFunc) return projection\r\n\r\n    let proj = projections[projection]()\r\n      .translate([width / 2, height / 2])\r\n\r\n    const supported = [\r\n      proj.center ? \"center\" : null,\r\n      proj.rotate ? \"rotate\" : null,\r\n      proj.scale ? \"scale\" : null,\r\n      proj.parallels ? \"parallels\" : null,\r\n    ]\r\n\r\n    supported.forEach(d => {\r\n      if (!d) return\r\n      proj = proj[d](projectionConfig[d] || proj[d]())\r\n    })\r\n\r\n    return proj\r\n  }\r\n\r\n  extractCountries = (table) => {\r\n    table.forEach(row => {\r\n      this.countries = this.countries.add(row.from_country)\r\n      this.countries = this.countries.add(row.to_country)\r\n    })\r\n  }\r\n\r\n  nestPairs = (data) => {\r\n    return nest()\r\n      .key(d => d.from_country)\r\n      .key(d => d.to_country)\r\n      .rollup(value => {\r\n        return {\r\n          count: value.length,\r\n          total: sum(value, d => d.amount)\r\n        }\r\n    })\r\n      .entries(data)\r\n  }\r\n\r\n  countryClickHandler = (country) => {\r\n    console.log('country click')\r\n    if (this.countries.has(country)) {\r\n      this.setState({\r\n        focusCountry: country\r\n      })\r\n      this.props.handleCountryClick(country)\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.resetMap !== this.props.resetMap && this.props.resetMap) {\r\n      this.setState({focusCountry: null})\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    json(config.mapOptions.capitals, c => c)\r\n      .then(capitals => {\r\n        const table = this.props.data.map(row => {\r\n          return {\r\n            from_country: row[config.columns.fromCountry.field],\r\n            to_country: row[config.columns.country.field],\r\n            amount: row[config.columns.amount.field]\r\n          }\r\n        })\r\n        this.extractCountries(table)\r\n        this.pairs = this.nestPairs(table);\r\n        const totals = []\r\n        this.pairs.forEach(d => d.values.forEach(t => {\r\n          totals.push(t.value.total)\r\n        }))\r\n        console.log(this.pairs)\r\n        this.dataScaler = scaleLinear()\r\n          .domain(extent(totals))\r\n          .range([1, 5])\r\n        this.capitals = nest()\r\n          .key(d => d.name)\r\n          .map(capitals)\r\n        console.log(this.capitals)\r\n        this.setState({\r\n          data: table,\r\n          ready: true,\r\n          visibleCountries: this.countries,\r\n          visiblePairs: this.pairs\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n\r\n    let all = null;\r\n    if (this.state.ready) {\r\n      const proj = projections[\"geoEqualEarth\"]().rotate([-40, 0]).scale(180)\r\n      all = (\r\n        <div style={{\r\n          borderTop: '2px solid #931e1d',\r\n          paddingTop: '25px'\r\n        }}>\r\n          <ComposableMap projection={proj}\r\n          onClick={this.handleCountryClick}>\r\n            <Geographies geography={geoUrl}>\r\n              {({ geographies }) =>\r\n                geographies.map(geo => {\r\n                  const c = this.state.visibleCountries.has(geo.properties.name);\r\n                  const focusCountry = (this.state.focusCountry === geo.properties.name);\r\n                  let countryFill = config.mapOptions.passive_color;\r\n                  let hover = {outline: \"none\"};\r\n                  if (focusCountry) {\r\n                    countryFill = config.mapOptions.focus_color\r\n                  } else if (c) {\r\n                    countryFill = config.mapOptions.active_color\r\n                    hover = {outline: \"none\", cursor:\"pointer\"}\r\n                  };\r\n                return (\r\n                  <Geography\r\n                    key={geo.rsmKey}\r\n                    geography={geo}\r\n                    onClick={() => this.countryClickHandler(geo.properties.name)}\r\n                    stroke='#FFF'\r\n                    fill={countryFill}\r\n                    style={{\r\n                      default: {outline: \"none\"},\r\n                      hover: hover,\r\n                      pressed: {outline: \"none\"},\r\n                    }}\r\n                  />\r\n                )\r\n              })}\r\n            </Geographies>\r\n\r\n            {this.state.visiblePairs.map(fromCountry =>\r\n              fromCountry.values.map(toCountry => {\r\n                let x = this.capitals.get(toCountry.key)[0].latlng.slice().reverse()[0] - 2\r\n                let y = this.capitals.get(toCountry.key)[0].latlng.slice().reverse()[1] + 0.5\r\n                return <Marker\r\n\r\n                  coordinates={[x, y]}>\r\n                  <g transform=\"translate(-2, -3)\">\r\n                    <g>\r\n                      <image width=\"17\" height=\"11\" transform=\"translate(-1)\"\r\n                             href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAALCAYAAACZIGYHAAABAklEQVQoU63SOUtEQRAE4G+9bxA8MBHFTM0EM03M/MGGBpoZmKiZgZiIGggeKK4Xtcw8HrKJYEPTPQNVXV0zHf8QnT4cuRtoZc7fJT/xVfoG2iZJP4IJTJYcxxA+8IqXVnYrWSVJDWABq1gu/QyGEcAjbnGNq9K/haiSZFoItrCDdcwXNYNlhWfc4QLHOMV9VFaSTMv0PexjE7NlvfgTH97xgDMc4LCo6raVLGIbu9jAXPEnSmJoPMnkcxzhpChrlIQshi5hDStlnemWsXWd+HGJm0LceJLnCtFo8SHgKYyhKomJIXoqNevl6XvA35G7AONFav0n9Y+k9sA1+pH8+Q//AP87QAx5oVJdAAAAAElFTkSuQmCC\"/>\r\n                    </g>\r\n                    <g>\r\n                      <path fill=\"#fff\"\r\n                            d=\"M12.122 4.664c0 1.035-2.12 1.874-4.735 1.874-2.616 0-4.737-.839-4.737-1.874 0-1.035 2.121-1.874 4.737-1.874 2.615 0 4.735.839 4.735 1.874\"/>\r\n                    </g>\r\n                    <g>\r\n                      <path fill=\"none\" stroke=\"#666\" stroke-miterlimit=\"20\" stroke-width=\".25\"\r\n                            d=\"M12.122 4.664c0 1.035-2.12 1.874-4.735 1.874-2.616 0-4.737-.839-4.737-1.874 0-1.035 2.121-1.874 4.737-1.874 2.615 0 4.735.839 4.735 1.874z\"/>\r\n                    </g>\r\n                  </g>\r\n                </Marker>\r\n\r\n            })\r\n            )}\r\n           \r\n            {this.state.visiblePairs.map(fromCountry =>\r\n              fromCountry.values.map(toCountry => {\r\n                const from=this.capitals.get(fromCountry.key)[0].latlng.slice().reverse()\r\n                const to=this.capitals.get(toCountry.key)[0].latlng.slice().reverse()\r\n                const fromAbs = proj(from)\r\n                const toAbs = proj(to)\r\n                const dx = toAbs[0] - fromAbs[0]\r\n                const dy = toAbs[1] - fromAbs[1]\r\n                const connectorProps = {\r\n                  stroke: \"#931e1d\",\r\n                  strokeWidth: this.dataScaler(toCountry.value.total),\r\n                  strokeLinecap: \"butt\",\r\n                  markerStart: \"url(#triangle)\"\r\n                }\r\n                //const connectorPath = `M${0}, ${0} l${-dx},${-dy}`\r\n                return <Annotation\r\n                  subject={from}\r\n                  dx={dx}\r\n                  dy={dy}\r\n                  connectorProps={connectorProps}\r\n                >\r\n                  {/*<path d={connectorPath} {...connectorProps}/>*/}\r\n\r\n                  <defs>\r\n\r\n                    <marker id=\"triangle\" viewBox=\"0 0 10 10\"\r\n                            refX=\"3\" refY=\"5\"\r\n                            markerUnits=\"strokeWidth\"\r\n                            markerWidth=\"2.5\" markerHeight=\"5\"\r\n                            orient=\"auto\">\r\n                      <path d=\"M 10 0 L 10 10 L 0 5 z\" fill=\"#931e1d\"/>\r\n                    </marker>\r\n                  </defs>\r\n                </Annotation>\r\n            })\r\n            )}\r\n\r\n            {this.state.visiblePairs.map(fromCountry =>\r\n              fromCountry.values.map(toCountry => {\r\n                return <Marker\r\n                  coordinates={this.capitals.get(toCountry.key)[0].latlng.slice().reverse()}\r\n                >\r\n\r\n                  <defs>\r\n                    <mask id=\"k4zgb\" width=\"2\" height=\"2\" x=\"-1\" y=\"-1\">\r\n                      <path fill=\"#fff\" d=\"M2 1h104v39H2z\"/>\r\n                      <path d=\"M2 1h104v34H59l-5 5-5-5H2z\"/>\r\n                    </mask>\r\n                    <filter id=\"k4zga\" width=\"128\" height=\"64\" x=\"-10\" y=\"-11\" filterUnits=\"userSpaceOnUse\">\r\n                      <feOffset dy=\"1\" in=\"SourceGraphic\" result=\"FeOffset1023Out\"/>\r\n                      <feGaussianBlur in=\"FeOffset1023Out\" result=\"FeGaussianBlur1024Out\" stdDeviation=\"0.8 0.8\"/>\r\n                    </filter>\r\n                    <clipPath id=\"k4zgc\">\r\n                      <path fill=\"#fff\" d=\"M2 1h104v34H59l-5 5-5-5H2z\"/>\r\n                    </clipPath>\r\n                  </defs>\r\n                  <g\r\n                    transform=\"translate(-54, -45)\"\r\n                  >\r\n                    <g>\r\n                      <g filter=\"url(#k4zga)\">\r\n                        <path fill=\"none\" d=\"M2 1h104v34H59l-5 5-5-5H2z\" mask=\"url(&quot;#k4zgb&quot;)\"/>\r\n                        <path fill-opacity=\".35\" d=\"M2 1h104v34H59l-5 5-5-5H2z\"/>\r\n                      </g>\r\n                      <path fill=\"#931e1d\" d=\"M2 1h104v34H59l-5 5-5-5H2z\"/>\r\n                      <path fill=\"none\" stroke=\"#fff\" stroke-miterlimit=\"20\" stroke-width=\"2\"\r\n                            d=\"M2 1h104v34H59l-5 5-5-5H2z\" clip-path=\"url(&quot;#k4zgc&quot;)\"/>\r\n                    </g>\r\n                  </g>\r\n\r\n                  <text\r\n                    textAnchor=\"middle\"\r\n                    y={-30}\r\n                    style={config.mapOptions.label_text_style}\r\n                  >\r\n                    {('$' + toCountry.value.total.toLocaleString(('en-US')) + '\\n')}\r\n                  </text>\r\n                  <text\r\n                    textAnchor=\"middle\"\r\n                    y={-15}\r\n                    style={config.mapOptions.label_text_style}\r\n                  >\r\n                    {(toCountry.value.count + ' ' + 'transactions')}\r\n                  </text>\r\n                </Marker>\r\n\r\n              })\r\n            )}\r\n          </ComposableMap>\r\n        </div>\r\n      );\r\n    }\r\n    return(\r\n      <div>\r\n        {all}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TransferMapComponent;","/* eslint-disable no-unused-vars */\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FilterIcon from '@material-ui/icons/FilterList';\r\nimport * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, TimePicker, DatePicker, DateTimePicker } from '@material-ui/pickers';\r\nimport { Button } from '@material-ui/core';\r\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker';\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250\r\n    }\r\n  }\r\n};\r\n\r\nclass MTableFilterRow extends React.Component {\r\n  getLocalizationData = () => ({ ...MTableFilterRow.defaultProps.localization, ...this.props.localization });\r\n  getLocalizedFilterPlaceHolder = columnDef => columnDef.filterPlaceholder || this.getLocalizationData().filterPlaceHolder || \"\";\r\n\r\n  renderLookupFilter = (columnDef) => (\r\n    <FormControl style={{ width: '100%' }}>\r\n      <InputLabel htmlFor=\"select-multiple-checkbox\" style={{marginTop: -16}}>{this.getLocalizedFilterPlaceHolder(columnDef)}</InputLabel>\r\n      <Select\r\n        multiple\r\n        value={columnDef.tableData.filterValue || []}\r\n        onChange={event => {\r\n          this.props.onFilterChanged(columnDef.tableData.id, event.target.value);\r\n        }}\r\n        input={<Input id=\"select-multiple-checkbox\" />}\r\n        renderValue={selecteds => selecteds.map(selected => columnDef.lookup[selected]).join(', ')}\r\n        MenuProps={MenuProps}\r\n        style={{marginTop: 0}}\r\n      >\r\n        {\r\n          Object.keys(columnDef.lookup).map(key => (\r\n            <MenuItem key={key} value={key}>\r\n              <Checkbox checked={columnDef.tableData.filterValue ? columnDef.tableData.filterValue.indexOf(key.toString()) > -1 : false} />\r\n              <ListItemText primary={columnDef.lookup[key]} />\r\n            </MenuItem>\r\n          ))\r\n        }\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n  renderFilterComponent = (columnDef) => (\r\n    React.createElement(columnDef.filterComponent, { columnDef: columnDef, onFilterChanged: this.props.onFilterChanged })\r\n  )\r\n\r\n  renderBooleanFilter = (columnDef) => (\r\n    <Checkbox\r\n      indeterminate={columnDef.tableData.filterValue === undefined}\r\n      checked={columnDef.tableData.filterValue === 'checked'}\r\n      onChange={() => {\r\n        let val;\r\n        if (columnDef.tableData.filterValue === undefined) {\r\n          val = 'checked';\r\n        } else if (columnDef.tableData.filterValue === 'checked') {\r\n          val = 'unchecked';\r\n        }\r\n\r\n        this.props.onFilterChanged(columnDef.tableData.id, val);\r\n      }}\r\n    />\r\n  )\r\n\r\n  renderDefaultFilter = (columnDef) => {\r\n    const localization = this.getLocalizationData();\r\n    const FilterIcon = this.props.icons.Filter;\r\n    return (\r\n      <TextField\r\n        style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        value={columnDef.tableData.filterValue || ''}\r\n        placeholder={this.getLocalizedFilterPlaceHolder(columnDef)}\r\n        onChange={(event) => {\r\n          this.props.onFilterChanged(columnDef.tableData.id, event.target.value);\r\n        }}\r\n        inputProps={{'aria-label': `filter data by ${columnDef.title}`}}\r\n        InputProps={this.props.hideFilterIcons || columnDef.hideFilterIcon ? undefined : {\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Tooltip title={localization.filterTooltip}>\r\n                <FilterIcon/>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          )\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDateTypeFilter = (columnDef) => {\r\n    const onDateInputChange = date => this.props.onFilterChanged(columnDef.tableData.id, date);\r\n    const pickerProps = {\r\n      value: columnDef.tableData.filterValue || null,\r\n      onChange: onDateInputChange,\r\n      placeholder: this.getLocalizedFilterPlaceHolder(columnDef),\r\n      clearable: true\r\n    };\r\n\r\n    let dateInputElement = null;\r\n    if (columnDef.type === 'date') {\r\n      dateInputElement = (\r\n        <DatePicker {...pickerProps} />\r\n      );\r\n    } else if (columnDef.type === 'datetime') {\r\n      dateInputElement = (\r\n        <DateTimePicker {...pickerProps} />\r\n      );\r\n    } else if (columnDef.type === 'time') {\r\n      dateInputElement = (\r\n        <TimePicker {...pickerProps} />\r\n      );\r\n    }\r\n    return (\r\n      <MuiPickersUtilsProvider\r\n        utils={DateFnsUtils}\r\n        locale={this.props.localization.dateTimePickerLocalization}>\r\n        {dateInputElement}\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n\r\n  renderDateRangeTypeFilter = (columnDef) => {\r\n    return(\r\n      <DateRangePicker\r\n        onChange={(dateRange) => {\r\n          console.log('on change')\r\n          const value = {...columnDef.tableData.filterValue};\r\n          console.log(value)\r\n          value.dateRange = dateRange\r\n          this.props.dateRangeChange(dateRange)\r\n          this.props.onFilterChanged(columnDef.tableData.id, value);\r\n        }}\r\n        value={this.props.dateRange}\r\n\t\t\t/>\r\n    )\r\n  }\r\n\r\n\r\n  renderAmountRangeTypeFilter = (columnDef) => {\r\n    return (\r\n      <>\r\n      <TextField\r\n        style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        value={_.get(columnDef, ['tableData', 'filterValue', 'greaterThan']) || ''}\r\n        placeholder={columnDef.filterPlaceholder || ''}\r\n        onChange={(event) => {\r\n          console.log('on change')\r\n          const value = {...columnDef.tableData.filterValue};\r\n          console.log(value)\r\n          value.greaterThan = event.target.value;\r\n          this.props.onFilterChanged(columnDef.tableData.id, value);\r\n        }}\r\n        InputProps={columnDef.hideFilterIcon ? undefined : {\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Tooltip title=\"Filter greater than\">\r\n                <div style={{display: 'flex'}}>\r\n                  <FilterIcon />\r\n                  <Typography>{'>'}</Typography>\r\n                </div>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          )\r\n        }}\r\n      />\r\n      <TextField\r\n        style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        value={_.get(columnDef, ['tableData', 'filterValue', 'lessThan']) || ''}\r\n        placeholder={columnDef.filterPlaceholder || ''}\r\n        onChange={(event) => {\r\n          const value = {...columnDef.tableData.filterValue};\r\n          value.lessThan = event.target.value;\r\n          this.props.onFilterChanged(columnDef.tableData.id, value);\r\n        }}\r\n        InputProps={columnDef.hideFilterIcon ? undefined : {\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Tooltip title=\"Filter less than\">\r\n                <div style={{display: 'flex'}}>\r\n                  <FilterIcon />\r\n                  <Typography>{'<'}</Typography>\r\n                </div>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          )\r\n        }}\r\n      />\r\n      </>\r\n    );\r\n  }\r\n\r\n  getComponentForColumn(columnDef) {\r\n    if (columnDef.filtering === false) {\r\n      return null;\r\n    }\r\n\r\n    if (columnDef.field || columnDef.customFilterAndSearch) {\r\n      if (columnDef.filterComponent) {\r\n        return this.renderFilterComponent(columnDef);\r\n      } else if (columnDef.lookup) {\r\n        return this.renderLookupFilter(columnDef);\r\n      } else if (columnDef.type === 'boolean') {\r\n        return this.renderBooleanFilter(columnDef);\r\n      } else if (['date', 'datetime', 'time'].includes(columnDef.type)) {\r\n        return this.renderDateTypeFilter(columnDef);\r\n      } else if (columnDef.type === 'number_range'){\r\n        return this.renderAmountRangeTypeFilter(columnDef)\r\n      } else if (columnDef.type === 'date_range') {\r\n        return this.renderDateRangeTypeFilter(columnDef)\r\n      } else {\r\n        return this.renderDefaultFilter(columnDef);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const columns = this.props.columns\r\n      .filter(columnDef => columnDef.filtering && !(columnDef.tableData.groupOrder > -1))\r\n      .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n      .map(columnDef => (\r\n        <TableCell key={columnDef.tableData.id} style={{ ...this.props.filterCellStyle, ...columnDef.filterCellStyle }}>\r\n          {this.getComponentForColumn(columnDef)}\r\n        </TableCell>\r\n      ));\r\n\r\n    if (this.props.selection) {\r\n      columns.splice(0, 0, <TableCell padding=\"none\" key=\"key-selection-column\" />);\r\n    }\r\n\r\n    if (this.props.hasActions) {\r\n      if (this.props.actionsColumnIndex === -1) {\r\n        columns.push(<TableCell key=\"key-action-column\" />);\r\n      } else {\r\n        let endPos = 0;\r\n        if (this.props.selection) {\r\n          endPos = 1;\r\n        }\r\n        columns.splice(this.props.actionsColumnIndex + endPos, 0, <TableCell key=\"key-action-column\" />);\r\n      }\r\n    }\r\n\r\n    if (this.props.hasDetailPanel) {\r\n      columns.splice(0, 0, <TableCell padding=\"none\" key=\"key-detail-panel-column\" />);\r\n    }\r\n\r\n    if (this.props.isTreeData > 0) {\r\n      columns.splice(0, 0,\r\n        <TableCell\r\n          padding=\"none\"\r\n          key={\"key-tree-data-filter\"}\r\n        />\r\n      );\r\n    }\r\n\r\n    ///////////  ///////////\r\n\r\n    columns.push(\r\n    <TableCell key={\"filters-reset-button\"}>\r\n      <button className={\"filters-reset-button\"} \r\n        onClick={this.props.resetFilters}\r\n        style={{\r\n          backgroundColor: 'Transparent',\r\n          backgroundRepeat:'no-repeat',\r\n          border: 'none',\r\n          cursor:'pointer',\r\n          overflow: 'hidden',\r\n          outline:'none',\r\n          // position: 'absolute',\r\n          // right: 0,\r\n        }} ><Typography variant=\"body2\" style={{width: \"96px\", fontFamily: \"Open Sans\",}}>Reset all filters</Typography>\r\n      </button>\r\n    </TableCell>\r\n    );\r\n    \r\n    ///////////  ///////////\r\n    \r\n\r\n\r\n    this.props.columns\r\n      .filter(columnDef => columnDef.tableData.groupOrder > -1)\r\n      .forEach(columnDef => {\r\n        columns.splice(0, 0, <TableCell padding=\"checkbox\" key={\"key-group-filter\" + columnDef.tableData.id} />);\r\n      });\r\n\r\n    return (\r\n      <TableRow style={{ height: 10 }}>\r\n        {columns}\r\n      </TableRow>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nMTableFilterRow.defaultProps = {\r\n  columns: [],\r\n  selection: false,\r\n  hasActions: false,\r\n  localization: {\r\n    filterTooltip: 'Filter'\r\n  },\r\n  hideFilterIcons: false,\r\n};\r\n\r\nMTableFilterRow.propTypes = {\r\n  columns: PropTypes.array.isRequired,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  isTreeData: PropTypes.bool.isRequired,\r\n  onFilterChanged: PropTypes.func.isRequired,\r\n  filterCellStyle: PropTypes.object,\r\n  selection: PropTypes.bool.isRequired,\r\n  actionsColumnIndex: PropTypes.number,\r\n  hasActions: PropTypes.bool,\r\n  localization: PropTypes.object,\r\n  hideFilterIcons: PropTypes.bool,\r\n};\r\n\r\nexport default MTableFilterRow;\r\n","/* eslint-disable no-unused-vars */\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTableBody extends React.Component {\r\n\r\n  state = {dataForSum: this.props.renderData} //    \r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.renderData !== this.props.renderData)\r\n    {\r\n      this.props.getFilteredData()\r\n      this.props.getNumOfRowsOnPage(this.props.renderData.length)\r\n    }\r\n  } //    \r\n\r\n  renderEmpty(emptyRowCount, renderData) {\r\n    const rowHeight = this.props.options.padding === 'default' ? 49 : 36;\r\n    const localization = { ...MTableBody.defaultProps.localization, ...this.props.localization };\r\n    if (this.props.options.showEmptyDataSourceMessage && renderData.length === 0) {\r\n      let addColumn = 0;\r\n      if (this.props.options.selection) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.actions && this.props.actions.filter(a => a.position === \"row\" || typeof a === \"function\").length > 0) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.hasDetailPanel) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.isTreeData) {\r\n        addColumn++;\r\n      }\r\n      return (\r\n        <TableRow style={{ height: rowHeight * (this.props.options.paging && this.props.options.emptyRowsWhenPaging ? this.props.pageSize : 1) }} key={'empty-' + 0} >\r\n          <TableCell style={{ paddingTop: 0, paddingBottom: 0, textAlign: 'center' }} colSpan={this.props.columns.length + addColumn} key=\"empty-\">\r\n            {localization.emptyDataSourceMessage}\r\n          </TableCell>\r\n        </TableRow>\r\n      );\r\n    } else if (this.props.options.emptyRowsWhenPaging) {\r\n      return (\r\n        <React.Fragment>\r\n          {[...Array(emptyRowCount)].map((r, index) => <TableRow style={{ height: rowHeight }} key={'empty-' + index} />)}\r\n          {emptyRowCount > 0 && <TableRow style={{ height: 1 }} key={'empty-last1'} />}\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderUngroupedRows(renderData) {\r\n    return renderData.map((data, index) => {\r\n      if (data.tableData.editing) {\r\n        return (\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            components={this.props.components}\r\n            data={data}\r\n            icons={this.props.icons}\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow, dateTimePickerLocalization: this.props.localization.dateTimePickerLocalization }}\r\n            key={index}\r\n            mode={data.tableData.editing}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        );\r\n      }\r\n      else {\r\n        return (\r\n          <this.props.components.Row\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            data={data}\r\n            index={index}\r\n            key={\"row-\" + data.tableData.id}\r\n            level={0}\r\n            options={this.props.options}\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            onRowSelected={this.props.onRowSelected}\r\n            actions={this.props.actions}\r\n            columns={this.props.columns}\r\n            getFieldValue={this.props.getFieldValue}\r\n            detailPanel={this.props.detailPanel}\r\n            path={[index + this.props.pageSize * this.props.currentPage]}\r\n            onToggleDetailPanel={this.props.onToggleDetailPanel}\r\n            onRowClick={this.props.onRowClick}\r\n            isTreeData={this.props.isTreeData}\r\n            onTreeExpandChanged={this.props.onTreeExpandChanged}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n            treeDataMaxLevel={this.props.treeDataMaxLevel}\r\n          />\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  renderGroupedRows(groups, renderData) {\r\n    return renderData.map((groupData, index) => (\r\n      <this.props.components.GroupRow\r\n        actions={this.props.actions}\r\n        key={groupData.value == null ? ('' + index) : groupData.value}\r\n        columns={this.props.columns}\r\n        components={this.props.components}\r\n        detailPanel={this.props.detailPanel}\r\n        getFieldValue={this.props.getFieldValue}\r\n        groupData={groupData}\r\n        groups={groups}\r\n        icons={this.props.icons}\r\n        level={0}\r\n        path={[index + this.props.pageSize * this.props.currentPage]}\r\n        onGroupExpandChanged={this.props.onGroupExpandChanged}\r\n        onRowSelected={this.props.onRowSelected}\r\n        onRowClick={this.props.onRowClick}\r\n        onEditingCanceled={this.props.onEditingCanceled}\r\n        onEditingApproved={this.props.onEditingApproved}\r\n        onToggleDetailPanel={this.props.onToggleDetailPanel}\r\n        onTreeExpandChanged={this.props.onTreeExpandChanged}\r\n        options={this.props.options}\r\n        isTreeData={this.props.isTreeData}\r\n        hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n        localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n      />\r\n    ));\r\n  }\r\n\r\n\r\n  render() {\r\n    let renderData = this.props.renderData;\r\n    const groups = this.props.columns\r\n      .filter(col => col.tableData.groupOrder > -1)\r\n      .sort((col1, col2) => col1.tableData.groupOrder - col2.tableData.groupOrder);\r\n\r\n    let emptyRowCount = 0;\r\n    if (this.props.options.paging) {\r\n      emptyRowCount = this.props.pageSize - renderData.length;\r\n    }\r\n\r\n    return (\r\n      <TableBody>\r\n        {this.props.options.filtering &&\r\n          <this.props.components.FilterRow\r\n            columns={this.props.columns}\r\n            // columns={this.props.columns.filter(columnDef => !columnDef.hidden)} //  \r\n            icons={this.props.icons}\r\n            hasActions={this.props.actions.filter(a => a.position === \"row\" || typeof a === \"function\").length > 0}\r\n            actionsColumnIndex={this.props.options.actionsColumnIndex}\r\n            onFilterChanged={this.props.onFilterChanged}\r\n            selection={this.props.options.selection}\r\n            localization={{ ...MTableBody.defaultProps.localization.filterRow, ...this.props.localization.filterRow, dateTimePickerLocalization: this.props.localization.dateTimePickerLocalization }}\r\n            hasDetailPanel={!!this.props.detailPanel}\r\n            isTreeData={this.props.isTreeData}\r\n            filterCellStyle={this.props.options.filterCellStyle}\r\n            hideFilterIcons={this.props.options.hideFilterIcons}\r\n            resetFilters={this.props.resetFilters} //    \r\n          />\r\n        }\r\n\r\n        {this.props.showAddRow && this.props.options.addRowPosition === \"first\" &&\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            data={this.props.initialFormData}\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            key=\"key-add-row\"\r\n            mode=\"add\"\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        }\r\n\r\n        {groups.length > 0 ?\r\n          this.renderGroupedRows(groups, renderData) :\r\n          this.renderUngroupedRows(renderData)\r\n        }\r\n\r\n        {this.props.showAddRow && this.props.options.addRowPosition === \"last\" &&\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            data={this.props.initialFormData}\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            key=\"key-add-row\"\r\n            mode=\"add\"\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        }\r\n        {this.renderEmpty(emptyRowCount, renderData)}\r\n      </TableBody>\r\n    );\r\n  }\r\n}\r\n\r\nMTableBody.defaultProps = {\r\n  actions: [],\r\n  currentPage: 0,\r\n  pageSize: 5,\r\n  renderData: [],\r\n  selection: false,\r\n  localization: {\r\n    emptyDataSourceMessage: 'No records to display',\r\n    filterRow: {},\r\n    editRow: {}\r\n  }\r\n};\r\n\r\nMTableBody.propTypes = {\r\n  actions: PropTypes.array,\r\n  components: PropTypes.object.isRequired,\r\n  columns: PropTypes.array.isRequired,\r\n  currentPage: PropTypes.number,\r\n  detailPanel: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.func]))]),\r\n  getFieldValue: PropTypes.func.isRequired,\r\n  hasAnyEditingRow: PropTypes.bool,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  icons: PropTypes.object.isRequired,\r\n  isTreeData: PropTypes.bool.isRequired,\r\n  onRowSelected: PropTypes.func,\r\n  options: PropTypes.object.isRequired,\r\n  pageSize: PropTypes.number,\r\n  renderData: PropTypes.array,\r\n  initialFormData: PropTypes.object,\r\n  selection: PropTypes.bool.isRequired,\r\n  showAddRow: PropTypes.bool,\r\n  treeDataMaxLevel: PropTypes.number,\r\n  localization: PropTypes.object,\r\n  onFilterChanged: PropTypes.func,\r\n  onGroupExpandChanged: PropTypes.func,\r\n  onToggleDetailPanel: PropTypes.func.isRequired,\r\n  onTreeExpandChanged: PropTypes.func.isRequired,\r\n  onRowClick: PropTypes.func,\r\n  onEditingCanceled: PropTypes.func,\r\n  onEditingApproved: PropTypes.func,\r\n};\r\n\r\nexport default MTableBody;\r\n","/* eslint-disable no-unused-vars */\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\r\nimport classNames from 'classnames';\r\nimport { CsvBuilder } from 'filefy';\r\nimport PropTypes, { oneOf } from 'prop-types';\r\nimport * as React from 'react';\r\nimport { Box } from '@material-ui/core';\r\n/* eslint-enable no-unused-vars */\r\n\r\nexport class MTableToolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columnsButtonAnchorEl: null,\r\n      exportButtonAnchorEl: null,\r\n      searchText: ''\r\n    };\r\n  }\r\n\r\n  onSearchChange = searchText => {\r\n    this.props.dataManager.changeSearchText(searchText);\r\n    this.setState(({ searchText }), this.props.onSearchChanged(searchText));\r\n  }\r\n\r\n  defaultExportCsv = () => {\r\n    const columns = this.props.columns\r\n      .filter(columnDef => {\r\n        return !columnDef.hidden && columnDef.field && columnDef.export !== false;\r\n      })\r\n      .sort((a, b) => (a.tableData.columnOrder > b.tableData.columnOrder) ? 1 : -1);\r\n    const dataToExport = this.props.exportAllData ? this.props.data : this.props.renderData;\r\n    const data = dataToExport.map(rowData =>\r\n      columns.map(columnDef => {\r\n        return this.props.getFieldValue(rowData, columnDef);\r\n      })\r\n    );\r\n\r\n    const builder = new CsvBuilder((this.props.exportFileName || this.props.title || 'data') + '.csv');\r\n    builder\r\n      .setDelimeter(this.props.exportDelimiter)\r\n      .setColumns(columns.map(columnDef => columnDef.title))\r\n      .addRows(data)\r\n      .exportFile();\r\n  }\r\n\r\n  exportCsv = () => {\r\n    if (this.props.exportCsv) {\r\n      this.props.exportCsv(this.props.columns, this.props.data);\r\n    } else {\r\n      this.defaultExportCsv();\r\n    }\r\n    this.setState({ exportButtonAnchorEl: null });\r\n  }\r\n\r\n  renderSearch() {\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    if (this.props.search) {\r\n      return (\r\n        <Box width={'1000%'} >\r\n        <TextField\r\n          autoFocus={this.props.searchAutoFocus}\r\n          className={this.props.searchFieldAlignment === 'left' && this.props.showTitle === false ? null : this.props.classes.searchField}\r\n          value={this.state.searchText}\r\n          onChange={event => this.onSearchChange(event.target.value)}\r\n          placeholder={localization.searchPlaceholder}\r\n          variant={this.props.searchFieldVariant}\r\n          fullWidth\r\n          InputProps={{\r\n            disableUnderline: true,\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <Tooltip title={localization.searchTooltip}>\r\n                  <this.props.icons.Search color=\"inherit\" fontSize=\"small\" />\r\n                </Tooltip>\r\n              </InputAdornment>\r\n            ),\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  disabled={!this.state.searchText}\r\n                  onClick={() => this.onSearchChange(\"\")}\r\n                >\r\n                  <this.props.icons.ResetSearch color=\"inherit\" fontSize=\"small\" />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n            style: this.props.searchFieldStyle, \r\n            inputProps: {\r\n              'aria-label': \"Search\"\r\n            }\r\n          }}\r\n        /></Box>\r\n      );\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  renderDefaultActions() {\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {this.props.columnsButton &&\r\n          <span>\r\n            <Tooltip title={localization.showColumnsTitle}>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={event => this.setState({ columnsButtonAnchorEl: event.currentTarget })}\r\n                aria-label={localization.showColumnsAriaLabel}>\r\n\r\n                <this.props.icons.ViewColumn />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n              anchorEl={this.state.columnsButtonAnchorEl}\r\n              open={Boolean(this.state.columnsButtonAnchorEl)}\r\n              onClose={() => this.setState({ columnsButtonAnchorEl: null })}>\r\n              <MenuItem key={\"text\"} disabled style={{ opacity: 1, fontWeight: 600, fontSize: 12 }}>\r\n                {localization.addRemoveColumns}\r\n              </MenuItem>\r\n              {\r\n                this.props.columns.map((col) => {\r\n                  return (\r\n                    <li key={col.tableData.id}>\r\n                      <MenuItem\r\n                        className={classes.formControlLabel}\r\n                        component=\"label\"\r\n                        htmlFor={`column-toggle-${col.tableData.id}`}\r\n                        disabled={col.removable === false}\r\n                      >\r\n                        <Checkbox\r\n                          checked={!col.hidden}\r\n                          id={`column-toggle-${col.tableData.id}`}\r\n                          onChange={() => this.props.onColumnsChanged(col, !col.hidden)}\r\n                        />\r\n                        <span>{col.title}</span>\r\n                      </MenuItem>\r\n                    </li>\r\n                  );\r\n                })\r\n              }\r\n            </Menu>\r\n          </span>\r\n        }\r\n        {this.props.exportButton &&\r\n          <span>\r\n            <Tooltip title={localization.exportTitle}>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={event => this.setState({ exportButtonAnchorEl: event.currentTarget })}\r\n                aria-label={localization.exportAriaLabel}>\r\n                <this.props.icons.Export />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n              anchorEl={this.state.exportButtonAnchorEl}\r\n              open={Boolean(this.state.exportButtonAnchorEl)}\r\n              onClose={() => this.setState({ exportButtonAnchorEl: null })}\r\n            >\r\n              <MenuItem key=\"export-csv\" onClick={this.exportCsv}>\r\n                {localization.exportName}\r\n              </MenuItem>\r\n            </Menu>\r\n          </span>\r\n\r\n        }\r\n        <span>\r\n          <this.props.components.Actions actions={this.props.actions && this.props.actions.filter(a => a.position === \"toolbar\")} components={this.props.components} />\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSelectedActions() {\r\n    return (\r\n      <React.Fragment>\r\n        <this.props.components.Actions actions={this.props.actions.filter(a => a.position === \"toolbarOnSelect\")} data={this.props.selectedRows} components={this.props.components} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  renderActions() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.actions}>\r\n        <div>\r\n          {this.props.selectedRows && this.props.selectedRows.length > 0\r\n            ? this.renderSelectedActions()\r\n            : this.renderDefaultActions()\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderToolbarTitle(title) {\r\n    const { classes } = this.props;\r\n    const toolBarTitle = (typeof title === 'string') ? <Typography variant='h6' style={{\r\n      whiteSpace: 'nowrap',\r\n      overflow: 'hidden',\r\n      textOverflow: 'ellipsis'\r\n    }}>{title}</Typography> : title;\r\n\r\n    return (\r\n      <div className={classes.title}>\r\n        {toolBarTitle}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    const title = this.props.showTextRowsSelected && this.props.selectedRows && this.props.selectedRows.length > 0 ? localization.nRowsSelected.replace('{0}', this.props.selectedRows.length) : this.props.showTitle ? this.props.title : null;\r\n    return (\r\n      <Toolbar style={{marginTop: -9}} className={classNames(classes.root, { [classes.highlight]: this.props.showTextRowsSelected && this.props.selectedRows && this.props.selectedRows.length > 0 })}>\r\n        {title && this.renderToolbarTitle(title)}\r\n        {this.props.searchFieldAlignment === 'left' && this.renderSearch()}\r\n        {this.props.toolbarButtonAlignment === 'left' && this.renderActions()}\r\n        <div className={classes.spacer} />\r\n        {this.props.searchFieldAlignment === 'right' && this.renderSearch()}\r\n        {this.props.toolbarButtonAlignment === 'right' && this.renderActions()}\r\n      </Toolbar >\r\n    );\r\n  }\r\n}\r\n\r\nMTableToolbar.defaultProps = {\r\n  actions: [],\r\n  columns: [],\r\n  columnsButton: false,\r\n  localization: {\r\n    addRemoveColumns: 'Add or remove columns',\r\n    nRowsSelected: '{0} row(s) selected',\r\n    showColumnsTitle: 'Show Columns',\r\n    showColumnsAriaLabel: 'Show Columns',\r\n    exportTitle: 'Export',\r\n    exportAriaLabel: 'Export',\r\n    exportName: 'Export as CSV',\r\n    searchTooltip: 'Search',\r\n    searchPlaceholder: 'Search'\r\n  },\r\n  search: true,\r\n  showTitle: true,\r\n  showTextRowsSelected: true,\r\n  toolbarButtonAlignment: 'right',\r\n  searchAutoFocus: false,\r\n  searchFieldAlignment: 'right',\r\n  searchFieldVariant: 'standard',\r\n  selectedRows: [],\r\n  title: 'No Title!'\r\n};\r\n\r\nMTableToolbar.propTypes = {\r\n  actions: PropTypes.array,\r\n  columns: PropTypes.array,\r\n  columnsButton: PropTypes.bool,\r\n  components: PropTypes.object.isRequired,\r\n  getFieldValue: PropTypes.func.isRequired,\r\n  localization: PropTypes.object.isRequired,\r\n  onColumnsChanged: PropTypes.func.isRequired,\r\n  dataManager: PropTypes.object.isRequired,\r\n  onSearchChanged: PropTypes.func.isRequired,\r\n  search: PropTypes.bool.isRequired,\r\n  searchFieldStyle: PropTypes.object,\r\n  searchFieldVariant: PropTypes.string,\r\n  selectedRows: PropTypes.array,\r\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\r\n  showTitle: PropTypes.bool.isRequired,\r\n  showTextRowsSelected: PropTypes.bool.isRequired,\r\n  toolbarButtonAlignment: PropTypes.string.isRequired,\r\n  searchFieldAlignment: PropTypes.string.isRequired,\r\n  renderData: PropTypes.array,\r\n  data: PropTypes.array,\r\n  exportAllData: PropTypes.bool,\r\n  exportButton: PropTypes.bool,\r\n  exportDelimiter: PropTypes.string,\r\n  exportFileName: PropTypes.string,\r\n  exportCsv: PropTypes.func,\r\n  classes: PropTypes.object,\r\n  searchAutoFocus: PropTypes.bool\r\n};\r\n\r\nexport const styles = theme => ({\r\n  root: {\r\n    paddingRight: theme.spacing(1)\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n        color: theme.palette.secondary.main,\r\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85)\r\n      }\r\n      : {\r\n        color: theme.palette.text.primary,\r\n        backgroundColor: theme.palette.secondary.dark\r\n      },\r\n  spacer: {\r\n    flex: '1 1 10%'\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    overflow: 'hidden'\r\n  },\r\n  searchField: {\r\n    minWidth: 150,\r\n    paddingLeft: theme.spacing(2)\r\n  },\r\n  formControlLabel: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(MTableToolbar);\r\n","/* eslint-disable no-unused-vars */\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Button from '@material-ui/core/Button';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTablePaginationInner extends React.Component {\r\n  state = {\r\n    sum: 0\r\n  }\r\n\r\n  setSum = (value) => {\r\n    this.setState({sum: value})\r\n  }\r\n\r\n  formatMoney = (amount, decimalCount = 2, decimal = \".\", thousands = \",\") => {\r\n    try {\r\n      decimalCount = Math.abs(decimalCount);\r\n      decimalCount = isNaN(decimalCount) ? 2 : decimalCount;\r\n  \r\n      const negativeSign = amount < 0 ? \"-\" : \"\";\r\n  \r\n      let i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();\r\n      let j = (i.length > 3) ? i.length % 3 : 0;\r\n  \r\n      return negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : \"\");\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  };\r\n\r\n  handleFirstPageButtonClick = event => {\r\n    this.props.onChangePage(event, 0);\r\n  };\r\n\r\n  handleBackButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page - 1);\r\n  };\r\n\r\n  handleNextButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page + 1);\r\n  };\r\n\r\n  handleNumberButtonClick = number => event => {\r\n    this.props.onChangePage(event, number);\r\n  };\r\n\r\n  handleLastPageButtonClick = event => {\r\n    this.props.onChangePage(\r\n      event,\r\n      Math.max(0, Math.ceil(this.props.count / this.props.rowsPerPage) - 1)\r\n    );\r\n  };\r\n\r\n  renderPagesButton(start, end) {\r\n    const buttons = [];\r\n\r\n    for (let p = start; p <= end; p++) {\r\n      const buttonVariant = p === this.props.page ? \"contained\" : \"text\";\r\n      buttons.push(\r\n        <Button\r\n          size=\"small\"\r\n          style={{\r\n            boxShadow: 'none',\r\n            maxWidth: '30px', maxHeight: '30px', minWidth: '30px', minHeight: '30px'\r\n          }}\r\n          disabled={p === this.props.page}\r\n          variant={buttonVariant}\r\n          onClick={this.handleNumberButtonClick(p)}\r\n          key={p}\r\n        >\r\n          {p + 1}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return <span>{buttons}</span>;\r\n  }\r\n\r\n  render() {\r\n    const { classes, count, page, rowsPerPage, theme, showFirstLastPageButtons } = this.props;\r\n\r\n    const localization = { ...MTablePaginationInner.defaultProps.localization, ...this.props.localization };\r\n    const maxPages = Math.ceil(count / rowsPerPage) - 1;\r\n\r\n    const pageStart = Math.max(page - 1, 0);\r\n    const pageEnd = Math.min(maxPages, page + 1);\r\n\r\n    return (\r\n      <Box>\r\n      <Box className={classes.root} style={{\r\n          width: \"auto\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          position: \"relative\",\r\n        }}>\r\n      <Box style={{ }}>\r\n      {showFirstLastPageButtons &&\r\n        <Tooltip title={localization.firstTooltip}>\r\n            <span>\r\n              <IconButton\r\n                  onClick={this.handleFirstPageButtonClick}\r\n                  disabled={page === 0}\r\n                  aria-label={localization.firstAriaLabel}\r\n              >\r\n                {theme.direction === 'rtl' ? <this.props.icons.LastPage /> : <this.props.icons.FirstPage />}\r\n              </IconButton>\r\n            </span>\r\n        </Tooltip>\r\n        }\r\n        <Tooltip title={localization.previousTooltip}>\r\n          <span>\r\n            <IconButton\r\n              onClick={this.handleBackButtonClick}\r\n              disabled={page === 0}\r\n              aria-label={localization.previousAriaLabel}\r\n            >\r\n              <this.props.icons.PreviousPage />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n        <Hidden smDown={true}>\r\n          {this.renderPagesButton(pageStart, pageEnd)}\r\n        </Hidden>\r\n        <Tooltip title={localization.nextTooltip}>\r\n          <span>\r\n            <IconButton\r\n              onClick={this.handleNextButtonClick}\r\n              disabled={page >= maxPages}\r\n              aria-label={localization.nextAriaLabel}\r\n            >\r\n              <this.props.icons.NextPage />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n      {showFirstLastPageButtons &&\r\n        <Tooltip title={localization.lastTooltip}>\r\n            <span>\r\n              <IconButton\r\n                  onClick={this.handleLastPageButtonClick}\r\n                  disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                  aria-label={localization.lastAriaLabel}\r\n              >\r\n                {theme.direction === 'rtl' ? <this.props.icons.FirstPage /> : <this.props.icons.LastPage />}\r\n              </IconButton>\r\n            </span>\r\n        </Tooltip>\r\n      }\r\n      </Box>\r\n        <Typography variant=\"body2\" style={{\r\n          position: \"absolute\",\r\n          right: \"5%\",\r\n          marginTop: \"13px\",\r\n          color: \"#515151\",\r\n          }}>Total of filtered results: <span style={{fontWeight: \"700\"}}>$ {this.formatMoney(this.state.sum)}</span></Typography>\r\n      </Box>\r\n      <Box  display=\"flex\" justifyContent=\"center\" mb=\"50px\">\r\n      <Typography className={classes.root} variant=\"body2\"\r\n        style={{\r\n          width: \"241px\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          position: \"relative\",\r\n          color: \"#515151\",\r\n        }}\r\n        >Showing {this.props.page * this.props.rowsPerPage + 1} to {(this.props.count - (this.props.page + 1) * this.props.rowsPerPage > 0)\r\n          ? ((this.props.page + 1) * this.props.rowsPerPage) \r\n          : (this.props.count)} of {this.props.count} ({this.props.totalNumOfRows})</Typography>\r\n          </Box>\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nconst actionsStyles = theme => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n    marginLeft: theme.spacing(2.5)\r\n  }\r\n});\r\n\r\nMTablePaginationInner.propTypes = {\r\n  onChangePage: PropTypes.func,\r\n  page: PropTypes.number,\r\n  count: PropTypes.number,\r\n  rowsPerPage: PropTypes.number,\r\n  classes: PropTypes.object,\r\n  localization: PropTypes.object,\r\n  theme: PropTypes.any,\r\n  showFirstLastPageButtons: PropTypes.bool\r\n};\r\n\r\nMTablePaginationInner.defaultProps = {\r\n  showFirstLastPageButtons: true,\r\n  localization: {\r\n    firstTooltip: 'First Page',\r\n    previousTooltip: 'Previous Page',\r\n    nextTooltip: 'Next Page',\r\n    lastTooltip: 'Last Page',\r\n    labelDisplayedRows: '{from}-{to} of {count}',\r\n    labelRowsPerPage: 'Rows per page:'\r\n  }\r\n};\r\n\r\nconst MTableSteppedPagination = withStyles(actionsStyles, { withTheme: true })(MTablePaginationInner);\r\n\r\nexport default MTableSteppedPagination;\r\n","export const elementSize = (props) => props.options.padding === 'default' ? 'medium' : 'small';\r\nexport const baseIconSize = (props) => elementSize(props) === \"medium\" ? 48 : 32;\r\nexport const rowActions = (props) => props.actions.filter(a => a.position === \"row\" || typeof a === \"function\");\r\nexport const actionsColumnWidth = (props) => rowActions(props).length * baseIconSize(props);\r\nexport const selectionMaxWidth = (props, maxTreeLevel) => baseIconSize(props) + 9 * maxTreeLevel;","/* eslint-disable no-unused-vars */\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport { Tooltip } from '@material-ui/core';\r\nimport * as CommonValues from './common-values';\r\n/* eslint-enable no-unused-vars */\r\n\r\nexport class MTableHeader extends React.Component {\r\n\r\n  renderHeader() {\r\n    const size = this.props.options.padding === 'default' ? 'medium' : 'small';\r\n\r\n    const mapArr = this.props.columns.filter(columnDef => !columnDef.hidden && !(columnDef.tableData.groupOrder > -1))\r\n      .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n      .map((columnDef, index) => {\r\n        let content = columnDef.title;\r\n\r\n        if (this.props.draggable) {\r\n          content = (\r\n            <Draggable\r\n              key={columnDef.tableData.id}\r\n              draggableId={columnDef.tableData.id.toString()}\r\n              index={index}>\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  {...provided.dragHandleProps}\r\n                >\r\n                  {columnDef.title}\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          );\r\n        }\r\n\r\n        if (columnDef.sorting !== false && this.props.sorting) {\r\n          content = (\r\n            <TableSortLabel\r\n              IconComponent={this.props.icons.SortArrow}\r\n              active={this.props.orderBy === columnDef.tableData.id}\r\n              direction={this.props.orderDirection || 'asc'}\r\n              onClick={() => {\r\n                const orderDirection =\r\n                  columnDef.tableData.id !== this.props.orderBy\r\n                    ? 'asc'\r\n                    : this.props.orderDirection === 'asc'\r\n                      ? 'desc'\r\n                      : this.props.orderDirection === 'desc' && this.props.thirdSortClick\r\n                        ? ''\r\n                        : this.props.orderDirection === 'desc' && !this.props.thirdSortClick\r\n                          ? 'asc'\r\n                          : this.props.orderDirection === ''\r\n                            ? 'asc'\r\n                            : 'desc';\r\n                this.props.onOrderChange(columnDef.tableData.id, orderDirection);\r\n              }}\r\n            >\r\n              {content}\r\n            </TableSortLabel>\r\n          );\r\n        }\r\n\r\n        if (columnDef.tooltip) {\r\n          content = <Tooltip title={columnDef.tooltip}><span>{content}</span></Tooltip>;\r\n        }\r\n\r\n        return (\r\n          <TableCell\r\n            key={columnDef.tableData.id}\r\n            align={['numeric'].indexOf(columnDef.type) !== -1 ? \"right\" : \"left\"}\r\n            className={this.props.classes.header}\r\n            style={{ ...this.props.headerStyle, ...columnDef.headerStyle, boxSizing: 'border-box', width: columnDef.tableData.width }}\r\n            size={size}\r\n          >\r\n            {content}\r\n          </TableCell>\r\n        );\r\n      });\r\n    return mapArr;\r\n  }\r\n\r\n\r\n\r\n  renderActionsHeader() {\r\n    const localization = { ...MTableHeader.defaultProps.localization, ...this.props.localization };\r\n    const width = CommonValues.actionsColumnWidth(this.props);\r\n    return (\r\n      <TableCell\r\n        key=\"key-actions-column\"\r\n        padding=\"checkbox\"\r\n        className={this.props.classes.header}\r\n        style={{ ...this.props.headerStyle, width: width, textAlign: 'center', boxSizing: 'border-box' }}\r\n      >\r\n        <TableSortLabel disabled>{localization.actions}</TableSortLabel>\r\n      </TableCell>\r\n    );\r\n  }\r\n  renderSelectionHeader() {\r\n    const selectionWidth = CommonValues.selectionMaxWidth(this.props, this.props.treeDataMaxLevel);\r\n\r\n    return (\r\n      <TableCell\r\n        padding=\"none\"\r\n        key=\"key-selection-column\"\r\n        className={this.props.classes.header}\r\n        style={{ ...this.props.headerStyle, width: selectionWidth }}\r\n      >\r\n        {this.props.showSelectAllCheckbox &&\r\n          <Checkbox\r\n            indeterminate={this.props.selectedCount > 0 && this.props.selectedCount < this.props.dataCount}\r\n            checked={this.props.dataCount > 0 && this.props.selectedCount === this.props.dataCount}\r\n            onChange={(event, checked) => this.props.onAllSelected && this.props.onAllSelected(checked)}\r\n          />\r\n        }\r\n      </TableCell>\r\n    );\r\n  }\r\n\r\n  renderDetailPanelColumnCell() {\r\n    return <TableCell\r\n      padding=\"none\"\r\n      key=\"key-detail-panel-column\"\r\n      className={this.props.classes.header}\r\n      style={{ ...this.props.headerStyle }}\r\n    />;\r\n  }\r\n\r\n  render() {\r\n    const headers = this.renderHeader();\r\n    if (this.props.hasSelection) {\r\n      headers.splice(0, 0, this.renderSelectionHeader());\r\n    }\r\n\r\n    if (this.props.showActionsColumn) {\r\n      if (this.props.actionsHeaderIndex >= 0) {\r\n        let endPos = 0;\r\n        if (this.props.hasSelection) {\r\n          endPos = 1;\r\n        }\r\n        headers.splice(this.props.actionsHeaderIndex + endPos, 0, this.renderActionsHeader());\r\n      } else if (this.props.actionsHeaderIndex === -1) {\r\n        headers.push(this.renderActionsHeader());\r\n      }\r\n    }\r\n\r\n    if (this.props.hasDetailPanel) {\r\n      if (this.props.detailPanelColumnAlignment === 'right') {\r\n        headers.push(this.renderDetailPanelColumnCell());\r\n      } else {\r\n        headers.splice(0, 0, this.renderDetailPanelColumnCell());\r\n      }\r\n    }\r\n\r\n    if (this.props.isTreeData > 0) {\r\n      headers.splice(0, 0,\r\n        <TableCell\r\n          padding=\"none\"\r\n          key={\"key-tree-data-header\"}\r\n          className={this.props.classes.header}\r\n          style={{ ...this.props.headerStyle }}\r\n        />\r\n      );\r\n    }\r\n\r\n    this.props.columns\r\n      .filter(columnDef => columnDef.tableData.groupOrder > -1)\r\n      .forEach(columnDef => {\r\n        headers.splice(0, 0, <TableCell padding=\"checkbox\" key={\"key-group-header\" + columnDef.tableData.id} className={this.props.classes.header} />);\r\n      });\r\n\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          {headers}\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\nMTableHeader.defaultProps = {\r\n  dataCount: 0,\r\n  hasSelection: false,\r\n  headerStyle: {},\r\n  selectedCount: 0,\r\n  sorting: true,\r\n  localization: {\r\n    actions: 'Actions'\r\n  },\r\n  orderBy: undefined,\r\n  orderDirection: 'asc',\r\n  actionsHeaderIndex: 0,\r\n  detailPanelColumnAlignment: \"left\",\r\n  draggable: true,\r\n  thirdSortClick: true,\r\n};\r\n\r\nMTableHeader.propTypes = {\r\n  columns: PropTypes.array.isRequired,\r\n  dataCount: PropTypes.number,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  detailPanelColumnAlignment: PropTypes.string,\r\n  hasSelection: PropTypes.bool,\r\n  headerStyle: PropTypes.object,\r\n  localization: PropTypes.object,\r\n  selectedCount: PropTypes.number,\r\n  sorting: PropTypes.bool,\r\n  onAllSelected: PropTypes.func,\r\n  onOrderChange: PropTypes.func,\r\n  orderBy: PropTypes.number,\r\n  orderDirection: PropTypes.string,\r\n  actionsHeaderIndex: PropTypes.number,\r\n  showActionsColumn: PropTypes.bool,\r\n  showSelectAllCheckbox: PropTypes.bool,\r\n  draggable: PropTypes.bool,\r\n  thirdSortClick: PropTypes.bool,\r\n  tooltip: PropTypes.string\r\n};\r\n\r\n\r\nexport const styles = theme => ({\r\n  header: {\r\n    position: 'sticky',\r\n    top: 0,\r\n    zIndex: 10,\r\n    backgroundColor: theme.palette.background.paper, // Change according to theme,\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(MTableHeader);\r\n","import React from 'react'\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FilterIcon from '@material-ui/icons/FilterList';\r\nimport * as _ from 'lodash';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\nconst amountRangeTypeFilter = (props) => {\r\n    const columnDef = props.columnDef\r\n\r\n    let style = {}\r\n    if (columnDef.filterCellStyle) {\r\n        style = columnDef.filterCellStyle}\r\n    else {\r\n        style = props.style\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <TextField\r\n        style={style}\r\n        // style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        // type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        // value={columnDef['tableData']['filterValue']['greaterThan'] || ''}\r\n        placeholder={columnDef.filterPlaceholder || ''}\r\n        onChange={(event) => {\r\n            const value = {...columnDef.tableData.filterValue};\r\n            value.greaterThan = event.target.value;\r\n            props.onFilterChanged(columnDef, value);\r\n        }}\r\n        InputProps={columnDef.hideFilterIcon ? undefined : {\r\n            startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n                <Tooltip title=\"Filter greater than\">\r\n                <div style={{display: 'flex'}}>\r\n                    <FilterIcon />\r\n                    <Typography>{'>'}</Typography>\r\n                </div>\r\n                </Tooltip>\r\n            </InputAdornment>\r\n            )\r\n        }}\r\n        />\r\n        <TextField\r\n        style={style}\r\n        // style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        // type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        // value={_.get(columnDef, ['tableData', 'filterValue', 'lessThan']) || ''}\r\n        placeholder={columnDef.filterPlaceholder || ''}\r\n        onChange={(event) => {\r\n            const value = {...columnDef.tableData.filterValue};\r\n            value.lessThan = event.target.value;\r\n            props.onFilterChanged(columnDef, value);\r\n        }}\r\n        InputProps={columnDef.hideFilterIcon ? undefined : {\r\n            startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n                <Tooltip title=\"Filter less than\">\r\n                <div style={{display: 'flex'}}>\r\n                    <FilterIcon />\r\n                    <Typography>{'<'}</Typography>\r\n                </div>\r\n                </Tooltip>\r\n            </InputAdornment>\r\n            )\r\n        }}\r\n        />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default amountRangeTypeFilter","import React from 'react'\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst defaultFilter = (props) => {\r\n    let columnDef = props.columnDef\r\n    let style = {}\r\n    if (columnDef.filterCellStyle) {\r\n        style = columnDef.filterCellStyle}\r\n    else {\r\n        style = props.style\r\n    }\r\n\r\n    return (\r\n        <TextField style={style} placeholder={columnDef.filterPlaceholder} onChange={event => {\r\n            props.onFilterChanged(columnDef, event.target.value)\r\n        }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default defaultFilter","import React from 'react'\r\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker';\r\n\r\nconst dateRangeFilter = (props) => {\r\n    const columnDef = props.columnDef\r\n    return(\r\n        <DateRangePicker\r\n            onChange={(dateRange) => {\r\n                const value = {...columnDef.tableData.filterValue};\r\n                value.dateRange = dateRange\r\n                props.onFilterChanged(columnDef, value);\r\n            }}\r\n            value={props.dateRange}\r\n        />\r\n    )\r\n}\r\nexport default dateRangeFilter","import React, { Component } from 'react'\r\nimport AmountRangeFilter from './AmountRangeFilter'\r\nimport DefaultFilter from './DefaultFilter'\r\nimport DateRangeFilter from './DateRangeFilter'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nconst filters = (props) => {\r\n    let filters = []\r\n    if (props.columns.length > 0) {\r\n        const columns = props.columns.filter(column => {return column.filtering})\r\n        columns.forEach(column => {\r\n            if (column.type === 'number_range') {\r\n                filters.push(\r\n                <Box item px={5}>\r\n                    <AmountRangeFilter \r\n                        style={props.style}\r\n                        columnDef={column} \r\n                        onFilterChanged={(columnDef, value) => props.onFilterChanged(columnDef, value)}/>\r\n                </Box>)\r\n            } else if (column.type === 'date_range') {\r\n                filters.push(\r\n                <Box item px={5}>\r\n                    <DateRangeFilter \r\n                    style={props.style}\r\n                    dateRange={props.dateRange}\r\n                    columnDef={column} \r\n                    onFilterChanged={(columnDef, value) => props.onFilterChanged(columnDef, value)}/>\r\n                </Box>)\r\n            } else {\r\n                filters.push(\r\n                <Box item px={5}>\r\n                    <DefaultFilter \r\n                    style={props.style}\r\n                    columnDef={column} \r\n                    onFilterChanged={(columnDef, value) => props.onFilterChanged(columnDef, value)}/>\r\n                </Box>)\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <Box container display=\"flex\" justifyContent=\"left\" m={0} p={0} >\r\n        {filters}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default filters","import React, { Component } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport config from '../config';\r\nimport FilterRow from './m-table-filter-row';\r\nimport MTBody from './m-table-body';\r\nimport MToolBar from './m-table-toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MTPagination from './m-table-stepped-pagination';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\r\nimport MTHeader from './m-table-header';\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Filters from './Filters/Filterbox'\r\n\r\n\r\n\r\nconst objColumns = Object.values(config.columns)\r\nlet filteredData = []\r\nlet numOfRows = 0\r\n\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t  main: '#931e1d;',\r\n\t\t},\r\n\r\n\t\tsecondary: {\r\n\t\t  main: '#931e1d;',\r\n\t\t},\r\n\t  },\r\n\r\n\t\ttypography: {\r\n\t\t\tcolor: \"#515151\",\r\n\t\t\tfontFamily: \"Open Sans\",\r\n\t\t\tfontSize: 14,\r\n\t\t\tletterSpacing: -0.3,\r\n\t\t\twidth: 66\r\n\t\t},\r\n\r\n\t  overrides: {\r\n\t\tMuiTableCell: {\r\n\t\t\troot: {\r\n\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t// padding: 'none'\r\n\t\t\t\tpadding: 'none',\r\n\t\t\t\twidth: 20,\r\n\t\t\t\t// width: 66\r\n\t\t\t},\r\n\t\t\tsizeSmall: {\r\n\t\t\t\tpadding: 'none',\r\n\t\t\t\theight: 37,\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tMuiSelect: {\r\n\t\t\troot: {\r\n\t\t\t\tcolor: \"#515151\",\r\n\t\t\t\tfontFamily: \"Open Sans\",\r\n\t\t\t\tfontSize: 14,\r\n\t\t\t\tletterSpacing: -0.3,\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tMuiTableSortLabel: {\r\n\t\t\ticon: {\r\n\t\t\t\topacity: 0.3\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tMuiTableHead: {\r\n\t\t\troot: {\r\n\t\t\t\tborderWidth: 0,\r\n\t\t\t\tborderTopWidth: 2,\r\n\t\t\t\tborderBottomWidth: 2,\r\n\t\t\t\tborderColor: '#931e1d',\r\n\t\t\t\tborderStyle: 'solid',\r\n\t\t\t}\r\n\t\t}\r\n\t  }\r\n})\r\n\r\nclass TransferTableComponent extends Component {\r\n\tstate = {\r\n\t\tcolumns: [],\r\n\t\tdata: [],\r\n\t\tfilterCountry: '',\r\n\t\tdateRange: null,\r\n\t\tfilteredData: null,\r\n\t\tfilters: false\r\n\t}\r\n\r\n\ttoolbarRef = React.createRef()\r\n\ttableRef = React.createRef()\r\n\tpaginationRef = React.createRef()\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setData()\r\n\t\tthis.setFilters()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconsole.log('reset map: ' + prevProps.resetMap + '=> ' + this.props.resetMap )\r\n\t\tconsole.log('country' + prevProps.filterCountry + '=> ' + this.props.filterCountry )\r\n\t\t\r\n\t\tif (prevProps.filterCountry !== this.props.filterCountry || \r\n\t\t\t (prevProps.resetMap !== this.props.resetMap)) {\r\n\t\t\t\tconsole.log('update')\r\n\t\t\tif (this.props.filterCountry !== '') {\r\n\t\t\t\tthis.filterCountry(this.props.filterCountry)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetData = () => {\r\n\t\tthis.setState({ data: this.props.data, filteredData: [...this.props.data] })\r\n\t\tlet newData = this.getLookupData(this.props.data)\r\n\t\tthis.initLookup(newData)\r\n\t\tthis.loadImage()\r\n\t}\r\n\r\n\tsetFilters = () => {\r\n\t\tthis.setState({filters: true})\r\n\t}\r\n\r\n\tloadImage = () => {\r\n\t\tobjColumns.map(obj => {\r\n\t\t\tif (obj.type === 'image' && obj.lookup !== '') {\r\n\t\t\t\tlet keys = Object.keys(obj.lookup)\r\n\t\t\t\tkeys.map(key => {\r\n\t\t\t\t\tobj.lookup[key] = <img src={obj.lookup[key]} alt={key} />\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse if (obj.type === 'image-link') {\r\n\t\t\t\tthis.turnImageToLink(obj)\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.setState({columns: objColumns})\r\n\t}\r\n\r\n\tturnImageToLink = (column) => {\r\n\t\tlet dataCopy = [...this.props.data]\r\n\t\tlet field = column.field\r\n\t\tlet link = column.linkColumn\r\n\t\tconsole.log(field,link)\r\n\t\tdataCopy.map(row => {\r\n\t\t\trow[field] = <a href={row[link]}><img src={config.columns[field][\"imgLink\"][row[field]]} alt={row[field]}/></a>\r\n\t\t})\r\n\t\tthis.setState({data: dataCopy})\r\n\t}\r\n\r\n\t\r\n\tgetLookupData =(data)=> {\r\n\tlet cols = Object.keys(data[0])\r\n\tlet newData = cols.reduce((a,b)=> (a[b]={},a),{});\r\n\tthis.props.data.map(row =>\r\n\t\t{\r\n\t\t\tcols.map(col => {\r\n\t\t\t\tlet val = row[col]\r\n\t\t\t\tnewData[col][val] = val\r\n\t\t\t})\r\n\t\t})\t\r\n\t\treturn [newData, cols]\r\n\t}\r\n\r\n\tinitLookup =(data)=> {\r\n\t\tlet newData = data[0]\r\n\t\tlet keys = data[1]\r\n\r\n\t\tkeys.map(key => {\r\n\t\t\tobjColumns.forEach(col => {\r\n\t\t\t\tif (col.field === key && col.lookup === '' && (col.type === '' || col.type === 'numeric')) {\r\n\t\t\t\t\tcol.lookup = newData[key]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\t\r\n\tfilterCountry = (country) => {\r\n\t\tobjColumns.forEach(col => {\r\n\t\t\tif (col.field === \"country\") {\r\n\t\t\t\tcol.tableData.filterValue = [country]\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.setState({columns: objColumns})\r\n\t}\r\n\r\n\tresetFilters = () => {\r\n\t\tobjColumns.forEach(col => {\r\n\t\t\tcol.tableData.filterValue = \"\"\r\n\t\t})\r\n\t\tconsole.log('reset click')\r\n\t\tthis.setState({columns: objColumns})\r\n\t\tthis.props.handleResetMap()\r\n\t\tthis.toolbarRef.current.onSearchChange(\"\");\r\n\t\tthis.setState({dateRange: null})\r\n\t}\r\n\r\n\tgetFilteredData = () => {\r\n\t\tfilteredData = this.tableRef.current.state.data\r\n\t\tlet sumOfFilteredData = filteredData.reduce((a, b) => a + parseFloat(b.amount), 0)\r\n\t\tthis.paginationRef.current.setSum(sumOfFilteredData);\r\n\t}\r\n\r\n\tgetNumOfRowsOnCurrentPage = (value) => {\r\n\t\tnumOfRows = value\r\n\t}\r\n\r\n\thandleDateRange = (dateRange) => {\r\n\t\tthis.setState({dateRange: dateRange})\r\n\t}\r\n\r\n\tfilterAmountRange = (columnDef, data, value) => {\r\n\t\t// there must be a better way to compare\r\n\t\tlet\tfilteredData = [...data]\r\n        if (value.greaterThan != null && value.lessThan != null) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\treturn parseInt(value.greaterThan) <= parseInt(rowData.amount)\r\n\t\t\t\t\t&& parseInt(value.lessThan) >= parseInt(rowData.amount)\r\n\t\t\t})\r\n        } else if (value.greaterThan != null && value.lessThan == null) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\treturn parseInt(value.greaterThan) <= parseInt(rowData.amount)\r\n\t\t\t})\r\n        } else if (value.greaterThan == null && value.lessThan != null) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\treturn parseInt(value.lessThan) >= parseInt(rowData.amount)\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn filteredData\r\n\t}\r\n\r\n\tfilterDefault = (columnDef, data, value) => {\r\n\t\tlet filteredData = [...data]\r\n\t\tif (value.length > 0) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\treturn rowData[columnDef.field] == value\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn filteredData\r\n\t}\r\n\r\n\tfilterDateRange = (columnDef, data, value) => {\r\n\t\tlet filteredData = [...data]\r\n\t\tif (value.dateRange != null) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\tconst rowDate = new Date(rowData.transactionDate)\r\n\t\t\t\treturn rowDate >= value.dateRange[0] && rowDate <= value.dateRange[1]\r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.setState({dateRange: value.dateRange})\r\n\t\treturn filteredData\r\n\t}\r\n\r\n\thandleFilterChanged = (columnDef, value) => {\r\n\t\tlet filteredData = [...this.state.data]\r\n\t\tif (columnDef.type === 'number_range'){\r\n\t\t\tfilteredData = this.filterAmountRange(columnDef, filteredData, value)\r\n\t\t} else if (columnDef.type === 'date_range'){\r\n\t\t\tfilteredData = this.filterDateRange(columnDef, filteredData, value)\r\n\t\t} else {\r\n\t\t\tfilteredData = this.filterDefault(columnDef, filteredData, value)\r\n\t\t}\r\n\t\tthis.setState({filteredData: filteredData})\t\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tlet filters = null\r\n\t\tif (this.state.filters) {\r\n\t\t\tfilters = <Filters\r\n\t\t\t\tstyle={config.table.filterCellStyle}\r\n\t\t\t\tdateRange={this.state.dateRange}\r\n\t\t\t\tcolumns={this.state.columns} \r\n\t\t\t\tonFilterChanged={this.handleFilterChanged}></Filters>\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<MuiThemeProvider theme={theme}>\r\n\t\t\t\t{filters}\r\n\t\t\t\t<MaterialTable\r\n\t\t\t\t\ttableRef={this.tableRef}\r\n\t\t\t\t\tonSearchChange={this.getFilteredData}\r\n\t\t\t\t\tonFilterChange={this.getFilteredData}\r\n\t\t\t\t\tcolumns={this.state.columns}\r\n\t\t\t\t\tdata={this.state.filteredData}\r\n\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\t// FilterRow: props => <FilterRow {...props} dateRange={this.state.dateRange} dateRangeChange={this.handleDateRange}/>,\r\n\t\t\t\t\t\tBody: props => <MTBody {...props} resetFilters={this.resetFilters} getFilteredData={this.getFilteredData} getNumOfRowsOnPage={this.getNumOfRowsOnCurrentPage}/>,\r\n\t\t\t\t\t\tToolbar: props => (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Typography variant=\"\" className='explore'>{config.table.textBody}</Typography>\r\n\t\t\t\t\t\t\t<MToolBar {...props} ref={this.toolbarRef}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tPagination: props => <MTPagination {...props} ref={this.paginationRef} numOfRows={numOfRows} totalNumOfRows={this.state.data.length}/>,\r\n\t\t\t\t\t\tHeader: props => <MTHeader {...props} />,\r\n\t\t\t\t\t\tContainer: props => <Paper {...props} elevation={0}/>\r\n\t\t\t\t\t}}\r\n\r\n\t\t\t\t\ticons={{ Search: () => <div /> }} \r\n\r\n\t\t\t\t\tlocalization={{\r\n\t\t\t\t\t\ttoolbar: { searchPlaceholder: \"Search the data\" },\r\n\t\t\t\t\t}}\r\n\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t...config.table,\r\n\t\t\t\t\t\trowStyle: (data, index) => {\r\n\t\t\t\t\t\t\tif (index % 2 === 0 && !config.table.rowStyle.backgroundColor) {\r\n\t\t\t\t\t\t\t\treturn { ...config.table.rowStyle, backgroundColor: \"#e5e5e5\" }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {return {...config.table.rowStyle}}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</MuiThemeProvider>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default TransferTableComponent;","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport config from '../config';\r\n\r\nconst legend = props => {\r\n    const items = {...config.legend}\r\n    \r\n    let keys = Object.keys(items)\r\n    let itemList = keys.map(key => {\r\n        return (<Box item style={items[key].boxStyle}>\r\n            <Box display=\"flex\">\r\n                <img src={items[key].img} alt={key}/>\r\n                <Typography variant=\"body2\" style={items[key].titleStyle}>{items[key].title}</Typography>\r\n            </Box>\r\n            <Typography variant=\"body2\" style={items[key].bodyStyle}>{items[key].body}</Typography>\r\n        </Box>)\r\n    })\r\n    return (\r\n        <Box display=\"flex\" justifyContent=\"center\" pb={'40px'}>\r\n        {itemList}\r\n        </Box>\r\n    )\r\n}\r\n\r\n\r\nexport default legend","import React, { Component } from 'react';\r\n\r\nimport TransferMapComponent from \"./TransferMapComponent/TransferMapComponent\";\r\nimport TransferTableComponent from \"./TransferTableComponent/TransferTableComponent\";\r\nimport Legend from './Legend/Legend'\r\nimport config from \"./config\";\r\nimport {csv} from \"d3\";\r\n\r\nimport './styles.css'\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    ready: false,\r\n    data: {},\r\n    filterCountry: '',\r\n    resetMap: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    csv(config.csvUrl)\r\n      .then(d => this.setState({data: d, ready: true}))\r\n  }\r\n  \r\n  handleCountryClick = (country) => {\r\n    this.setState({filterCountry: country,\r\n                   resetMap: false})\r\n  }\r\n  handleResetMap = () => {\r\n    this.setState({resetMap: true,\r\n                   filterCountry: ''})\r\n  }\r\n\r\n  render() {\r\n    let all = null;\r\n    if (this.state.ready) {\r\n      all = (\r\n        <div>\r\n          <TransferMapComponent \r\n            data={this.state.data}\r\n            handleCountryClick={this.handleCountryClick}\r\n            resetMap={this.state.resetMap} />\r\n          <TransferTableComponent \r\n            data={this.state.data}\r\n            filterCountry={this.state.filterCountry}\r\n            resetMap={this.state.resetMap}\r\n            handleResetMap={this.handleResetMap} />\r\n          <Legend />\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"App\">\r\n        {all}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}