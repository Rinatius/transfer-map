(this["webpackJsonptransfer-map"]=this["webpackJsonptransfer-map"]||[]).push([[0],{418:function(e,t,a){e.exports=a(519)},423:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(18),i=a.n(r),l=(a(423),a(86)),s=a(87),p=a(91),c=a(90),u=a(125),d=a(102),f={csvUrl:"https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2Fmockup.csv?alt=media&token=82d1e6d6-e634-492d-a7a7-32223735c25f",mapOptions:{active_color:"#dbabac",passive_color:"#DDD",focus_color:"#bd3d3f",label_text_style:{fill:"#ffffff",fontSize:"12px",fontWeight:"900",letterSpacing:"-0.26px"},capitals:"https://gist.githubusercontent.com/erdem/8c7d26765831d0f9a8c62f02782ae00d/raw/248037cd701af0a4957cce340dabb0fd04e38f4c/countries.json"},columns:{transactionDate:{title:"Transaction date",field:"transactionDate",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,type:"date",defaultFilter:"",lookup:"",filterPlaceholder:"Transaction date",cellStyle:{width:"114px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},paidBy:{title:"Paid by",field:"paidBy",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,defaultFilter:"",lookup:"",type:"",filterPlaceholder:"Payer...",cellStyle:{width:"114px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},paidTo:{title:"Paid to",field:"paidTo",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,defaultFilter:"",lookup:"",type:"",filterPlaceholder:"Recipient...",cellStyle:{width:"114px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},amount:{title:"Amount",field:"amount",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,defaultFilter:"",lookup:"",type:"currency",cellStyle:{width:"114px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},fromCountry:{title:"From Country",field:"fromCountry",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,defaultFilter:"",lookup:"",type:"",filterPlaceholder:"From country",cellStyle:{width:"114px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},country:{title:"Country",field:"country",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,defaultFilter:"",lookup:"",type:"",filterPlaceholder:"To country...",cellStyle:{width:"114px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},purpose:{title:"Purpose",field:"purpose",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,defaultFilter:"",lookup:"",type:"",cellStyle:{width:"114px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},type:{title:"Type",field:"type",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,defaultFilter:"",lookup:"",type:"",cellStyle:{width:"50px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},bankSender:{title:"Bank sender",field:"bankSender",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!0,defaultFilter:"",lookup:"",type:"",filterPlaceholder:"Bank...",cellStyle:{width:"114px",height:"19px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",letterSpacing:"-0.3px"}},confidence:{title:"Confidence",field:"confidence",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!1,lookup:{confirmed:"https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FConfirmed.svg?alt=media&token=60873b2f-26ed-4c14-b210-8f5467709e1c"},defaultFilter:"",type:"image",cellStyle:{textAlign:"center"}},proof:{title:"Proof",field:"proof",hidden:!1,searchable:!0,sorting:!0,grouping:!0,filtering:!1,lookup:{internal:"https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FInternal.svg?alt=media&token=ea2ac9bf-5026-45ff-8074-0e5bd08b5e8a",bank:"https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FBank.svg?alt=media&token=cf2d58c9-c18e-48e1-9033-8739f85a66eb",electronic:"https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FElectronic.svg?alt=media&token=0a7b3d35-71a8-4f46-85a0-9bf681e7c2b0",customs:"https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FCustoms.svg?alt=media&token=71ecfae4-1c9e-459d-82a3-e8da707dbb9d"},defaultFilter:"",type:"image",cellStyle:{textAlign:"center"}}},table:{search:!0,sorting:!0,filtering:!0,grouping:!1,paging:!0,pageSize:20,hideFilterIcons:!0,showTitle:!1,pageSizeOptions:[],paginationType:"stepped",padding:"dense",searchFieldAlignment:"left",searchFieldStyle:{width:"100%",height:"35px",boxShadow:"inset 1px 2px 4px rgba(0, 0, 0, 0.35)",border:"1px solid #979797",backgroundColor:"#ffffff"},headerStyle:{borderWidth:0,borderTopWidth:2,borderBottomWidth:2,borderColor:"#931e1d",borderStyle:"solid",width:"80px",height:"29px",color:"#515151",fontFamily:"Open Sans, sans-serif",fontSize:"14px",fontWeight:"700",letterSpacing:"-0.3px",lineHeight:"14px"},rowStyle:{height:"37px"}}},h=a(426).Set,g=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).config={},e.countries=h([]),e.pairs=[],e.capitals={},e.dataScaler=null,e.state={ready:!1,conf:{},data:[],visibleCountries:h([]),visiblePairs:[],focusCountry:null},e.extractCountries=function(t){t.forEach((function(t){e.countries=e.countries.add(t.from_country),e.countries=e.countries.add(t.to_country)}))},e.nestPairs=function(e){return Object(d.d)().key((function(e){return e.from_country})).key((function(e){return e.to_country})).rollup((function(e){return{count:e.length,total:Object(d.f)(e,(function(e){return e.amount}))}})).entries(e)},e.showAllHandler=function(){return e.setState({visibleCountries:e.countries})},e.countryClickHandler=function(t){console.log("country click"),e.countries.has(t)&&(e.setState({focusCountry:t}),e.props.handleCountryClick(t))},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){e.resetMap!==this.props.resetMap&&this.props.resetMap&&this.setState({focusCountry:null})}},{key:"componentDidMount",value:function(){var e=this;Object(d.c)(f.mapOptions.capitals,(function(e){return e})).then((function(t){var a=e.props.data.map((function(e){return{from_country:e[f.columns.fromCountry.field],to_country:e[f.columns.country.field],amount:e[f.columns.amount.field]}}));e.extractCountries(a),e.pairs=e.nestPairs(a);var o=[];e.pairs.forEach((function(e){return e.values.forEach((function(e){o.push(e.value.total)}))})),console.log(e.pairs),e.dataScaler=Object(d.e)().domain(Object(d.b)(o)).range([.5,5]),e.capitals=Object(d.d)().key((function(e){return e.name})).map(t),console.log(e.capitals),e.setState({data:a,ready:!0,visibleCountries:e.countries,visiblePairs:e.pairs})}))}},{key:"render",value:function(){var e=this,t=null;return this.state.ready&&(t=n.a.createElement("div",null,n.a.createElement(u.ComposableMap,{projectionConfig:{scale:230,xOffset:1e3,yOffset:50},handleCountryClick:this.handleCountryClick},n.a.createElement(u.Geographies,{geography:"https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-map%2Fcountries-110m.json?alt=media&token=94f12c4b-592b-46d9-8761-a20a94c09b20"},(function(t){return t.geographies.map((function(t){var a=e.state.visibleCountries.has(t.properties.name),o=e.state.focusCountry===t.properties.name,r=f.mapOptions.passive_color;return o?r=f.mapOptions.focus_color:a&&(r=f.mapOptions.active_color),n.a.createElement(u.Geography,{key:t.rsmKey,geography:t,onClick:function(){return e.countryClickHandler(t.properties.name)},stroke:"#FFF",fill:r})}))})),this.state.visiblePairs.map((function(t){return t.values.map((function(a){return n.a.createElement(u.Line,{from:e.capitals.get(t.key)[0].latlng.slice().reverse(),to:e.capitals.get(a.key)[0].latlng.slice().reverse(),preserveMarkerAspect:!1,stroke:"#931e1d",strokeWidth:e.dataScaler(a.value.total),strokeLinecap:"round"})}))})),this.state.visiblePairs.map((function(t){return t.values.map((function(t){var a=e.capitals.get(t.key)[0].latlng.slice().reverse()[0]-2,o=e.capitals.get(t.key)[0].latlng.slice().reverse()[1]+.5;return n.a.createElement(u.Marker,{coordinates:[a,o]},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",width:"15",height:"11",viewBox:"0 0 15 11"},n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("image",{width:"17",height:"11",transform:"translate(-1)",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAALCAYAAACZIGYHAAABAklEQVQoU63SOUtEQRAE4G+9bxA8MBHFTM0EM03M/MGGBpoZmKiZgZiIGggeKK4Xtcw8HrKJYEPTPQNVXV0zHf8QnT4cuRtoZc7fJT/xVfoG2iZJP4IJTJYcxxA+8IqXVnYrWSVJDWABq1gu/QyGEcAjbnGNq9K/haiSZFoItrCDdcwXNYNlhWfc4QLHOMV9VFaSTMv0PexjE7NlvfgTH97xgDMc4LCo6raVLGIbu9jAXPEnSmJoPMnkcxzhpChrlIQshi5hDStlnemWsXWd+HGJm0LceJLnCtFo8SHgKYyhKomJIXoqNevl6XvA35G7AONFav0n9Y+k9sA1+pH8+Q//AP87QAx5oVJdAAAAAElFTkSuQmCC"})),n.a.createElement("g",null,n.a.createElement("path",{fill:"#fff",d:"M12.122 4.664c0 1.035-2.12 1.874-4.735 1.874-2.616 0-4.737-.839-4.737-1.874 0-1.035 2.121-1.874 4.737-1.874 2.615 0 4.735.839 4.735 1.874"})),n.a.createElement("g",null,n.a.createElement("path",{fill:"none",stroke:"#666","stroke-miterlimit":"20","stroke-width":".25",d:"M12.122 4.664c0 1.035-2.12 1.874-4.735 1.874-2.616 0-4.737-.839-4.737-1.874 0-1.035 2.121-1.874 4.737-1.874 2.615 0 4.735.839 4.735 1.874z"})))))}))})),this.state.visiblePairs.map((function(t){return t.values.map((function(t){return n.a.createElement(u.Marker,{coordinates:e.capitals.get(t.key)[0].latlng.slice().reverse()},n.a.createElement("defs",null,n.a.createElement("mask",{id:"k4zgb",width:"2",height:"2",x:"-1",y:"-1"},n.a.createElement("path",{fill:"#fff",d:"M2 1h104v39H2z"}),n.a.createElement("path",{d:"M2 1h104v34H59l-5 5-5-5H2z"})),n.a.createElement("filter",{id:"k4zga",width:"128",height:"64",x:"-10",y:"-11",filterUnits:"userSpaceOnUse"},n.a.createElement("feOffset",{dy:"1",in:"SourceGraphic",result:"FeOffset1023Out"}),n.a.createElement("feGaussianBlur",{in:"FeOffset1023Out",result:"FeGaussianBlur1024Out",stdDeviation:"0.8 0.8"})),n.a.createElement("clipPath",{id:"k4zgc"},n.a.createElement("path",{fill:"#fff",d:"M2 1h104v34H59l-5 5-5-5H2z"}))),n.a.createElement("g",{transform:"translate(-53, -45)"},n.a.createElement("g",null,n.a.createElement("g",{filter:"url(#k4zga)"},n.a.createElement("path",{fill:"none",d:"M2 1h104v34H59l-5 5-5-5H2z",mask:'url("#k4zgb")'}),n.a.createElement("path",{"fill-opacity":".35",d:"M2 1h104v34H59l-5 5-5-5H2z"})),n.a.createElement("path",{fill:"#931e1d",d:"M2 1h104v34H59l-5 5-5-5H2z"}),n.a.createElement("path",{fill:"none",stroke:"#fff","stroke-miterlimit":"20","stroke-width":"2",d:"M2 1h104v34H59l-5 5-5-5H2z","clip-path":'url("#k4zgc")'}))),n.a.createElement("text",{textAnchor:"middle",y:-30,style:f.mapOptions.label_text_style},"$"+t.value.total.toLocaleString("en-US")+"\n"),n.a.createElement("text",{textAnchor:"middle",y:-15,style:f.mapOptions.label_text_style},t.value.count+" transactions"))}))}))),n.a.createElement("div",{onClick:this.showAllHandler},"Show All"))),n.a.createElement("div",null,t)}}]),a}(o.Component),m=a(25),y=a(394),b=a.n(y),k=a(359),v=a(366),E=a(232),C=a(287),w=a(291),S=a(227),F=a(288),x=a(360),O=a(387),D=a(378),P=a(289),z=a(361),A=a(218),j=a(276),R=a(278),T=a(277),M=a(24),H={PaperProps:{style:{maxHeight:224,width:250}}},V=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getLocalizationData=function(){return Object(m.a)(Object(m.a)({},a.defaultProps.localization),e.props.localization)},e.getLocalizedFilterPlaceHolder=function(t){return t.filterPlaceholder||e.getLocalizationData().filterPlaceHolder||""},e.renderLookupFilter=function(t){return o.createElement(C.a,{style:{width:"100%"}},o.createElement(F.a,{htmlFor:"select-multiple-checkbox",style:{marginTop:-16}},e.getLocalizedFilterPlaceHolder(t)),o.createElement(w.a,{multiple:!0,value:t.tableData.filterValue||[],onChange:function(a){e.props.onFilterChanged(t.tableData.id,a.target.value)},input:o.createElement(S.a,{id:"select-multiple-checkbox"}),renderValue:function(e){return e.map((function(e){return t.lookup[e]})).join(", ")},MenuProps:H,style:{marginTop:0}},Object.keys(t.lookup).map((function(e){return o.createElement(x.a,{key:e,value:e},o.createElement(O.a,{checked:!!t.tableData.filterValue&&t.tableData.filterValue.indexOf(e.toString())>-1}),o.createElement(D.a,{primary:t.lookup[e]}))}))))},e.renderFilterComponent=function(t){return o.createElement(t.filterComponent,{columnDef:t,onFilterChanged:e.props.onFilterChanged})},e.renderBooleanFilter=function(t){return o.createElement(O.a,{indeterminate:void 0===t.tableData.filterValue,checked:"checked"===t.tableData.filterValue,onChange:function(){var a;void 0===t.tableData.filterValue?a="checked":"checked"===t.tableData.filterValue&&(a="unchecked"),e.props.onFilterChanged(t.tableData.id,a)}})},e.renderDefaultFilter=function(t){var a=e.getLocalizationData(),n=e.props.icons.Filter;return o.createElement(E.a,{style:"numeric"===t.type?{float:"right"}:{},type:"numeric"===t.type?"number":"search",value:t.tableData.filterValue||"",placeholder:e.getLocalizedFilterPlaceHolder(t),onChange:function(a){e.props.onFilterChanged(t.tableData.id,a.target.value)},inputProps:{"aria-label":"filter data by ".concat(t.title)},InputProps:e.props.hideFilterIcons||t.hideFilterIcon?void 0:{startAdornment:o.createElement(P.a,{position:"start"},o.createElement(z.a,{title:a.filterTooltip},o.createElement(n,null)))}})},e.renderDateTypeFilter=function(t){var a={value:t.tableData.filterValue||null,onChange:function(a){return e.props.onFilterChanged(t.tableData.id,a)},placeholder:e.getLocalizedFilterPlaceHolder(t),clearable:!0},n=null;return"date"===t.type?n=o.createElement(j.a,a):"datetime"===t.type?n=o.createElement(R.a,a):"time"===t.type&&(n=o.createElement(T.b,a)),o.createElement(M.a,{utils:A.default,locale:e.props.localization.dateTimePickerLocalization},n)},e}return Object(s.a)(a,[{key:"getComponentForColumn",value:function(e){return!1===e.filtering?null:e.field||e.customFilterAndSearch?e.filterComponent?this.renderFilterComponent(e):e.lookup?this.renderLookupFilter(e):"boolean"===e.type?this.renderBooleanFilter(e):["date","datetime","time"].includes(e.type)?this.renderDateTypeFilter(e):this.renderDefaultFilter(e):void 0}},{key:"render",value:function(){var e=this,t=this.props.columns.filter((function(e){return!(e.tableData.groupOrder>-1)})).sort((function(e,t){return e.tableData.columnOrder-t.tableData.columnOrder})).map((function(t){return o.createElement(k.a,{key:t.tableData.id,style:Object(m.a)(Object(m.a)({},e.props.filterCellStyle),t.filterCellStyle)},e.getComponentForColumn(t))}));if(this.props.selection&&t.splice(0,0,o.createElement(k.a,{padding:"none",key:"key-selection-column"})),this.props.hasActions)if(-1===this.props.actionsColumnIndex)t.push(o.createElement(k.a,{key:"key-action-column"}));else{var a=0;this.props.selection&&(a=1),t.splice(this.props.actionsColumnIndex+a,0,o.createElement(k.a,{key:"key-action-column"}))}return this.props.hasDetailPanel&&t.splice(0,0,o.createElement(k.a,{padding:"none",key:"key-detail-panel-column"})),this.props.isTreeData>0&&t.splice(0,0,o.createElement(k.a,{padding:"none",key:"key-tree-data-filter"})),t.splice(-1,1,o.createElement(k.a,{key:"filters-reset-button"},o.createElement("button",{onClick:this.props.resetFilters,style:{width:"30",color:"#515151",fontFamily:"Open Sans', sans-serif",fontSize:"14px",textDecoration:"underline",backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",cursor:"pointer",overflow:"hidden",outline:"none"}},"Reset all filters"))),this.props.columns.filter((function(e){return e.tableData.groupOrder>-1})).forEach((function(e){t.splice(0,0,o.createElement(k.a,{padding:"checkbox",key:"key-group-filter"+e.tableData.id}))})),o.createElement(v.a,{style:{height:10}},t)}}]),a}(o.Component);V.defaultProps={columns:[],selection:!1,hasActions:!1,localization:{filterTooltip:"Filter"},hideFilterIcons:!1};var L=V,I=a(401),G=a(365),B=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"renderEmpty",value:function(e,t){var n="default"===this.props.options.padding?49:36,r=Object(m.a)(Object(m.a)({},a.defaultProps.localization),this.props.localization);if(this.props.options.showEmptyDataSourceMessage&&0===t.length){var i=0;return this.props.options.selection&&i++,this.props.actions&&this.props.actions.filter((function(e){return"row"===e.position||"function"===typeof e})).length>0&&i++,this.props.hasDetailPanel&&i++,this.props.isTreeData&&i++,o.createElement(v.a,{style:{height:n*(this.props.options.paging&&this.props.options.emptyRowsWhenPaging?this.props.pageSize:1)},key:"empty-0"},o.createElement(k.a,{style:{paddingTop:0,paddingBottom:0,textAlign:"center"},colSpan:this.props.columns.length+i,key:"empty-"},r.emptyDataSourceMessage))}if(this.props.options.emptyRowsWhenPaging)return o.createElement(o.Fragment,null,Object(I.a)(Array(e)).map((function(e,t){return o.createElement(v.a,{style:{height:n},key:"empty-"+t})})),e>0&&o.createElement(v.a,{style:{height:1},key:"empty-last1"}))}},{key:"renderUngroupedRows",value:function(e){var t=this;return e.map((function(e,n){return e.tableData.editing?o.createElement(t.props.components.EditRow,{columns:t.props.columns.filter((function(e){return!e.hidden})),components:t.props.components,data:e,icons:t.props.icons,localization:Object(m.a)(Object(m.a)(Object(m.a)({},a.defaultProps.localization.editRow),t.props.localization.editRow),{},{dateTimePickerLocalization:t.props.localization.dateTimePickerLocalization}),key:n,mode:e.tableData.editing,options:t.props.options,isTreeData:t.props.isTreeData,detailPanel:t.props.detailPanel,onEditingCanceled:t.props.onEditingCanceled,onEditingApproved:t.props.onEditingApproved,getFieldValue:t.props.getFieldValue}):o.createElement(t.props.components.Row,{components:t.props.components,icons:t.props.icons,data:e,index:n,key:"row-"+e.tableData.id,level:0,options:t.props.options,localization:Object(m.a)(Object(m.a)({},a.defaultProps.localization.editRow),t.props.localization.editRow),onRowSelected:t.props.onRowSelected,actions:t.props.actions,columns:t.props.columns,getFieldValue:t.props.getFieldValue,detailPanel:t.props.detailPanel,path:[n+t.props.pageSize*t.props.currentPage],onToggleDetailPanel:t.props.onToggleDetailPanel,onRowClick:t.props.onRowClick,isTreeData:t.props.isTreeData,onTreeExpandChanged:t.props.onTreeExpandChanged,onEditingCanceled:t.props.onEditingCanceled,onEditingApproved:t.props.onEditingApproved,hasAnyEditingRow:t.props.hasAnyEditingRow,treeDataMaxLevel:t.props.treeDataMaxLevel})}))}},{key:"renderGroupedRows",value:function(e,t){var n=this;return t.map((function(t,r){return o.createElement(n.props.components.GroupRow,{actions:n.props.actions,key:null==t.value?""+r:t.value,columns:n.props.columns,components:n.props.components,detailPanel:n.props.detailPanel,getFieldValue:n.props.getFieldValue,groupData:t,groups:e,icons:n.props.icons,level:0,path:[r+n.props.pageSize*n.props.currentPage],onGroupExpandChanged:n.props.onGroupExpandChanged,onRowSelected:n.props.onRowSelected,onRowClick:n.props.onRowClick,onEditingCanceled:n.props.onEditingCanceled,onEditingApproved:n.props.onEditingApproved,onToggleDetailPanel:n.props.onToggleDetailPanel,onTreeExpandChanged:n.props.onTreeExpandChanged,options:n.props.options,isTreeData:n.props.isTreeData,hasAnyEditingRow:n.props.hasAnyEditingRow,localization:Object(m.a)(Object(m.a)({},a.defaultProps.localization.editRow),n.props.localization.editRow)})}))}},{key:"render",value:function(){var e=this.props.renderData,t=this.props.columns.filter((function(e){return e.tableData.groupOrder>-1})).sort((function(e,t){return e.tableData.groupOrder-t.tableData.groupOrder})),n=0;return this.props.options.paging&&(n=this.props.pageSize-e.length),o.createElement(G.a,null,this.props.options.filtering&&o.createElement(this.props.components.FilterRow,{columns:this.props.columns,icons:this.props.icons,hasActions:this.props.actions.filter((function(e){return"row"===e.position||"function"===typeof e})).length>0,actionsColumnIndex:this.props.options.actionsColumnIndex,onFilterChanged:this.props.onFilterChanged,selection:this.props.options.selection,localization:Object(m.a)(Object(m.a)(Object(m.a)({},a.defaultProps.localization.filterRow),this.props.localization.filterRow),{},{dateTimePickerLocalization:this.props.localization.dateTimePickerLocalization}),hasDetailPanel:!!this.props.detailPanel,isTreeData:this.props.isTreeData,filterCellStyle:this.props.options.filterCellStyle,hideFilterIcons:this.props.options.hideFilterIcons,resetFilters:this.props.resetFilters}),this.props.showAddRow&&"first"===this.props.options.addRowPosition&&o.createElement(this.props.components.EditRow,{columns:this.props.columns.filter((function(e){return!e.hidden})),data:this.props.initialFormData,components:this.props.components,icons:this.props.icons,key:"key-add-row",mode:"add",localization:Object(m.a)(Object(m.a)({},a.defaultProps.localization.editRow),this.props.localization.editRow),options:this.props.options,isTreeData:this.props.isTreeData,detailPanel:this.props.detailPanel,onEditingCanceled:this.props.onEditingCanceled,onEditingApproved:this.props.onEditingApproved,getFieldValue:this.props.getFieldValue}),t.length>0?this.renderGroupedRows(t,e):this.renderUngroupedRows(e),this.props.showAddRow&&"last"===this.props.options.addRowPosition&&o.createElement(this.props.components.EditRow,{columns:this.props.columns.filter((function(e){return!e.hidden})),data:this.props.initialFormData,components:this.props.components,icons:this.props.icons,key:"key-add-row",mode:"add",localization:Object(m.a)(Object(m.a)({},a.defaultProps.localization.editRow),this.props.localization.editRow),options:this.props.options,isTreeData:this.props.isTreeData,detailPanel:this.props.detailPanel,onEditingCanceled:this.props.onEditingCanceled,onEditingApproved:this.props.onEditingApproved,getFieldValue:this.props.getFieldValue}),this.renderEmpty(n,e))}}]),a}(o.Component);B.defaultProps={actions:[],currentPage:0,pageSize:5,renderData:[],selection:!1,localization:{emptyDataSourceMessage:"No records to display",filterRow:{},editRow:{}}};var _=B,W=Object.values(f.columns),J=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={columns:[],data:[],filterCountry:""},e.setData=function(){e.setState({data:e.props.data});var t=e.getLookupData(e.props.data);e.initLookup(t),e.loadImage()},e.loadImage=function(){W.map((function(e){"image"===e.type&&""!==e.lookup&&Object.keys(e.lookup).map((function(t){e.lookup[t]=n.a.createElement("img",{src:e.lookup[t],alt:t})}))})),e.setState({columns:W})},e.getLookupData=function(t){var a=Object.keys(t[0]),o=a.reduce((function(e,t){return e[t]={},e}),{});return e.props.data.map((function(e){a.map((function(t){var a=e[t];o[t][a]=a}))})),[o,a]},e.initLookup=function(e){var t=e[0];e[1].map((function(e){W.forEach((function(a){a.field!==e||""!==a.lookup||""!==a.type&&"numeric"!==a.type||(a.lookup=t[e])}))}))},e.filterCountry=function(t){W.forEach((function(e){"country"===e.field&&(e.tableData.filterValue=[t])})),e.setState({columns:W})},e.resetFilters=function(){W.forEach((function(e){e.tableData.filterValue=""})),console.log("reset click"),e.setState({columns:W}),e.props.handleResetMap()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setData()}},{key:"componentDidUpdate",value:function(e){console.log("reset map: "+e.resetMap+"=> "+this.props.resetMap),console.log("country"+e.filterCountry+"=> "+this.props.filterCountry),e.filterCountry===this.props.filterCountry&&e.resetMap===this.props.resetMap||(console.log("update"),""!==this.props.filterCountry&&this.filterCountry(this.props.filterCountry))}},{key:"render",value:function(){var e=this;return n.a.createElement(b.a,{columns:this.state.columns,data:this.state.data,components:{FilterRow:function(e){return n.a.createElement(L,e)},Body:function(t){return n.a.createElement(_,Object.assign({},t,{resetFilters:e.resetFilters}))}},localization:{toolbar:{searchPlaceholder:"Search the data\u2026"}},options:Object(m.a)(Object(m.a)({},f.table),{},{rowStyle:function(e,t){return t%2!==0||f.table.rowStyle.backgroundColor?Object(m.a)({},f.table.rowStyle):Object(m.a)(Object(m.a)({},f.table.rowStyle),{},{backgroundColor:"#e5e5e5"})}})})}}]),a}(o.Component),U=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={ready:!1,data:{},filterCountry:"",resetMap:!1},e.handleCountryClick=function(t){e.setState({filterCountry:t,resetMap:!1})},e.handleResetMap=function(){e.setState({resetMap:!0,filterCountry:""})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(d.a)(f.csvUrl).then((function(t){return e.setState({data:t,ready:!0})}))}},{key:"render",value:function(){var e=null;return this.state.ready&&(e=n.a.createElement("div",null,n.a.createElement(g,{data:this.state.data,handleCountryClick:this.handleCountryClick,resetMap:this.state.resetMap}),n.a.createElement(J,{data:this.state.data,filterCountry:this.state.filterCountry,resetMap:this.state.resetMap,handleResetMap:this.handleResetMap}))),n.a.createElement("div",{className:"App"},e)}}]),a}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[418,1,2]]]);
//# sourceMappingURL=main.eec0c860.chunk.js.map