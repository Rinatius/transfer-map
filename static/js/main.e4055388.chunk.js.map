{"version":3,"sources":["TransferTableComponent/src/utils/polyfill/index.js","TransferTableComponent/src/utils/polyfill/array.find.js","config.js","TransferMapComponent/TransferMapComponent.js","TransferTableComponent/m-table-filter-row.js","TransferTableComponent/m-table-body.js","TransferTableComponent/m-table-toolbar.js","TransferTableComponent/m-table-stepped-pagination.js","TransferTableComponent/common-values.js","TransferTableComponent/m-table-header.js","TransferTableComponent/src/components/m-table-action.js","TransferTableComponent/src/components/m-table-actions.js","TransferTableComponent/src/components/m-table-body.js","TransferTableComponent/src/utils/common-values.js","TransferTableComponent/src/components/m-table-body-row.js","TransferTableComponent/src/components/m-table-groupbar.js","TransferTableComponent/src/components/m-table-group-row.js","TransferTableComponent/src/components/m-table-cell.js","TransferTableComponent/src/utils/index.js","TransferTableComponent/src/components/m-table-edit-row.js","TransferTableComponent/src/components/m-table-edit-field.js","TransferTableComponent/src/components/m-table-filter-row.js","TransferTableComponent/src/components/m-table-header.js","TransferTableComponent/src/components/m-table-pagination.js","TransferTableComponent/src/components/m-table-stepped-pagination.js","TransferTableComponent/src/components/m-table-toolbar.js","TransferTableComponent/src/default-props.js","TransferTableComponent/src/prop-types.js","TransferTableComponent/src/utils/data-manager.js","TransferTableComponent/src/material-table.js","TransferTableComponent/src/index.js","TransferTableComponent/TransferTableComponent.js","Legend/Legend.js","App.js","serviceWorker.js","index.js"],"names":["Array","prototype","find","require","Object","defineProperty","value","predicate","this","TypeError","o","len","length","thisArg","arguments","k","kValue","call","defaultLegendTitleStyle","paddingLeft","height","color","fontFamily","fontSize","fontWeight","letterSpacing","defaultLegendBodyStyle","defaultLegendBoxStyle","paddingRight","tableOptions","csvUrl","mapOptions","fill","columns","transactionDateRange","title","field","hidden","searchable","sorting","grouping","filtering","type","defaultFilter","lookup","filterPlaceholder","width","customSort","a","b","Date","transactionDate","customFilterAndSearch","term","rowData","dateRange","rowDate","cellStyle","headerStyle","paidBy","paidTo","amount","render","parseInt","greaterThan","lessThan","console","log","fromCountry","country","purpose","bankSender","confidence","confirmed","textAlign","proof","imgLink","internal","bank","electronic","customs","linkColumn","story","table","search","paging","pageSize","textBody","hideFilterIcons","showTitle","pageSizeOptions","paginationType","padding","searchFieldAlignment","searchFieldVariant","loadingType","draggable","searchFieldStyle","boxShadow","border","backgroundColor","lineHeight","rowStyle","filterBoxStyle","paddingBottom","paddingTop","filterCellStyle","legend","img","body","titleStyle","bodyStyle","boxStyle","Set","projections","d3Geo","TransferMapComponent","config","countries","pairs","capitals","dataScaler","state","ready","conf","data","visibleCountries","visiblePairs","focusCountry","extractCountries","forEach","row","add","from_country","to_country","nestPairs","nest","key","d","rollup","count","total","sum","entries","countryClickHandler","has","setState","props","handleCountryClick","prevProps","resetMap","json","c","then","map","totals","values","t","push","scaleLinear","domain","extent","range","name","all","proj","rotate","scale","style","borderTop","projection","onClick","geography","geographies","geo","properties","countryFill","passive_color","hover","outline","focus_color","active_color","cursor","rsmKey","stroke","default","pressed","toCountry","x","get","latlng","slice","reverse","y","coordinates","transform","href","stroke-miterlimit","stroke-width","from","to","fromAbs","toAbs","dx","dy","connectorProps","strokeWidth","strokeLinecap","markerStart","subject","id","viewBox","refX","refY","markerUnits","markerWidth","markerHeight","orient","filterUnits","in","result","stdDeviation","filter","mask","fill-opacity","clip-path","textAnchor","label_text_style","toLocaleString","Component","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","MTableFilterRow","getLocalizationData","defaultProps","localization","getLocalizedFilterPlaceHolder","columnDef","filterPlaceHolder","renderLookupFilter","FormControl","InputLabel","htmlFor","marginTop","Select","multiple","tableData","filterValue","onChange","event","onFilterChanged","target","input","Input","renderValue","selecteds","selected","join","disableUnderline","keys","MenuItem","Checkbox","checked","indexOf","toString","ListItemText","primary","renderFilterComponent","React","filterComponent","renderBooleanFilter","indeterminate","undefined","val","renderDefaultFilter","FilterIcon","icons","Filter","TextField","placeholder","inputProps","InputProps","hideFilterIcon","startAdornment","InputAdornment","position","Tooltip","filterTooltip","renderDateTypeFilter","pickerProps","date","clearable","dateInputElement","DatePicker","DateTimePicker","TimePicker","utils","DateFnsUtils","locale","dateTimePickerLocalization","renderDateRangeTypeFilter","dateRangeChange","renderAmountRangeTypeFilter","Box","display","_","Typography","includes","groupOrder","sort","columnOrder","Grid","item","xs","sm","md","getComponentForColumn","className","resetFilters","backgroundRepeat","overflow","variant","TableRow","container","direction","justify","alignItems","selection","hasActions","MTableBody","dataForSum","renderData","getFilteredData","getNumOfRowsOnPage","emptyRowCount","rowHeight","options","showEmptyDataSourceMessage","addColumn","actions","hasDetailPanel","isTreeData","emptyRowsWhenPaging","TableCell","colSpan","emptyDataSourceMessage","r","index","editing","components","EditRow","editRow","mode","detailPanel","onEditingCanceled","onEditingApproved","getFieldValue","Row","level","onRowSelected","path","currentPage","onToggleDetailPanel","onRowClick","onTreeExpandChanged","hasAnyEditingRow","treeDataMaxLevel","groups","groupData","GroupRow","onGroupExpandChanged","col","col1","col2","TableBody","showAddRow","addRowPosition","initialFormData","renderGroupedRows","renderUngroupedRows","renderEmpty","filterRow","MTableToolbar","onSearchChange","searchText","dataManager","changeSearchText","onSearchChanged","defaultExportCsv","export","exportAllData","CsvBuilder","exportFileName","setDelimeter","exportDelimiter","setColumns","addRows","exportFile","exportCsv","exportButtonAnchorEl","columnsButtonAnchorEl","autoFocus","searchAutoFocus","classes","searchField","searchPlaceholder","fullWidth","searchTooltip","Search","endAdornment","IconButton","disabled","ResetSearch","columnsButton","showColumnsTitle","currentTarget","aria-label","showColumnsAriaLabel","ViewColumn","Menu","anchorEl","open","Boolean","onClose","opacity","addRemoveColumns","formControlLabel","component","removable","onColumnsChanged","exportButton","exportTitle","exportAriaLabel","Export","exportName","Actions","selectedRows","renderSelectedActions","renderDefaultActions","toolBarTitle","whiteSpace","textOverflow","showTextRowsSelected","nRowsSelected","replace","classNames","root","highlight","renderToolbarTitle","renderSearch","toolbarButtonAlignment","renderActions","spacer","withStyles","theme","spacing","palette","secondary","main","lighten","light","text","dark","flex","minWidth","MTablePaginationInner","setSum","formatMoney","decimalCount","decimal","thousands","Math","abs","isNaN","negativeSign","i","Number","toFixed","j","substr","e","handleFirstPageButtonClick","onChangePage","handleBackButtonClick","page","handleNextButtonClick","handleNumberButtonClick","number","handleLastPageButtonClick","max","ceil","rowsPerPage","start","end","buttons","p","buttonVariant","Button","size","maxWidth","minHeight","showFirstLastPageButtons","maxPages","pageStart","pageEnd","min","justifyContent","firstTooltip","firstAriaLabel","LastPage","FirstPage","previousTooltip","previousAriaLabel","PreviousPage","Hidden","smDown","renderPagesButton","nextTooltip","nextAriaLabel","NextPage","lastTooltip","lastAriaLabel","right","mb","totalNumOfRows","labelDisplayedRows","labelRowsPerPage","MTableSteppedPagination","flexShrink","marginLeft","withTheme","baseIconSize","elementSize","MTableHeader","content","draggableId","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","TableSortLabel","IconComponent","SortArrow","active","orderBy","orderDirection","thirdSortClick","onOrderChange","tooltip","align","header","boxSizing","rowActions","maxTreeLevel","selectionWidth","showSelectAllCheckbox","selectedCount","dataCount","onAllSelected","headers","renderHeader","hasSelection","splice","renderSelectionHeader","showActionsColumn","actionsHeaderIndex","endPos","renderActionsHeader","detailPanelColumnAlignment","renderDetailPanelColumnCell","TableHead","top","zIndex","background","paper","MTableAction","action","icon","Icon","iconProps","button","stopPropagation","MTableActions","Action","FilterRow","actionsColumnIndex","actionsColumnWidth","selectionMaxWidth","MTableBodyRow","rotateIconStyle","isOpen","CommonValues","Cell","actionsCellStyle","checkboxProps","selectionProps","styles","CustomIcon","transition","showDetailPanel","DetailPanel","panel","iconButton","animation","openIcon","childRows","isTreeExpanded","renderColumns","renderSelectionColumn","renderDetailPanelColumn","renderTreeDataColumn","rowProps","getStyle","panelIndex","isArray","MTableGroupbar","getItemStyle","isDragging","draggableStyle","userSelect","margin","getListStyle","isDraggingOver","borderStyle","droppableId","groupColumns","groupedBy","Chip","onSortChanged","label","float","groupSort","textTransform","onDelete","onGroupRemoved","MTableGroupRow","detail","column","isExpanded","freeCells","groupTitle","separator","groupRowSeparator","isoDateRegex","MTableCell","handleClickCell","disableClick","emptyValue","getEmptyValue","verticalAlign","Check","ThirdStateCheck","toLocaleDateString","exec","toLocaleTimeString","getCurrencyValue","currencySetting","Intl","NumberFormat","currency","currencyCode","minimumFractionDigits","maximumFractionDigits","format","cellProps","children","getRenderValue","byString","s","split","n","MTableEditRow","JSON","parse","stringify","createRowData","initialEditValue","reduce","prev","getCellStyle","allowEditing","editable","editComponent","EditComponent","EditField","obj","schema","pList","elem","setByString","onRowDataChange","readonlyValue","saveTooltip","Clear","cancelTooltip","borderBottom","deleteText","MTableEditField","getProps","SelectDisplayProps","String","renderLookupField","renderBooleanField","renderDateField","renderTimeField","renderDateTimeField","renderCurrencyField","renderTextField","alignSelf","flexBasis","MTablePagination","MComponents","Body","Container","Paper","elevation","Groupbar","Header","OverlayLoading","fade","CircularProgress","Pagination","TablePagination","Toolbar","Add","forwardRef","Delete","Edit","isLoading","detailPanelType","debounceInterval","doubleHorizontalScroll","tableLayout","toolbar","defaultExpanded","overflowY","pagination","labelRowsSelect","addTooltip","deleteTooltip","editTooltip","RefComponent","PropTypes","shape","current","element","StyledComponent","object","propTypes","arrayOf","oneOfType","func","string","isRequired","isFreeAction","bool","oneOf","any","defaultSort","node","onRowAdd","onRowUpdate","onRowDelete","Refresh","initialPage","maxBodyHeight","minBodyHeight","onFilterChange","onColumnDragged","onSelectionChange","onChangeRowsPerPage","onChangeColumnHidden","onTreeExpandChange","onQueryChange","tableRef","totalCount","DataManager","applyFilters","applySearch","applySort","lastDetailPanelRow","lastEditingRow","parentFunc","treefiedDataLength","groupedDataLength","filteredData","searchedData","groupedData","treefiedData","sortedData","pagedData","filtered","searched","grouped","treefied","sorted","paged","rootGroupsIndex","expandTreeForNodes","currentRow","parent","findDataByPath","isDataType","getRenderState","filterData","searchData","treefyData","sortData","pageData","originalData","currentDate","selectedDate","currentDateToCompare","selectedDateToCompare","formatDate","currentHour","selectedHour","toUpperCase","some","undefinedWidthColumns","usedWidth","defaultGroupOrder","defaultGroupSort","expanded","columnId","checkChildRows","childRow","setCheck","destination","source","last","pop","unshift","shift","newGroup","numHiddenBeforeStart","numVisibleBeforeStart","effectiveStart","effectiveEnd","numVisibleInRange","colsToMov","groupsIndex","dataType","list","tmpData","subData","colDef","group","findGroupByGroupPath","addRow","markedForTreeRemove","pointer","pathPart","markForTreeRemove","traverseChildrenAndUnmark","traverseTreeAndDeleteMarked","rowDataArray","sortGroups","sortGroupData","sortList","sortTree","startIndex","endIndex","MaterialTable","isRemoteData","isOutsidePageNumbers","changeAllSelected","changeColumnHidden","onChangeGroupOrder","groupedColumn","changeGroupOrder","onChangeOrder","newOrderBy","changeOrder","query","changeCurrentPage","changePageSize","onDragEnd","changeByDrag","changeGroupExpand","combine","reason","newData","oldData","catch","changeRowEditing","callback","setData","dataClicked","changeRowSelected","findSelecteds","onSearchChangeDebounce","debounce","changeFilterValue","onFilterChangeDebounce","filters","operator","appliedFilters","changeTreeExpand","changeDetailPanelVisibility","renderTable","Table","fixedColumns","left","parentChildData","getColumnsWidth","actionsWidth","calculatedProps","setDataManagerFields","renderState","tableContainerDiv","scrollWidth","isInit","defaultSortColumnIndex","defaultSortDirection","findIndex","setDefaultExpanded","changeApplySearch","changeApplyFilters","changeApplySort","changePaging","changeParentFunc","changeDetailPanelType","colClone","fixedPrevColumns","cleanColumns","fixedPropsColumns","propsChanged","equal","isEditable","isDeletable","floor","TableFooter","paginationRoot","paginationToolbar","caption","paginationCaption","selectRoot","paginationSelectRoot","overflowX","rowsPerPageOptions","SelectProps","ActionsComponent","subProps","nonce","cspNonce","ScrollBar","double","LinearProgress","renderFooter","horizontalScrollContainer","borderRadius","objColumns","numOfRows","createMuiTheme","typography","overrides","MuiTableCell","sizeSmall","MuiInputBase","MuiSelect","MuiTableSortLabel","MuiTableHead","borderWidth","borderTopWidth","borderBottomWidth","borderColor","TransferTableComponent","filterCountry","toolbarRef","createRef","paginationRef","getLookupData","initLookup","loadImage","setFilters","src","alt","turnImageToLink","dataCopy","link","cols","handleResetMap","sumOfFilteredData","parseFloat","getNumOfRowsOnCurrentPage","handleDateRange","filterAmountRange","filterDefault","filterDateRange","handleFilterChanged","items","itemList","pb","App","csv","Legend","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.e4055388.chunk.js","sourcesContent":["\"use strict\";\r\nif (!Array.prototype.find) {\r\n    require(\"./array.find\");\r\n}","Object.defineProperty(Array.prototype, 'find', {\r\n    value: function(predicate) {\r\n        if (this == null) {\r\n            throw new TypeError('\"this\" is null or not defined');\r\n        }\r\n        var o = Object(this);\r\n        var len = o.length >>> 0;\r\n        if (typeof predicate !== 'function') {\r\n            throw new TypeError('predicate must be a function');\r\n        }\r\n        var thisArg = arguments[1];\r\n        var k = 0;\r\n        while (k < len) {\r\n            var kValue = o[k];\r\n            if (predicate.call(thisArg, kValue, k, o)) {\r\n                return kValue;\r\n            }\r\n            k++;\r\n        }\r\n        return undefined;\r\n    }\r\n});","const defaultLegendTitleStyle = {\r\n  paddingLeft: '6px', \r\n  height: '19px',\r\n  color: '#515151',\r\n  fontFamily: \"Open Sans\",\r\n  fontSize: '14px',\r\n  fontWeight: '700',\r\n  letterSpacing: '-0.3px',}\r\n\r\nconst defaultLegendBodyStyle = {\r\n  height: '44px',\r\n  color: '#515151',\r\n  fontFamily: \"Open Sans\",\r\n  fontSize: '14px',\r\n  letterSpacing: '-0.3px',\r\n}\r\nconst defaultLegendBoxStyle = {\r\n  paddingLeft: '25px',\r\n  paddingRight: '25px'\r\n}\r\n\r\nconst tableOptions = {\r\n\r\n  csvUrl: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-map%2Fmockup_v3.csv?alt=media&token=3294afb4-be79-487a-938e-e919b7969230',\r\n\r\n  mapOptions: {\r\n    \"active_color\": \"#dbabac\",\r\n    \"passive_color\": \"#DDD\",\r\n    \"focus_color\": \"#bd3d3f\",\r\n    \"label_text_style\": {\r\n      fill: '#ffffff',\r\n      fontSize: '12px',\r\n      fontWeight: '900',\r\n      letterSpacing: '-0.26px'\r\n    },\r\n    \"capitals\": \"https://gist.githubusercontent.com/erdem/8c7d26765831d0f9a8c62f02782ae00d/raw/248037cd701af0a4957cce340dabb0fd04e38f4c/countries.json\"\r\n  },\r\n\r\n  \r\n  columns: {\r\n    transactionDateRange: {\r\n      title: \"Transaction date range\",\r\n      field: \"transactionDate\",\r\n      hidden: false,\r\n      searchable: false,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      type: 'date_range',\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      filterPlaceholder: 'Transaction date range',\r\n      width: 66,\r\n      customSort: (a, b) => {\r\n        return new Date(a.transactionDate) - new Date(b.transactionDate)\r\n      },\r\n      customFilterAndSearch: (term, rowData) => {\r\n        if (term.dateRange == null){\r\n          return true\r\n        }\r\n        const rowDate = new Date(rowData.transactionDate)\r\n        return rowDate >= term.dateRange[0] && rowDate <= term.dateRange[1]\r\n      },\r\n      cellStyle: {paddingLeft: 20},\r\n      headerStyle: {paddingLeft: 20}\r\n    },\r\n    paidBy: {\r\n      title: \"Paid by\",\r\n      field: \"paidBy\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'Payer...',\r\n      width: 66,\r\n    },\r\n    paidTo: {\r\n      title: \"Paid to\",\r\n      field: \"paidTo\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'Recipient...',\r\n      width: 66,\r\n    },\r\n    amount: {\r\n      title: \"Amount\",\r\n      field: \"amount\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      type: 'number_range',\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      filterPlaceholder: '',\r\n      width: 20,\r\n      render: rowData => {return '$' + rowData.amount},\r\n      customSort: (a, b) => {\r\n        return parseInt(a.amount) - parseInt(b.amount)\r\n      },\r\n      customFilterAndSearch: (term, rowData) => {\r\n        // this allows search to work\r\n        if (term[0] != null) {\r\n          return rowData[0] == term[0]\r\n        }\r\n        if (!term.greaterThan) {\r\n          term.greaterThan = ''\r\n        }\r\n        if (!term.lessThan) {\r\n          term.lessThan = ''\r\n        }\r\n        console.log(rowData)\r\n        console.log(term)\r\n        // there must be a better way to compare\r\n        if (term.greaterThan != '' && term.lessThan != '') {\r\n          return term.greaterThan <= parseInt(rowData.amount)\r\n            && term.lessThan >= parseInt(rowData.amount)\r\n        } else if (term.greaterThan != '' && term.lessThan == '') {\r\n          return term.greaterThan <= parseInt(rowData.amount)\r\n        } else if (term.greaterThan == '' && term.lessThan != '') {\r\n          return term.lessThan >= parseInt(rowData.amount)\r\n        } else {\r\n          return true\r\n        }\r\n      },\r\n    },\r\n    fromCountry: {\r\n      title: \"From Country\",\r\n      field: \"fromCountry\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'From country',\r\n      width: 66,\r\n    },\r\n    country: {\r\n      title: \"Country\",\r\n      field: \"country\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'To country...',\r\n      width: 66,\r\n    },\r\n    purpose: {\r\n      title: \"Purpose\",\r\n      field: \"purpose\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      width: 66,\r\n    },\r\n    type: {\r\n      title: \"Type\",\r\n      field: \"type\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      width: 66,\r\n    },\r\n    bankSender: {\r\n      title: \"Bank sender\",\r\n      field: \"bankSender\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: true,\r\n      defaultFilter: '',\r\n      lookup: '',\r\n      type: '',\r\n      filterPlaceholder: 'Bank...',\r\n      width: 60\r\n    },\r\n    confidence: {\r\n      title: \"Confidence\",\r\n      field: \"confidence\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      lookup: {confirmed: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FConfirmed.svg?alt=media&token=60873b2f-26ed-4c14-b210-8f5467709e1c'},\r\n      defaultFilter: '',\r\n      type: 'image',\r\n      cellStyle: {textAlign: 'center'},\r\n      width: 30,\r\n    },\r\n    proof: {\r\n      title: \"Proof\",\r\n      field: \"proof\",\r\n      hidden: false,\r\n      searchable: true,\r\n      sorting: true,\r\n      grouping: false,\r\n      filtering: false,\r\n      imgLink: {\r\n        internal: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FInternal.svg?alt=media&token=ea2ac9bf-5026-45ff-8074-0e5bd08b5e8a',\r\n        bank: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FBank.svg?alt=media&token=cf2d58c9-c18e-48e1-9033-8739f85a66eb',\r\n        electronic: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FElectronic.svg?alt=media&token=0a7b3d35-71a8-4f46-85a0-9bf681e7c2b0',\r\n        customs: 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FCustoms.svg?alt=media&token=71ecfae4-1c9e-459d-82a3-e8da707dbb9d'\r\n      },\r\n      linkColumn: 'proofLink',\r\n      defaultFilter: '',\r\n      type: 'image-link',\r\n      width: 30,\r\n      cellStyle: {textAlign: 'center', paddingRight: 20}\r\n    },\r\n    story: {\r\n        title: \"Story\",\r\n        field: \"story\",\r\n        hidden: true,\r\n        searchable: true,\r\n        sorting: true,\r\n        grouping: false,\r\n        filtering: true,\r\n        defaultFilter: '',\r\n        lookup: '',\r\n        type: '',\r\n        filterPlaceholder: 'Story...',\r\n        width: 66,\r\n      },\r\n  },\r\n  table: {\r\n    search: true,\r\n    sorting: true,\r\n    filtering: true,\r\n    grouping: false,\r\n    paging: true,\r\n    pageSize: 20,\r\n\r\n    textBody: 'Explore the dataset of transactions below:',\r\n\r\n    hideFilterIcons: true,\r\n    showTitle: false,\r\n    pageSizeOptions: [],\r\n    paginationType: 'stepped',\r\n    padding: 'dense',\r\n    searchFieldAlignment: 'left',\r\n    searchFieldVariant: 'standard',\r\n    loadingType: 'overlay',\r\n    draggable: false,\r\n\r\n    searchFieldStyle: {\r\n      width: '100%',\r\n      height: '35px',\r\n      boxShadow: 'inset 1px 2px 4px rgba(0, 0, 0, 0.35)',\r\n      border: '1px solid #979797',\r\n      backgroundColor: '#ffffff',\r\n    },\r\n\r\n    headerStyle: {\r\n      fontWeight: 700,\r\n      lineHeight: \"14px\"\r\n    },\r\n\r\n    rowStyle: {\r\n      height: '37px',\r\n    },\r\n\r\n    filterBoxStyle: {\r\n      paddingLeft: '5px',\r\n      paddingRight: '5px',\r\n      paddingBottom: '10px',\r\n      paddingTop: 'none'\r\n    },\r\n    \r\n    filterCellStyle: {\r\n      fontFamily: \"Open Sans\",\r\n      fontSize: \"14px\",\r\n      padding: \"none\",\r\n      width: \"90px\",\r\n    }\r\n  },\r\n\r\n  legend: {\r\n    confirmed: {\r\n      img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FConfirmed.svg?alt=media&token=60873b2f-26ed-4c14-b210-8f5467709e1c',\r\n      title: 'Confirmed',\r\n      body: \"Confirmed by U.S. Bank Records\",\r\n      titleStyle: defaultLegendTitleStyle,\r\n      bodyStyle: defaultLegendBodyStyle,\r\n      boxStyle: defaultLegendBoxStyle\r\n    },\r\n    internal: \r\n      {\r\n        img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FInternal.svg?alt=media&token=ea2ac9bf-5026-45ff-8074-0e5bd08b5e8a',\r\n        title: 'Internal',\r\n        body: \"Saimatis internal documents (spreadsheet)\",\r\n        titleStyle: defaultLegendTitleStyle,\r\n        bodyStyle: defaultLegendBodyStyle,\r\n        boxStyle: defaultLegendBoxStyle\r\n      },\r\n    bank: \r\n      {\r\n        img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FBank.svg?alt=media&token=cf2d58c9-c18e-48e1-9033-8739f85a66eb',\r\n        title: 'Bank transfer',\r\n        body: \"Scanned PDF of hard copies of bank transfer\",\r\n        titleStyle: defaultLegendTitleStyle,\r\n        bodyStyle: defaultLegendBodyStyle,\r\n        boxStyle: defaultLegendBoxStyle\r\n      },\r\n    electronic: \r\n      {\r\n        img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FElectronic.svg?alt=media&token=0a7b3d35-71a8-4f46-85a0-9bf681e7c2b0',\r\n        title: 'Electronic transfer',\r\n        body: \"Electronic PDF copies of bank transfer\",\r\n        titleStyle: defaultLegendTitleStyle,\r\n        bodyStyle: defaultLegendBodyStyle,\r\n        boxStyle: defaultLegendBoxStyle\r\n      },\r\n    customs: \r\n      {\r\n        img:'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-table%2FCustoms.svg?alt=media&token=71ecfae4-1c9e-459d-82a3-e8da707dbb9d',\r\n        title: 'Customs',\r\n        body: \"Customs declaration form as scanned PDF\",\r\n        titleStyle: defaultLegendTitleStyle,\r\n        bodyStyle: defaultLegendBodyStyle,\r\n        boxStyle: defaultLegendBoxStyle\r\n      }\r\n    },\r\n\r\n}\r\n\r\n\r\n// myJSON = JSON.stringify(tableOptions,null, 4);\r\nexport default tableOptions\r\n\r\n// export default tableOptions\r\n\r\n\r\n//     console.log(myJSON)\r\n//     console.log(typeof(myJSON))\r\n\r\n\r\n// let objJSON = JSON.parse(myJSON);\r\n//     console.log(objJSON)\r\n//     console.log(typeof(objJSON))    \r\n\r\n// let newJSON = JSON.stringify(objJSON,null, 4);\r\n//     console.log(newJSON)\r\n//     console.log(typeof(newJSON))","import React, { Component } from 'react'\r\nimport {\r\n  ComposableMap,\r\n  ZoomableGroup,\r\n  Geographies,\r\n  Geography,\r\n  Line,\r\n  Marker,\r\n  Annotation\r\n} from 'react-simple-maps'\r\n\r\n\r\nimport {\r\n  csv,\r\n  json,\r\n  nest,\r\n  sum,\r\n  extent,\r\n  scaleLinear,\r\n  line,\r\n  curveBasis\r\n} from 'd3'\r\n\r\nimport * as d3Geo from \"d3-geo\"\r\n\r\nimport config from '../config';\r\n\r\nconst { Set } = require('immutable');\r\n\r\nconst configURL = 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-map%2Fmap_config.json?alt=media&token=170acf67-7f33-4da3-ba43-e01b6620469a'\r\nconst geoUrl = 'https://firebasestorage.googleapis.com/v0/b/newagent-b0720.appspot.com/o/transfer-map%2Fcountries-110m.json?alt=media&token=94f12c4b-592b-46d9-8761-a20a94c09b20'\r\n\r\nconst { geoPath, ...projections } = d3Geo\r\n\r\nclass TransferMapComponent extends Component {\r\n\r\n  config = {};\r\n  countries = Set([]);\r\n  pairs = [];\r\n  capitals = {};\r\n  dataScaler = null;\r\n\r\n  state = {\r\n    ready: false,\r\n    conf: {},\r\n    data: [],\r\n    visibleCountries: Set([]),\r\n    visiblePairs: [],\r\n    focusCountry: null\r\n  }\r\n\r\n  extractCountries = (table) => {\r\n    table.forEach(row => {\r\n      this.countries = this.countries.add(row.from_country)\r\n      this.countries = this.countries.add(row.to_country)\r\n    })\r\n  }\r\n\r\n  nestPairs = (data) => {\r\n    return nest()\r\n      .key(d => d.from_country)\r\n      .key(d => d.to_country)\r\n      .rollup(value => {\r\n        return {\r\n          count: value.length,\r\n          total: sum(value, d => d.amount)\r\n        }\r\n    })\r\n      .entries(data)\r\n  }\r\n\r\n  countryClickHandler = (country) => {\r\n    console.log('country click')\r\n    if (this.countries.has(country)) {\r\n      this.setState({\r\n        focusCountry: country\r\n      })\r\n      this.props.handleCountryClick(country)\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.resetMap !== this.props.resetMap && this.props.resetMap) {\r\n      this.setState({focusCountry: null})\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    json(config.mapOptions.capitals, c => c)\r\n      .then(capitals => {\r\n        const table = this.props.data.map(row => {\r\n          return {\r\n            from_country: row[config.columns.fromCountry.field],\r\n            to_country: row[config.columns.country.field],\r\n            amount: row[config.columns.amount.field]\r\n          }\r\n        })\r\n        this.extractCountries(table)\r\n        this.pairs = this.nestPairs(table);\r\n        const totals = []\r\n        this.pairs.forEach(d => d.values.forEach(t => {\r\n          totals.push(t.value.total)\r\n        }))\r\n        console.log(this.pairs)\r\n        this.dataScaler = scaleLinear()\r\n          .domain(extent(totals))\r\n          .range([1, 5])\r\n        this.capitals = nest()\r\n          .key(d => d.name)\r\n          .map(capitals)\r\n        console.log(this.capitals)\r\n        this.setState({\r\n          data: table,\r\n          ready: true,\r\n          visibleCountries: this.countries,\r\n          visiblePairs: this.pairs\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n\r\n    let all = null;\r\n    if (this.state.ready) {\r\n      const proj = projections[\"geoEqualEarth\"]().rotate([-40, 0]).scale(180)\r\n      all = (\r\n        <div style={{\r\n          borderTop: '2px solid #931e1d',\r\n          paddingTop: '25px',\r\n        }}>\r\n          <ComposableMap projection={proj}\r\n                         width={900}\r\n                         height={500}\r\n                         onClick={this.handleCountryClick}>\r\n            <Geographies geography={geoUrl}>\r\n              {({geographies}) =>\r\n                geographies.map(geo => {\r\n                  const c = this.state.visibleCountries.has(geo.properties.name);\r\n                  const focusCountry = (this.state.focusCountry === geo.properties.name);\r\n                  let countryFill = config.mapOptions.passive_color;\r\n                  let hover = {outline: \"none\"};\r\n                  if (focusCountry) {\r\n                    countryFill = config.mapOptions.focus_color\r\n                  } else if (c) {\r\n                    countryFill = config.mapOptions.active_color\r\n                    hover = {outline: \"none\", cursor: \"pointer\"}\r\n                  }\r\n                  ;\r\n                  return (\r\n                    <Geography\r\n                      key={geo.rsmKey}\r\n                      geography={geo}\r\n                      onClick={() => this.countryClickHandler(geo.properties.name)}\r\n                      stroke='#FFF'\r\n                      fill={countryFill}\r\n                      style={{\r\n                        default: {outline: \"none\"},\r\n                        hover: hover,\r\n                        pressed: {outline: \"none\"},\r\n                      }}\r\n                    />\r\n                  )\r\n                })}\r\n            </Geographies>\r\n\r\n            {this.state.visiblePairs.map(fromCountry =>\r\n              fromCountry.values.map(toCountry => {\r\n                let x = this.capitals.get(toCountry.key)[0].latlng.slice().reverse()[0] - 2\r\n                let y = this.capitals.get(toCountry.key)[0].latlng.slice().reverse()[1] + 0.5\r\n                return <Marker\r\n\r\n                  coordinates={[x, y]}>\r\n                  <g transform=\"translate(-2, -3)\">\r\n                    <g>\r\n                      <image width=\"17\" height=\"11\" transform=\"translate(-1)\"\r\n                             href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAALCAYAAACZIGYHAAABAklEQVQoU63SOUtEQRAE4G+9bxA8MBHFTM0EM03M/MGGBpoZmKiZgZiIGggeKK4Xtcw8HrKJYEPTPQNVXV0zHf8QnT4cuRtoZc7fJT/xVfoG2iZJP4IJTJYcxxA+8IqXVnYrWSVJDWABq1gu/QyGEcAjbnGNq9K/haiSZFoItrCDdcwXNYNlhWfc4QLHOMV9VFaSTMv0PexjE7NlvfgTH97xgDMc4LCo6raVLGIbu9jAXPEnSmJoPMnkcxzhpChrlIQshi5hDStlnemWsXWd+HGJm0LceJLnCtFo8SHgKYyhKomJIXoqNevl6XvA35G7AONFav0n9Y+k9sA1+pH8+Q//AP87QAx5oVJdAAAAAElFTkSuQmCC\"/>\r\n                    </g>\r\n                    <g>\r\n                      <path fill=\"#fff\"\r\n                            d=\"M12.122 4.664c0 1.035-2.12 1.874-4.735 1.874-2.616 0-4.737-.839-4.737-1.874 0-1.035 2.121-1.874 4.737-1.874 2.615 0 4.735.839 4.735 1.874\"/>\r\n                    </g>\r\n                    <g>\r\n                      <path fill=\"none\" stroke=\"#666\" stroke-miterlimit=\"20\" stroke-width=\".25\"\r\n                            d=\"M12.122 4.664c0 1.035-2.12 1.874-4.735 1.874-2.616 0-4.737-.839-4.737-1.874 0-1.035 2.121-1.874 4.737-1.874 2.615 0 4.735.839 4.735 1.874z\"/>\r\n                    </g>\r\n                  </g>\r\n                </Marker>\r\n\r\n              })\r\n            )}\r\n\r\n            {this.state.visiblePairs.map(fromCountry =>\r\n              fromCountry.values.map(toCountry => {\r\n                const from = this.capitals.get(fromCountry.key)[0].latlng.slice().reverse()\r\n                const to = this.capitals.get(toCountry.key)[0].latlng.slice().reverse()\r\n                const fromAbs = proj(from)\r\n                const toAbs = proj(to)\r\n                const dx = toAbs[0] - fromAbs[0]\r\n                const dy = toAbs[1] - fromAbs[1]\r\n                const connectorProps = {\r\n                  stroke: \"#931e1d\",\r\n                  strokeWidth: this.dataScaler(toCountry.value.total),\r\n                  strokeLinecap: \"butt\",\r\n                  markerStart: \"url(#triangle)\"\r\n                }\r\n                //const connectorPath = `M${0}, ${0} l${-dx},${-dy}`\r\n                return <Annotation\r\n                  subject={from}\r\n                  dx={dx}\r\n                  dy={dy}\r\n                  connectorProps={connectorProps}\r\n                >\r\n                  {/*<path d={connectorPath} {...connectorProps}/>*/}\r\n\r\n                  <defs>\r\n\r\n                    <marker id=\"triangle\" viewBox=\"0 0 10 10\"\r\n                            refX=\"3\" refY=\"5\"\r\n                            markerUnits=\"strokeWidth\"\r\n                            markerWidth=\"2.5\" markerHeight=\"5\"\r\n                            orient=\"auto\">\r\n                      <path d=\"M 10 0 L 10 10 L 0 5 z\" fill=\"#931e1d\"/>\r\n                    </marker>\r\n                  </defs>\r\n                </Annotation>\r\n              })\r\n            )}\r\n\r\n            {this.state.visiblePairs.map(fromCountry =>\r\n              fromCountry.values.map(toCountry => {\r\n                return <Marker\r\n                  coordinates={this.capitals.get(toCountry.key)[0].latlng.slice().reverse()}\r\n                >\r\n\r\n                  <defs>\r\n                    <mask id=\"k4zgb\" width=\"2\" height=\"2\" x=\"-1\" y=\"-1\">\r\n                      <path fill=\"#fff\" d=\"M2 1h104v39H2z\"/>\r\n                      <path d=\"M2 1h104v34H59l-5 5-5-5H2z\"/>\r\n                    </mask>\r\n                    <filter id=\"k4zga\" width=\"128\" height=\"64\" x=\"-10\" y=\"-11\" filterUnits=\"userSpaceOnUse\">\r\n                      <feOffset dy=\"1\" in=\"SourceGraphic\" result=\"FeOffset1023Out\"/>\r\n                      <feGaussianBlur in=\"FeOffset1023Out\" result=\"FeGaussianBlur1024Out\" stdDeviation=\"0.8 0.8\"/>\r\n                    </filter>\r\n                    <clipPath id=\"k4zgc\">\r\n                      <path fill=\"#fff\" d=\"M2 1h104v34H59l-5 5-5-5H2z\"/>\r\n                    </clipPath>\r\n                  </defs>\r\n                  <g\r\n                    transform=\"translate(-54, -45)\"\r\n                  >\r\n                    <g>\r\n                      <g filter=\"url(#k4zga)\">\r\n                        <path fill=\"none\" d=\"M2 1h104v34H59l-5 5-5-5H2z\" mask=\"url(&quot;#k4zgb&quot;)\"/>\r\n                        <path fill-opacity=\".35\" d=\"M2 1h104v34H59l-5 5-5-5H2z\"/>\r\n                      </g>\r\n                      <path fill=\"#931e1d\" d=\"M2 1h104v34H59l-5 5-5-5H2z\"/>\r\n                      <path fill=\"none\" stroke=\"#fff\" stroke-miterlimit=\"20\" stroke-width=\"2\"\r\n                            d=\"M2 1h104v34H59l-5 5-5-5H2z\" clip-path=\"url(&quot;#k4zgc&quot;)\"/>\r\n                    </g>\r\n                  </g>\r\n\r\n                  <text\r\n                    textAnchor=\"middle\"\r\n                    y={-30}\r\n                    style={config.mapOptions.label_text_style}\r\n                  >\r\n                    {('$' + toCountry.value.total.toLocaleString(('en-US')) + '\\n')}\r\n                  </text>\r\n                  <text\r\n                    textAnchor=\"middle\"\r\n                    y={-15}\r\n                    style={config.mapOptions.label_text_style}\r\n                  >\r\n                    {(toCountry.value.count + ' ' + 'transactions')}\r\n                  </text>\r\n                </Marker>\r\n\r\n              })\r\n            )}\r\n          </ComposableMap>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        {all}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TransferMapComponent;","/* eslint-disable no-unused-vars */\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FilterIcon from '@material-ui/icons/FilterList';\r\nimport * as _ from 'lodash';\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, TimePicker, DatePicker, DateTimePicker } from '@material-ui/pickers';\r\nimport { Button } from '@material-ui/core';\r\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker';\r\n//import DateRangePicker from '@wojtekmaj/react-daterange-picker/dist/entry.nostyle';\r\nimport Box from '@material-ui/core/Box'\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250\r\n    }\r\n  }\r\n};\r\n\r\nclass MTableFilterRow extends React.Component {\r\n  getLocalizationData = () => ({ ...MTableFilterRow.defaultProps.localization, ...this.props.localization });\r\n  getLocalizedFilterPlaceHolder = columnDef => columnDef.filterPlaceholder || this.getLocalizationData().filterPlaceHolder || \"\";\r\n\r\n  renderLookupFilter = (columnDef) => (\r\n    <FormControl style={{ width: '100%' }}>\r\n      <InputLabel htmlFor=\"select-multiple-checkbox\" style={{marginTop: -16}}>{this.getLocalizedFilterPlaceHolder(columnDef)}</InputLabel>\r\n      <Select\r\n        multiple\r\n        value={columnDef.tableData.filterValue || []}\r\n        onChange={event => {\r\n          this.props.onFilterChanged(columnDef.tableData.id, event.target.value);\r\n        }}\r\n        input={<Input id=\"select-multiple-checkbox\" />}\r\n        renderValue={selecteds => selecteds.map(selected => columnDef.lookup[selected]).join(', ')}\r\n        MenuProps={MenuProps}\r\n        style={{...this.props.cellStyle, marginTop: 0}}\r\n        disableUnderline\r\n      >\r\n        {\r\n          Object.keys(columnDef.lookup).map(key => (\r\n            <MenuItem key={key} value={key}>\r\n              <Checkbox checked={columnDef.tableData.filterValue ? columnDef.tableData.filterValue.indexOf(key.toString()) > -1 : false} />\r\n              <ListItemText primary={columnDef.lookup[key]} />\r\n            </MenuItem>\r\n          ))\r\n        }\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n  renderFilterComponent = (columnDef) => (\r\n    React.createElement(columnDef.filterComponent, { columnDef: columnDef, onFilterChanged: this.props.onFilterChanged })\r\n  )\r\n\r\n  renderBooleanFilter = (columnDef) => (\r\n    <Checkbox\r\n      indeterminate={columnDef.tableData.filterValue === undefined}\r\n      checked={columnDef.tableData.filterValue === 'checked'}\r\n      onChange={() => {\r\n        let val;\r\n        if (columnDef.tableData.filterValue === undefined) {\r\n          val = 'checked';\r\n        } else if (columnDef.tableData.filterValue === 'checked') {\r\n          val = 'unchecked';\r\n        }\r\n\r\n        this.props.onFilterChanged(columnDef.tableData.id, val);\r\n      }}\r\n    />\r\n  )\r\n\r\n  renderDefaultFilter = (columnDef) => {\r\n    const localization = this.getLocalizationData();\r\n    const FilterIcon = this.props.icons.Filter;\r\n    return (\r\n      <TextField\r\n        // style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        style={this.props.cellStyle}\r\n        type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        value={columnDef.tableData.filterValue || ''}\r\n        placeholder={this.getLocalizedFilterPlaceHolder(columnDef)}\r\n        onChange={(event) => {\r\n          this.props.onFilterChanged(columnDef.tableData.id, event.target.value);\r\n        }}\r\n        inputProps={{'aria-label': `filter data by ${columnDef.title}`}}\r\n        InputProps={this.props.hideFilterIcons || columnDef.hideFilterIcon ? undefined : {\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Tooltip title={localization.filterTooltip}>\r\n                <FilterIcon/>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          )\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDateTypeFilter = (columnDef) => {\r\n    const onDateInputChange = date => this.props.onFilterChanged(columnDef.tableData.id, date);\r\n    const pickerProps = {\r\n      value: columnDef.tableData.filterValue || null,\r\n      onChange: onDateInputChange,\r\n      placeholder: this.getLocalizedFilterPlaceHolder(columnDef),\r\n      clearable: true\r\n    };\r\n\r\n    let dateInputElement = null;\r\n    if (columnDef.type === 'date') {\r\n      dateInputElement = (\r\n        <DatePicker {...pickerProps} />\r\n      );\r\n    } else if (columnDef.type === 'datetime') {\r\n      dateInputElement = (\r\n        <DateTimePicker {...pickerProps} />\r\n      );\r\n    } else if (columnDef.type === 'time') {\r\n      dateInputElement = (\r\n        <TimePicker {...pickerProps} />\r\n      );\r\n    }\r\n    return (\r\n      <MuiPickersUtilsProvider\r\n        utils={DateFnsUtils}\r\n        locale={this.props.localization.dateTimePickerLocalization}>\r\n        {dateInputElement}\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n\r\n  renderDateRangeTypeFilter = (columnDef) => {\r\n    return(\r\n      <DateRangePicker\r\n        onChange={(dateRange) => {\r\n          console.log('on change')\r\n          const value = {...columnDef.tableData.filterValue};\r\n          console.log(value)\r\n          value.dateRange = dateRange\r\n          this.props.dateRangeChange(dateRange)\r\n          this.props.onFilterChanged(columnDef.tableData.id, value);\r\n        }}\r\n        value={this.props.dateRange}\r\n\t\t\t/>\r\n    )\r\n  }\r\n\r\n\r\n  renderAmountRangeTypeFilter = (columnDef) => {\r\n    return (\r\n      <Box display=\"flex\">\r\n      <TextField\r\n        //style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        style={this.props.cellStyle}\r\n        type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        value={_.get(columnDef, ['tableData', 'filterValue', 'greaterThan']) || ''}\r\n        placeholder={columnDef.filterPlaceholder || ''}\r\n        onChange={(event) => {\r\n          console.log('on change')\r\n          const value = {...columnDef.tableData.filterValue};\r\n          console.log(value)\r\n          value.greaterThan = event.target.value;\r\n          this.props.onFilterChanged(columnDef.tableData.id, value);\r\n        }}\r\n        InputProps={\r\n          columnDef.hideFilterIcon ? undefined : {\r\n          disableUnderline: true,\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Tooltip title=\"Filter greater than\">\r\n                <div style={{display: 'flex'}}>\r\n                  <FilterIcon />\r\n                  <Typography>{'>'}</Typography>\r\n                </div>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          )\r\n        }}\r\n      />\r\n      <TextField\r\n        // style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        style={this.props.cellStyle}\r\n        type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        value={_.get(columnDef, ['tableData', 'filterValue', 'lessThan']) || ''}\r\n        placeholder={columnDef.filterPlaceholder || ''}\r\n        onChange={(event) => {\r\n          const value = {...columnDef.tableData.filterValue};\r\n          value.lessThan = event.target.value;\r\n          this.props.onFilterChanged(columnDef.tableData.id, value);\r\n        }}\r\n        InputProps={columnDef.hideFilterIcon ? undefined : {\r\n          disableUnderline: true,\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Tooltip title=\"Filter less than\">\r\n                <div style={{display: 'flex'}}>\r\n                  <FilterIcon />\r\n                  <Typography>{'<'}</Typography>\r\n                </div>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          )\r\n        }}\r\n      />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  getComponentForColumn(columnDef) {\r\n    if (columnDef.filtering === false) {\r\n      return null;\r\n    }\r\n\r\n    if (columnDef.field || columnDef.customFilterAndSearch) {\r\n      if (columnDef.filterComponent) {\r\n        return this.renderFilterComponent(columnDef);\r\n      } else if (columnDef.lookup) {\r\n        return this.renderLookupFilter(columnDef);\r\n      } else if (columnDef.type === 'boolean') {\r\n        return this.renderBooleanFilter(columnDef);\r\n      } else if (['date', 'datetime', 'time'].includes(columnDef.type)) {\r\n        return this.renderDateTypeFilter(columnDef);\r\n      } else if (columnDef.type === 'number_range'){\r\n        return this.renderAmountRangeTypeFilter(columnDef)\r\n      } else if (columnDef.type === 'date_range') {\r\n        return this.renderDateRangeTypeFilter(columnDef)\r\n      } else {\r\n        return this.renderDefaultFilter(columnDef);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const columns = this.props.columns\r\n      .filter(columnDef => columnDef.filtering && !(columnDef.tableData.groupOrder > -1))\r\n      .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n      .map(columnDef => (\r\n        // <Box key={columnDef.tableData.id} style={this.props.boxStyle}>\r\n        //   {this.getComponentForColumn(columnDef)}\r\n        // </Box>\r\n        <Grid item xs=\"auto\" sm=\"auto\" md=\"auto\" key={columnDef.tableData.id} style={this.props.boxStyle}>\r\n          {this.getComponentForColumn(columnDef)}\r\n        </Grid>\r\n      ));\r\n\r\n    ///////////  ///////////\r\n\r\n    columns.push(\r\n    <Box key={\"filters-reset-button\"}>\r\n      <button className={\"filters-reset-button\"} \r\n        onClick={this.props.resetFilters}\r\n        style={{\r\n          ...this.props.boxStyle,\r\n          backgroundColor: 'Transparent',\r\n          backgroundRepeat:'no-repeat',\r\n          border: 'none',\r\n          cursor:'pointer',\r\n          overflow: 'hidden',\r\n          outline:'none',\r\n          // position: 'absolute',\r\n          // right: 0,\r\n        }} ><Typography variant=\"body2\" style={{width: \"96px\", fontFamily: \"Open Sans\",}}>Reset all filters</Typography>\r\n      </button>\r\n    </Box>\r\n    );\r\n    \r\n    ///////////  ///////////\r\n    \r\n\r\n    return (\r\n      <TableRow>\r\n        <Grid container style={{paddingLeft: '20px'}}\r\n        direction=\"row\"\r\n        justify=\"left\"\r\n        alignItems=\"center\">\r\n          {columns}\r\n        </Grid>\r\n      </TableRow>\r\n    );\r\n  }\r\n}\r\n\r\nMTableFilterRow.defaultProps = {\r\n  columns: [],\r\n  selection: false,\r\n  hasActions: false,\r\n  localization: {\r\n    filterTooltip: 'Filter'\r\n  },\r\n  hideFilterIcons: false,\r\n};\r\n\r\nMTableFilterRow.propTypes = {\r\n  columns: PropTypes.array.isRequired,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  isTreeData: PropTypes.bool.isRequired,\r\n  onFilterChanged: PropTypes.func.isRequired,\r\n  filterCellStyle: PropTypes.object,\r\n  selection: PropTypes.bool.isRequired,\r\n  actionsColumnIndex: PropTypes.number,\r\n  hasActions: PropTypes.bool,\r\n  localization: PropTypes.object,\r\n  hideFilterIcons: PropTypes.bool,\r\n};\r\n\r\nexport default MTableFilterRow;\r\n","/* eslint-disable no-unused-vars */\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTableBody extends React.Component {\r\n\r\n  state = {dataForSum: this.props.renderData} //    \r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.renderData !== this.props.renderData)\r\n    {\r\n      this.props.getFilteredData()\r\n      this.props.getNumOfRowsOnPage(this.props.renderData.length)\r\n    }\r\n  } //    \r\n\r\n  renderEmpty(emptyRowCount, renderData) {\r\n    const rowHeight = this.props.options.padding === 'default' ? 49 : 36;\r\n    const localization = { ...MTableBody.defaultProps.localization, ...this.props.localization };\r\n    if (this.props.options.showEmptyDataSourceMessage && renderData.length === 0) {\r\n      let addColumn = 0;\r\n      if (this.props.options.selection) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.actions && this.props.actions.filter(a => a.position === \"row\" || typeof a === \"function\").length > 0) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.hasDetailPanel) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.isTreeData) {\r\n        addColumn++;\r\n      }\r\n      return (\r\n        <TableRow style={{ height: rowHeight * (this.props.options.paging && this.props.options.emptyRowsWhenPaging ? this.props.pageSize : 1) }} key={'empty-' + 0} >\r\n          <TableCell style={{ paddingTop: 0, paddingBottom: 0, textAlign: 'center' }} colSpan={this.props.columns.length + addColumn} key=\"empty-\">\r\n            {localization.emptyDataSourceMessage}\r\n          </TableCell>\r\n        </TableRow>\r\n      );\r\n    } else if (this.props.options.emptyRowsWhenPaging) {\r\n      return (\r\n        <React.Fragment>\r\n          {[...Array(emptyRowCount)].map((r, index) => <TableRow style={{ height: rowHeight }} key={'empty-' + index} />)}\r\n          {emptyRowCount > 0 && <TableRow style={{ height: 1 }} key={'empty-last1'} />}\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderUngroupedRows(renderData) {\r\n    return renderData.map((data, index) => {\r\n      if (data.tableData.editing) {\r\n        return (\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            components={this.props.components}\r\n            data={data}\r\n            icons={this.props.icons}\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow, dateTimePickerLocalization: this.props.localization.dateTimePickerLocalization }}\r\n            key={index}\r\n            mode={data.tableData.editing}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        );\r\n      }\r\n      else {\r\n        return (\r\n          <this.props.components.Row\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            data={data}\r\n            index={index}\r\n            key={\"row-\" + data.tableData.id}\r\n            level={0}\r\n            options={this.props.options}\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            onRowSelected={this.props.onRowSelected}\r\n            actions={this.props.actions}\r\n            columns={this.props.columns}\r\n            getFieldValue={this.props.getFieldValue}\r\n            detailPanel={this.props.detailPanel}\r\n            path={[index + this.props.pageSize * this.props.currentPage]}\r\n            onToggleDetailPanel={this.props.onToggleDetailPanel}\r\n            onRowClick={this.props.onRowClick}\r\n            isTreeData={this.props.isTreeData}\r\n            onTreeExpandChanged={this.props.onTreeExpandChanged}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n            treeDataMaxLevel={this.props.treeDataMaxLevel}\r\n          />\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  renderGroupedRows(groups, renderData) {\r\n    return renderData.map((groupData, index) => (\r\n      <this.props.components.GroupRow\r\n        actions={this.props.actions}\r\n        key={groupData.value == null ? ('' + index) : groupData.value}\r\n        columns={this.props.columns}\r\n        components={this.props.components}\r\n        detailPanel={this.props.detailPanel}\r\n        getFieldValue={this.props.getFieldValue}\r\n        groupData={groupData}\r\n        groups={groups}\r\n        icons={this.props.icons}\r\n        level={0}\r\n        path={[index + this.props.pageSize * this.props.currentPage]}\r\n        onGroupExpandChanged={this.props.onGroupExpandChanged}\r\n        onRowSelected={this.props.onRowSelected}\r\n        onRowClick={this.props.onRowClick}\r\n        onEditingCanceled={this.props.onEditingCanceled}\r\n        onEditingApproved={this.props.onEditingApproved}\r\n        onToggleDetailPanel={this.props.onToggleDetailPanel}\r\n        onTreeExpandChanged={this.props.onTreeExpandChanged}\r\n        options={this.props.options}\r\n        isTreeData={this.props.isTreeData}\r\n        hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n        localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n      />\r\n    ));\r\n  }\r\n\r\n\r\n  render() {\r\n    let renderData = this.props.renderData;\r\n    const groups = this.props.columns\r\n      .filter(col => col.tableData.groupOrder > -1)\r\n      .sort((col1, col2) => col1.tableData.groupOrder - col2.tableData.groupOrder);\r\n\r\n    let emptyRowCount = 0;\r\n    if (this.props.options.paging) {\r\n      emptyRowCount = this.props.pageSize - renderData.length;\r\n    }\r\n\r\n    return (\r\n      <TableBody>\r\n        {/* {this.props.options.filtering &&\r\n          <this.props.components.FilterRow\r\n            columns={this.props.columns}\r\n            // columns={this.props.columns.filter(columnDef => !columnDef.hidden)} //  \r\n            icons={this.props.icons}\r\n            hasActions={this.props.actions.filter(a => a.position === \"row\" || typeof a === \"function\").length > 0}\r\n            actionsColumnIndex={this.props.options.actionsColumnIndex}\r\n            onFilterChanged={this.props.onFilterChanged}\r\n            selection={this.props.options.selection}\r\n            localization={{ ...MTableBody.defaultProps.localization.filterRow, ...this.props.localization.filterRow, dateTimePickerLocalization: this.props.localization.dateTimePickerLocalization }}\r\n            hasDetailPanel={!!this.props.detailPanel}\r\n            isTreeData={this.props.isTreeData}\r\n            filterCellStyle={this.props.options.filterCellStyle}\r\n            hideFilterIcons={this.props.options.hideFilterIcons}\r\n            resetFilters={this.props.resetFilters} //    \r\n          />\r\n        } */}\r\n\r\n        {this.props.showAddRow && this.props.options.addRowPosition === \"first\" &&\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            data={this.props.initialFormData}\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            key=\"key-add-row\"\r\n            mode=\"add\"\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        }\r\n\r\n        {groups.length > 0 ?\r\n          this.renderGroupedRows(groups, renderData) :\r\n          this.renderUngroupedRows(renderData)\r\n        }\r\n\r\n        {this.props.showAddRow && this.props.options.addRowPosition === \"last\" &&\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            data={this.props.initialFormData}\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            key=\"key-add-row\"\r\n            mode=\"add\"\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        }\r\n        {this.renderEmpty(emptyRowCount, renderData)}\r\n      </TableBody>\r\n    );\r\n  }\r\n}\r\n\r\nMTableBody.defaultProps = {\r\n  actions: [],\r\n  currentPage: 0,\r\n  pageSize: 5,\r\n  renderData: [],\r\n  selection: false,\r\n  localization: {\r\n    emptyDataSourceMessage: 'No records to display',\r\n    filterRow: {},\r\n    editRow: {}\r\n  }\r\n};\r\n\r\nMTableBody.propTypes = {\r\n  actions: PropTypes.array,\r\n  components: PropTypes.object.isRequired,\r\n  columns: PropTypes.array.isRequired,\r\n  currentPage: PropTypes.number,\r\n  detailPanel: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.func]))]),\r\n  getFieldValue: PropTypes.func.isRequired,\r\n  hasAnyEditingRow: PropTypes.bool,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  icons: PropTypes.object.isRequired,\r\n  isTreeData: PropTypes.bool.isRequired,\r\n  onRowSelected: PropTypes.func,\r\n  options: PropTypes.object.isRequired,\r\n  pageSize: PropTypes.number,\r\n  renderData: PropTypes.array,\r\n  initialFormData: PropTypes.object,\r\n  selection: PropTypes.bool.isRequired,\r\n  showAddRow: PropTypes.bool,\r\n  treeDataMaxLevel: PropTypes.number,\r\n  localization: PropTypes.object,\r\n  onFilterChanged: PropTypes.func,\r\n  onGroupExpandChanged: PropTypes.func,\r\n  onToggleDetailPanel: PropTypes.func.isRequired,\r\n  onTreeExpandChanged: PropTypes.func.isRequired,\r\n  onRowClick: PropTypes.func,\r\n  onEditingCanceled: PropTypes.func,\r\n  onEditingApproved: PropTypes.func,\r\n};\r\n\r\nexport default MTableBody;\r\n","/* eslint-disable no-unused-vars */\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\r\nimport classNames from 'classnames';\r\nimport { CsvBuilder } from 'filefy';\r\nimport PropTypes, { oneOf } from 'prop-types';\r\nimport * as React from 'react';\r\nimport { Box } from '@material-ui/core';\r\n/* eslint-enable no-unused-vars */\r\n\r\nexport class MTableToolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columnsButtonAnchorEl: null,\r\n      exportButtonAnchorEl: null,\r\n      searchText: ''\r\n    };\r\n  }\r\n\r\n  onSearchChange = searchText => {\r\n    this.props.dataManager.changeSearchText(searchText);\r\n    this.setState(({ searchText }), this.props.onSearchChanged(searchText));\r\n  }\r\n\r\n  defaultExportCsv = () => {\r\n    const columns = this.props.columns\r\n      .filter(columnDef => {\r\n        return !columnDef.hidden && columnDef.field && columnDef.export !== false;\r\n      })\r\n      .sort((a, b) => (a.tableData.columnOrder > b.tableData.columnOrder) ? 1 : -1);\r\n    const dataToExport = this.props.exportAllData ? this.props.data : this.props.renderData;\r\n    const data = dataToExport.map(rowData =>\r\n      columns.map(columnDef => {\r\n        return this.props.getFieldValue(rowData, columnDef);\r\n      })\r\n    );\r\n\r\n    const builder = new CsvBuilder((this.props.exportFileName || this.props.title || 'data') + '.csv');\r\n    builder\r\n      .setDelimeter(this.props.exportDelimiter)\r\n      .setColumns(columns.map(columnDef => columnDef.title))\r\n      .addRows(data)\r\n      .exportFile();\r\n  }\r\n\r\n  exportCsv = () => {\r\n    if (this.props.exportCsv) {\r\n      this.props.exportCsv(this.props.columns, this.props.data);\r\n    } else {\r\n      this.defaultExportCsv();\r\n    }\r\n    this.setState({ exportButtonAnchorEl: null });\r\n  }\r\n\r\n  renderSearch() {\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    if (this.props.search) {\r\n      return (\r\n        <Box width={'1000%'} >\r\n        <TextField\r\n          autoFocus={this.props.searchAutoFocus}\r\n          className={this.props.searchFieldAlignment === 'left' && this.props.showTitle === false ? null : this.props.classes.searchField}\r\n          value={this.state.searchText}\r\n          onChange={event => this.onSearchChange(event.target.value)}\r\n          placeholder={localization.searchPlaceholder}\r\n          variant={this.props.searchFieldVariant}\r\n          fullWidth\r\n          InputProps={{\r\n            disableUnderline: true,\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <Tooltip title={localization.searchTooltip}>\r\n                  <this.props.icons.Search color=\"inherit\" fontSize=\"small\" />\r\n                </Tooltip>\r\n              </InputAdornment>\r\n            ),\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  disabled={!this.state.searchText}\r\n                  onClick={() => this.onSearchChange(\"\")}\r\n                >\r\n                  <this.props.icons.ResetSearch color=\"inherit\" fontSize=\"small\" />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n            style: this.props.searchFieldStyle, \r\n            inputProps: {\r\n              'aria-label': \"Search\"\r\n            }\r\n          }}\r\n        /></Box>\r\n      );\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  renderDefaultActions() {\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {this.props.columnsButton &&\r\n          <span>\r\n            <Tooltip title={localization.showColumnsTitle}>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={event => this.setState({ columnsButtonAnchorEl: event.currentTarget })}\r\n                aria-label={localization.showColumnsAriaLabel}>\r\n\r\n                <this.props.icons.ViewColumn />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n              anchorEl={this.state.columnsButtonAnchorEl}\r\n              open={Boolean(this.state.columnsButtonAnchorEl)}\r\n              onClose={() => this.setState({ columnsButtonAnchorEl: null })}>\r\n              <MenuItem key={\"text\"} disabled style={{ opacity: 1, fontWeight: 600, fontSize: 12 }}>\r\n                {localization.addRemoveColumns}\r\n              </MenuItem>\r\n              {\r\n                this.props.columns.map((col) => {\r\n                  return (\r\n                    <li key={col.tableData.id}>\r\n                      <MenuItem\r\n                        className={classes.formControlLabel}\r\n                        component=\"label\"\r\n                        htmlFor={`column-toggle-${col.tableData.id}`}\r\n                        disabled={col.removable === false}\r\n                      >\r\n                        <Checkbox\r\n                          checked={!col.hidden}\r\n                          id={`column-toggle-${col.tableData.id}`}\r\n                          onChange={() => this.props.onColumnsChanged(col, !col.hidden)}\r\n                        />\r\n                        <span>{col.title}</span>\r\n                      </MenuItem>\r\n                    </li>\r\n                  );\r\n                })\r\n              }\r\n            </Menu>\r\n          </span>\r\n        }\r\n        {this.props.exportButton &&\r\n          <span>\r\n            <Tooltip title={localization.exportTitle}>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={event => this.setState({ exportButtonAnchorEl: event.currentTarget })}\r\n                aria-label={localization.exportAriaLabel}>\r\n                <this.props.icons.Export />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n              anchorEl={this.state.exportButtonAnchorEl}\r\n              open={Boolean(this.state.exportButtonAnchorEl)}\r\n              onClose={() => this.setState({ exportButtonAnchorEl: null })}\r\n            >\r\n              <MenuItem key=\"export-csv\" onClick={this.exportCsv}>\r\n                {localization.exportName}\r\n              </MenuItem>\r\n            </Menu>\r\n          </span>\r\n\r\n        }\r\n        <span>\r\n          <this.props.components.Actions actions={this.props.actions && this.props.actions.filter(a => a.position === \"toolbar\")} components={this.props.components} />\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSelectedActions() {\r\n    return (\r\n      <React.Fragment>\r\n        <this.props.components.Actions actions={this.props.actions.filter(a => a.position === \"toolbarOnSelect\")} data={this.props.selectedRows} components={this.props.components} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  renderActions() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.actions}>\r\n        <div>\r\n          {this.props.selectedRows && this.props.selectedRows.length > 0\r\n            ? this.renderSelectedActions()\r\n            : this.renderDefaultActions()\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderToolbarTitle(title) {\r\n    const { classes } = this.props;\r\n    const toolBarTitle = (typeof title === 'string') ? <Typography variant='h6' style={{\r\n      whiteSpace: 'nowrap',\r\n      overflow: 'hidden',\r\n      textOverflow: 'ellipsis'\r\n    }}>{title}</Typography> : title;\r\n\r\n    return (\r\n      <div className={classes.title}>\r\n        {toolBarTitle}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    const title = this.props.showTextRowsSelected && this.props.selectedRows && this.props.selectedRows.length > 0 ? localization.nRowsSelected.replace('{0}', this.props.selectedRows.length) : this.props.showTitle ? this.props.title : null;\r\n    return (\r\n      <Toolbar style={{marginTop: -9}} className={classNames(classes.root, { [classes.highlight]: this.props.showTextRowsSelected && this.props.selectedRows && this.props.selectedRows.length > 0 })}>\r\n        {title && this.renderToolbarTitle(title)}\r\n        {this.props.searchFieldAlignment === 'left' && this.renderSearch()}\r\n        {this.props.toolbarButtonAlignment === 'left' && this.renderActions()}\r\n        <div className={classes.spacer} />\r\n        {this.props.searchFieldAlignment === 'right' && this.renderSearch()}\r\n        {this.props.toolbarButtonAlignment === 'right' && this.renderActions()}\r\n      </Toolbar >\r\n    );\r\n  }\r\n}\r\n\r\nMTableToolbar.defaultProps = {\r\n  actions: [],\r\n  columns: [],\r\n  columnsButton: false,\r\n  localization: {\r\n    addRemoveColumns: 'Add or remove columns',\r\n    nRowsSelected: '{0} row(s) selected',\r\n    showColumnsTitle: 'Show Columns',\r\n    showColumnsAriaLabel: 'Show Columns',\r\n    exportTitle: 'Export',\r\n    exportAriaLabel: 'Export',\r\n    exportName: 'Export as CSV',\r\n    searchTooltip: 'Search',\r\n    searchPlaceholder: 'Search'\r\n  },\r\n  search: true,\r\n  showTitle: true,\r\n  showTextRowsSelected: true,\r\n  toolbarButtonAlignment: 'right',\r\n  searchAutoFocus: false,\r\n  searchFieldAlignment: 'right',\r\n  searchFieldVariant: 'standard',\r\n  selectedRows: [],\r\n  title: 'No Title!'\r\n};\r\n\r\nMTableToolbar.propTypes = {\r\n  actions: PropTypes.array,\r\n  columns: PropTypes.array,\r\n  columnsButton: PropTypes.bool,\r\n  components: PropTypes.object.isRequired,\r\n  getFieldValue: PropTypes.func.isRequired,\r\n  localization: PropTypes.object.isRequired,\r\n  onColumnsChanged: PropTypes.func.isRequired,\r\n  dataManager: PropTypes.object.isRequired,\r\n  onSearchChanged: PropTypes.func.isRequired,\r\n  search: PropTypes.bool.isRequired,\r\n  searchFieldStyle: PropTypes.object,\r\n  searchFieldVariant: PropTypes.string,\r\n  selectedRows: PropTypes.array,\r\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\r\n  showTitle: PropTypes.bool.isRequired,\r\n  showTextRowsSelected: PropTypes.bool.isRequired,\r\n  toolbarButtonAlignment: PropTypes.string.isRequired,\r\n  searchFieldAlignment: PropTypes.string.isRequired,\r\n  renderData: PropTypes.array,\r\n  data: PropTypes.array,\r\n  exportAllData: PropTypes.bool,\r\n  exportButton: PropTypes.bool,\r\n  exportDelimiter: PropTypes.string,\r\n  exportFileName: PropTypes.string,\r\n  exportCsv: PropTypes.func,\r\n  classes: PropTypes.object,\r\n  searchAutoFocus: PropTypes.bool\r\n};\r\n\r\nexport const styles = theme => ({\r\n  root: {\r\n    paddingRight: theme.spacing(1)\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n        color: theme.palette.secondary.main,\r\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85)\r\n      }\r\n      : {\r\n        color: theme.palette.text.primary,\r\n        backgroundColor: theme.palette.secondary.dark\r\n      },\r\n  spacer: {\r\n    flex: '1 1 10%'\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    overflow: 'hidden'\r\n  },\r\n  searchField: {\r\n    minWidth: 150,\r\n    paddingLeft: theme.spacing(2)\r\n  },\r\n  formControlLabel: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(MTableToolbar);\r\n","/* eslint-disable no-unused-vars */\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Button from '@material-ui/core/Button';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTablePaginationInner extends React.Component {\r\n  state = {\r\n    sum: 0\r\n  }\r\n\r\n  setSum = (value) => {\r\n    this.setState({sum: value})\r\n  }\r\n\r\n  formatMoney = (amount, decimalCount = 2, decimal = \".\", thousands = \",\") => {\r\n    try {\r\n      decimalCount = Math.abs(decimalCount);\r\n      decimalCount = isNaN(decimalCount) ? 2 : decimalCount;\r\n  \r\n      const negativeSign = amount < 0 ? \"-\" : \"\";\r\n  \r\n      let i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();\r\n      let j = (i.length > 3) ? i.length % 3 : 0;\r\n  \r\n      return negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : \"\");\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  };\r\n\r\n  handleFirstPageButtonClick = event => {\r\n    this.props.onChangePage(event, 0);\r\n  };\r\n\r\n  handleBackButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page - 1);\r\n  };\r\n\r\n  handleNextButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page + 1);\r\n  };\r\n\r\n  handleNumberButtonClick = number => event => {\r\n    this.props.onChangePage(event, number);\r\n  };\r\n\r\n  handleLastPageButtonClick = event => {\r\n    this.props.onChangePage(\r\n      event,\r\n      Math.max(0, Math.ceil(this.props.count / this.props.rowsPerPage) - 1)\r\n    );\r\n  };\r\n\r\n  renderPagesButton(start, end) {\r\n    const buttons = [];\r\n\r\n    for (let p = start; p <= end; p++) {\r\n      const buttonVariant = p === this.props.page ? \"contained\" : \"text\";\r\n      buttons.push(\r\n        <Button\r\n          size=\"small\"\r\n          style={{\r\n            boxShadow: 'none',\r\n            maxWidth: '30px', maxHeight: '30px', minWidth: '30px', minHeight: '30px'\r\n          }}\r\n          disabled={p === this.props.page}\r\n          variant={buttonVariant}\r\n          onClick={this.handleNumberButtonClick(p)}\r\n          key={p}\r\n        >\r\n          {p + 1}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return <span>{buttons}</span>;\r\n  }\r\n\r\n  render() {\r\n    const { classes, count, page, rowsPerPage, theme, showFirstLastPageButtons } = this.props;\r\n\r\n    const localization = { ...MTablePaginationInner.defaultProps.localization, ...this.props.localization };\r\n    const maxPages = Math.ceil(count / rowsPerPage) - 1;\r\n\r\n    const pageStart = Math.max(page - 1, 0);\r\n    const pageEnd = Math.min(maxPages, page + 1);\r\n\r\n    return (\r\n      <Box>\r\n      <Box className={classes.root} style={{\r\n          width: \"auto\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          position: \"relative\",\r\n        }}>\r\n      <Box style={{ }}>\r\n      {showFirstLastPageButtons &&\r\n        <Tooltip title={localization.firstTooltip}>\r\n            <span>\r\n              <IconButton\r\n                  onClick={this.handleFirstPageButtonClick}\r\n                  disabled={page === 0}\r\n                  aria-label={localization.firstAriaLabel}\r\n              >\r\n                {theme.direction === 'rtl' ? <this.props.icons.LastPage /> : <this.props.icons.FirstPage />}\r\n              </IconButton>\r\n            </span>\r\n        </Tooltip>\r\n        }\r\n        <Tooltip title={localization.previousTooltip}>\r\n          <span>\r\n            <IconButton\r\n              onClick={this.handleBackButtonClick}\r\n              disabled={page === 0}\r\n              aria-label={localization.previousAriaLabel}\r\n            >\r\n              <this.props.icons.PreviousPage />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n        <Hidden smDown={true}>\r\n          {this.renderPagesButton(pageStart, pageEnd)}\r\n        </Hidden>\r\n        <Tooltip title={localization.nextTooltip}>\r\n          <span>\r\n            <IconButton\r\n              onClick={this.handleNextButtonClick}\r\n              disabled={page >= maxPages}\r\n              aria-label={localization.nextAriaLabel}\r\n            >\r\n              <this.props.icons.NextPage />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n      {showFirstLastPageButtons &&\r\n        <Tooltip title={localization.lastTooltip}>\r\n            <span>\r\n              <IconButton\r\n                  onClick={this.handleLastPageButtonClick}\r\n                  disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                  aria-label={localization.lastAriaLabel}\r\n              >\r\n                {theme.direction === 'rtl' ? <this.props.icons.FirstPage /> : <this.props.icons.LastPage />}\r\n              </IconButton>\r\n            </span>\r\n        </Tooltip>\r\n      }\r\n      </Box>\r\n        <Typography variant=\"body2\" style={{\r\n          position: \"absolute\",\r\n          right: \"5%\",\r\n          marginTop: \"13px\",\r\n          color: \"#515151\",\r\n          }}>Total of filtered results: <span style={{fontWeight: \"700\"}}>$ {this.formatMoney(this.state.sum)}</span></Typography>\r\n      </Box>\r\n      <Box  display=\"flex\" justifyContent=\"center\" mb=\"50px\">\r\n      <Typography className={classes.root} variant=\"body2\"\r\n        style={{\r\n          width: \"241px\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          position: \"relative\",\r\n          color: \"#515151\",\r\n        }}\r\n        >Showing {this.props.page * this.props.rowsPerPage + 1} to {(this.props.count - (this.props.page + 1) * this.props.rowsPerPage > 0)\r\n          ? ((this.props.page + 1) * this.props.rowsPerPage) \r\n          : (this.props.count)} of {this.props.count} ({this.props.totalNumOfRows})</Typography>\r\n          </Box>\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nconst actionsStyles = theme => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n    marginLeft: theme.spacing(2.5)\r\n  }\r\n});\r\n\r\nMTablePaginationInner.propTypes = {\r\n  onChangePage: PropTypes.func,\r\n  page: PropTypes.number,\r\n  count: PropTypes.number,\r\n  rowsPerPage: PropTypes.number,\r\n  classes: PropTypes.object,\r\n  localization: PropTypes.object,\r\n  theme: PropTypes.any,\r\n  showFirstLastPageButtons: PropTypes.bool\r\n};\r\n\r\nMTablePaginationInner.defaultProps = {\r\n  showFirstLastPageButtons: true,\r\n  localization: {\r\n    firstTooltip: 'First Page',\r\n    previousTooltip: 'Previous Page',\r\n    nextTooltip: 'Next Page',\r\n    lastTooltip: 'Last Page',\r\n    labelDisplayedRows: '{from}-{to} of {count}',\r\n    labelRowsPerPage: 'Rows per page:'\r\n  }\r\n};\r\n\r\nconst MTableSteppedPagination = withStyles(actionsStyles, { withTheme: true })(MTablePaginationInner);\r\n\r\nexport default MTableSteppedPagination;\r\n","export const elementSize = (props) => props.options.padding === 'default' ? 'medium' : 'small';\r\nexport const baseIconSize = (props) => elementSize(props) === \"medium\" ? 48 : 32;\r\nexport const rowActions = (props) => props.actions.filter(a => a.position === \"row\" || typeof a === \"function\");\r\nexport const actionsColumnWidth = (props) => rowActions(props).length * baseIconSize(props);\r\nexport const selectionMaxWidth = (props, maxTreeLevel) => baseIconSize(props) + 9 * maxTreeLevel;","/* eslint-disable no-unused-vars */\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport { Tooltip } from '@material-ui/core';\r\nimport * as CommonValues from './common-values';\r\n/* eslint-enable no-unused-vars */\r\n\r\nexport class MTableHeader extends React.Component {\r\n\r\n  renderHeader() {\r\n    const size = this.props.options.padding === 'default' ? 'medium' : 'small';\r\n\r\n    const mapArr = this.props.columns.filter(columnDef => !columnDef.hidden && !(columnDef.tableData.groupOrder > -1))\r\n      .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n      .map((columnDef, index) => {\r\n        let content = columnDef.title;\r\n\r\n        if (this.props.draggable) {\r\n          content = (\r\n            <Draggable\r\n              key={columnDef.tableData.id}\r\n              draggableId={columnDef.tableData.id.toString()}\r\n              index={index}>\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  {...provided.dragHandleProps}\r\n                >\r\n                  {columnDef.title}\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          );\r\n        }\r\n\r\n        if (columnDef.sorting !== false && this.props.sorting) {\r\n          content = (\r\n            <TableSortLabel\r\n              IconComponent={this.props.icons.SortArrow}\r\n              active={this.props.orderBy === columnDef.tableData.id}\r\n              direction={this.props.orderDirection || 'asc'}\r\n              onClick={() => {\r\n                const orderDirection =\r\n                  columnDef.tableData.id !== this.props.orderBy\r\n                    ? 'asc'\r\n                    : this.props.orderDirection === 'asc'\r\n                      ? 'desc'\r\n                      : this.props.orderDirection === 'desc' && this.props.thirdSortClick\r\n                        ? ''\r\n                        : this.props.orderDirection === 'desc' && !this.props.thirdSortClick\r\n                          ? 'asc'\r\n                          : this.props.orderDirection === ''\r\n                            ? 'asc'\r\n                            : 'desc';\r\n                this.props.onOrderChange(columnDef.tableData.id, orderDirection);\r\n              }}\r\n            >\r\n              {content}\r\n            </TableSortLabel>\r\n          );\r\n        }\r\n\r\n        if (columnDef.tooltip) {\r\n          content = <Tooltip title={columnDef.tooltip}><span>{content}</span></Tooltip>;\r\n        }\r\n\r\n        return (\r\n          <TableCell\r\n            key={columnDef.tableData.id}\r\n            align={['numeric'].indexOf(columnDef.type) !== -1 ? \"right\" : \"left\"}\r\n            className={this.props.classes.header}\r\n            style={{ ...this.props.headerStyle, ...columnDef.headerStyle, boxSizing: 'border-box', width: columnDef.tableData.width }}\r\n            size={size}\r\n          >\r\n            {content}\r\n          </TableCell>\r\n        );\r\n      });\r\n    return mapArr;\r\n  }\r\n\r\n\r\n\r\n  renderActionsHeader() {\r\n    const localization = { ...MTableHeader.defaultProps.localization, ...this.props.localization };\r\n    const width = CommonValues.actionsColumnWidth(this.props);\r\n    return (\r\n      <TableCell\r\n        key=\"key-actions-column\"\r\n        padding=\"checkbox\"\r\n        className={this.props.classes.header}\r\n        style={{ ...this.props.headerStyle, width: width, textAlign: 'center', boxSizing: 'border-box' }}\r\n      >\r\n        <TableSortLabel disabled>{localization.actions}</TableSortLabel>\r\n      </TableCell>\r\n    );\r\n  }\r\n  renderSelectionHeader() {\r\n    const selectionWidth = CommonValues.selectionMaxWidth(this.props, this.props.treeDataMaxLevel);\r\n\r\n    return (\r\n      <TableCell\r\n        padding=\"none\"\r\n        key=\"key-selection-column\"\r\n        className={this.props.classes.header}\r\n        style={{ ...this.props.headerStyle, width: selectionWidth }}\r\n      >\r\n        {this.props.showSelectAllCheckbox &&\r\n          <Checkbox\r\n            indeterminate={this.props.selectedCount > 0 && this.props.selectedCount < this.props.dataCount}\r\n            checked={this.props.dataCount > 0 && this.props.selectedCount === this.props.dataCount}\r\n            onChange={(event, checked) => this.props.onAllSelected && this.props.onAllSelected(checked)}\r\n          />\r\n        }\r\n      </TableCell>\r\n    );\r\n  }\r\n\r\n  renderDetailPanelColumnCell() {\r\n    return <TableCell\r\n      padding=\"none\"\r\n      key=\"key-detail-panel-column\"\r\n      className={this.props.classes.header}\r\n      style={{ ...this.props.headerStyle }}\r\n    />;\r\n  }\r\n\r\n  render() {\r\n    const headers = this.renderHeader();\r\n    if (this.props.hasSelection) {\r\n      headers.splice(0, 0, this.renderSelectionHeader());\r\n    }\r\n\r\n    if (this.props.showActionsColumn) {\r\n      if (this.props.actionsHeaderIndex >= 0) {\r\n        let endPos = 0;\r\n        if (this.props.hasSelection) {\r\n          endPos = 1;\r\n        }\r\n        headers.splice(this.props.actionsHeaderIndex + endPos, 0, this.renderActionsHeader());\r\n      } else if (this.props.actionsHeaderIndex === -1) {\r\n        headers.push(this.renderActionsHeader());\r\n      }\r\n    }\r\n\r\n    if (this.props.hasDetailPanel) {\r\n      if (this.props.detailPanelColumnAlignment === 'right') {\r\n        headers.push(this.renderDetailPanelColumnCell());\r\n      } else {\r\n        headers.splice(0, 0, this.renderDetailPanelColumnCell());\r\n      }\r\n    }\r\n\r\n    if (this.props.isTreeData > 0) {\r\n      headers.splice(0, 0,\r\n        <TableCell\r\n          padding=\"none\"\r\n          key={\"key-tree-data-header\"}\r\n          className={this.props.classes.header}\r\n          style={{ ...this.props.headerStyle }}\r\n        />\r\n      );\r\n    }\r\n\r\n    this.props.columns\r\n      .filter(columnDef => columnDef.tableData.groupOrder > -1)\r\n      .forEach(columnDef => {\r\n        headers.splice(0, 0, <TableCell padding=\"checkbox\" key={\"key-group-header\" + columnDef.tableData.id} className={this.props.classes.header} />);\r\n      });\r\n\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          {headers}\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\nMTableHeader.defaultProps = {\r\n  dataCount: 0,\r\n  hasSelection: false,\r\n  headerStyle: {},\r\n  selectedCount: 0,\r\n  sorting: true,\r\n  localization: {\r\n    actions: 'Actions'\r\n  },\r\n  orderBy: undefined,\r\n  orderDirection: 'asc',\r\n  actionsHeaderIndex: 0,\r\n  detailPanelColumnAlignment: \"left\",\r\n  draggable: true,\r\n  thirdSortClick: true,\r\n};\r\n\r\nMTableHeader.propTypes = {\r\n  columns: PropTypes.array.isRequired,\r\n  dataCount: PropTypes.number,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  detailPanelColumnAlignment: PropTypes.string,\r\n  hasSelection: PropTypes.bool,\r\n  headerStyle: PropTypes.object,\r\n  localization: PropTypes.object,\r\n  selectedCount: PropTypes.number,\r\n  sorting: PropTypes.bool,\r\n  onAllSelected: PropTypes.func,\r\n  onOrderChange: PropTypes.func,\r\n  orderBy: PropTypes.number,\r\n  orderDirection: PropTypes.string,\r\n  actionsHeaderIndex: PropTypes.number,\r\n  showActionsColumn: PropTypes.bool,\r\n  showSelectAllCheckbox: PropTypes.bool,\r\n  draggable: PropTypes.bool,\r\n  thirdSortClick: PropTypes.bool,\r\n  tooltip: PropTypes.string\r\n};\r\n\r\n\r\nexport const styles = theme => ({\r\n  header: {\r\n    position: 'sticky',\r\n    top: 0,\r\n    zIndex: 10,\r\n    backgroundColor: theme.palette.background.paper, // Change according to theme,\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(MTableHeader);\r\n","/* eslint-disable no-unused-vars */\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTableAction extends React.Component {\r\n  render() {\r\n    let action = this.props.action;\r\n    \r\n    if (typeof action === 'function') {\r\n      action = action(this.props.data);\r\n      if (!action) {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    if (action.action) {\r\n      action = action.action(this.props.data);\r\n      if (!action) {\r\n        return null;\r\n      }\r\n    }\r\n    \r\n    if (action.hidden) {\r\n      return null;\r\n    }\r\n\r\n    const disabled = action.disabled || this.props.disabled;\r\n\r\n    const handleOnClick = event => {\r\n      if (action.onClick) {\r\n        action.onClick(event, this.props.data);\r\n        event.stopPropagation();\r\n      }\r\n    };\r\n\r\n    const icon = typeof action.icon === \"string\" ? (\r\n        <Icon {...action.iconProps}>{action.icon}</Icon>\r\n    ) : typeof action.icon === \"function\" ? (\r\n        action.icon({ ...action.iconProps, disabled: disabled })\r\n    ) : (\r\n        <action.icon />\r\n    );\r\n\r\n    const button = (\r\n        <IconButton\r\n          size={this.props.size}\r\n          color=\"inherit\"\r\n          disabled={disabled}\r\n          onClick={handleOnClick}\r\n        >\r\n          {icon}\r\n        </IconButton>\r\n    );\r\n\r\n    if (action.tooltip) {\r\n      // fix for issue #1049\r\n      // https://github.com/mbrn/material-table/issues/1049\r\n      return disabled\r\n        ? <Tooltip title={action.tooltip}><span>{button}</span></Tooltip>\r\n        : <Tooltip title={action.tooltip}>{button}</Tooltip>;\r\n    } else {\r\n      return button;\r\n    }\r\n  }\r\n}\r\n\r\nMTableAction.defaultProps = {\r\n  action: {},\r\n  data: {}\r\n};\r\n\r\nMTableAction.propTypes = {\r\n  action: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\r\n  disabled: PropTypes.bool,\r\n  size: PropTypes.string\r\n};\r\n\r\nexport default MTableAction;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTableActions extends React.Component {\r\n\r\n  render() {\r\n    if (this.props.actions) {\r\n      return this.props.actions.map((action, index) => <this.props.components.Action action={action} key={\"action-\" + index} data={this.props.data} size={this.props.size} disabled={this.props.disabled} />);\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nMTableActions.defaultProps = {\r\n  actions: [],\r\n  data: {}\r\n};\r\n\r\nMTableActions.propTypes = {\r\n  components: PropTypes.object.isRequired,\r\n  actions: PropTypes.array.isRequired,\r\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\r\n  disabled: PropTypes.bool,\r\n  size: PropTypes.string,\r\n};\r\n\r\nexport default MTableActions;\r\n","/* eslint-disable no-unused-vars */\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTableBody extends React.Component {\r\n  renderEmpty(emptyRowCount, renderData) {\r\n    const rowHeight = this.props.options.padding === 'default' ? 49 : 36;\r\n    const localization = { ...MTableBody.defaultProps.localization, ...this.props.localization };\r\n    if (this.props.options.showEmptyDataSourceMessage && renderData.length === 0) {\r\n      let addColumn = 0;\r\n      if (this.props.options.selection) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.actions && this.props.actions.filter(a => a.position === \"row\" || typeof a === \"function\").length > 0) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.hasDetailPanel) {\r\n        addColumn++;\r\n      }\r\n      if (this.props.isTreeData) {\r\n        addColumn++;\r\n      }\r\n      return (\r\n        <TableRow style={{ height: rowHeight * (this.props.options.paging && this.props.options.emptyRowsWhenPaging ? this.props.pageSize : 1) }} key={'empty-' + 0} >\r\n          <TableCell style={{ paddingTop: 0, paddingBottom: 0, textAlign: 'center' }} colSpan={this.props.columns.length + addColumn} key=\"empty-\">\r\n            {localization.emptyDataSourceMessage}\r\n          </TableCell>\r\n        </TableRow>\r\n      );\r\n    } else if (this.props.options.emptyRowsWhenPaging) {\r\n      return (\r\n        <React.Fragment>\r\n          {[...Array(emptyRowCount)].map((r, index) => <TableRow style={{ height: rowHeight }} key={'empty-' + index} />)}\r\n          {emptyRowCount > 0 && <TableRow style={{ height: 1 }} key={'empty-last1'} />}\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderUngroupedRows(renderData) {\r\n    return renderData.map((data, index) => {\r\n      if (data.tableData.editing) {\r\n        return (\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            components={this.props.components}\r\n            data={data}\r\n            icons={this.props.icons}\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow, dateTimePickerLocalization: this.props.localization.dateTimePickerLocalization }}\r\n            key={index}\r\n            mode={data.tableData.editing}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        );\r\n      }\r\n      else {\r\n        return (\r\n          <this.props.components.Row\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            data={data}\r\n            index={index}\r\n            key={\"row-\" + data.tableData.id}\r\n            level={0}\r\n            options={this.props.options}\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            onRowSelected={this.props.onRowSelected}\r\n            actions={this.props.actions}\r\n            columns={this.props.columns}\r\n            getFieldValue={this.props.getFieldValue}\r\n            detailPanel={this.props.detailPanel}\r\n            path={[index + this.props.pageSize * this.props.currentPage]}\r\n            onToggleDetailPanel={this.props.onToggleDetailPanel}\r\n            onRowClick={this.props.onRowClick}\r\n            isTreeData={this.props.isTreeData}\r\n            onTreeExpandChanged={this.props.onTreeExpandChanged}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n            treeDataMaxLevel={this.props.treeDataMaxLevel}\r\n          />\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  renderGroupedRows(groups, renderData) {\r\n    return renderData.map((groupData, index) => (\r\n      <this.props.components.GroupRow\r\n        actions={this.props.actions}\r\n        key={groupData.value == null ? ('' + index) : groupData.value}\r\n        columns={this.props.columns}\r\n        components={this.props.components}\r\n        detailPanel={this.props.detailPanel}\r\n        getFieldValue={this.props.getFieldValue}\r\n        groupData={groupData}\r\n        groups={groups}\r\n        icons={this.props.icons}\r\n        level={0}\r\n        path={[index + this.props.pageSize * this.props.currentPage]}\r\n        onGroupExpandChanged={this.props.onGroupExpandChanged}\r\n        onRowSelected={this.props.onRowSelected}\r\n        onRowClick={this.props.onRowClick}\r\n        onEditingCanceled={this.props.onEditingCanceled}\r\n        onEditingApproved={this.props.onEditingApproved}\r\n        onToggleDetailPanel={this.props.onToggleDetailPanel}\r\n        onTreeExpandChanged={this.props.onTreeExpandChanged}\r\n        options={this.props.options}\r\n        isTreeData={this.props.isTreeData}\r\n        hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n        localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n      />\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    let renderData = this.props.renderData;\r\n    const groups = this.props.columns\r\n      .filter(col => col.tableData.groupOrder > -1)\r\n      .sort((col1, col2) => col1.tableData.groupOrder - col2.tableData.groupOrder);\r\n\r\n    let emptyRowCount = 0;\r\n    if (this.props.options.paging) {\r\n      emptyRowCount = this.props.pageSize - renderData.length;\r\n    }\r\n\r\n    return (\r\n      <TableBody>\r\n        {this.props.options.filtering &&\r\n          <this.props.components.FilterRow\r\n            columns={this.props.columns.filter(columnDef => !columnDef.hidden)}\r\n            icons={this.props.icons}\r\n            hasActions={this.props.actions.filter(a => a.position === \"row\" || typeof a === \"function\").length > 0}\r\n            actionsColumnIndex={this.props.options.actionsColumnIndex}\r\n            onFilterChanged={this.props.onFilterChanged}\r\n            selection={this.props.options.selection}\r\n            localization={{ ...MTableBody.defaultProps.localization.filterRow, ...this.props.localization.filterRow, dateTimePickerLocalization: this.props.localization.dateTimePickerLocalization }}\r\n            hasDetailPanel={!!this.props.detailPanel}\r\n            isTreeData={this.props.isTreeData}\r\n            filterCellStyle={this.props.options.filterCellStyle}\r\n            hideFilterIcons={this.props.options.hideFilterIcons}\r\n          />\r\n        }\r\n\r\n        {this.props.showAddRow && this.props.options.addRowPosition === \"first\" &&\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            data={this.props.initialFormData}\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            key=\"key-add-row\"\r\n            mode=\"add\"\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        }\r\n\r\n        {groups.length > 0 ?\r\n          this.renderGroupedRows(groups, renderData) :\r\n          this.renderUngroupedRows(renderData)\r\n        }\r\n\r\n        {this.props.showAddRow && this.props.options.addRowPosition === \"last\" &&\r\n          <this.props.components.EditRow\r\n            columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n            data={this.props.initialFormData}\r\n            components={this.props.components}\r\n            icons={this.props.icons}\r\n            key=\"key-add-row\"\r\n            mode=\"add\"\r\n            localization={{ ...MTableBody.defaultProps.localization.editRow, ...this.props.localization.editRow }}\r\n            options={this.props.options}\r\n            isTreeData={this.props.isTreeData}\r\n            detailPanel={this.props.detailPanel}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            getFieldValue={this.props.getFieldValue}\r\n          />\r\n        }\r\n        {this.renderEmpty(emptyRowCount, renderData)}\r\n      </TableBody>\r\n    );\r\n  }\r\n}\r\n\r\nMTableBody.defaultProps = {\r\n  actions: [],\r\n  currentPage: 0,\r\n  pageSize: 5,\r\n  renderData: [],\r\n  selection: false,\r\n  localization: {\r\n    emptyDataSourceMessage: 'No records to display',\r\n    filterRow: {},\r\n    editRow: {}\r\n  }\r\n};\r\n\r\nMTableBody.propTypes = {\r\n  actions: PropTypes.array,\r\n  components: PropTypes.object.isRequired,\r\n  columns: PropTypes.array.isRequired,\r\n  currentPage: PropTypes.number,\r\n  detailPanel: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.func]))]),\r\n  getFieldValue: PropTypes.func.isRequired,\r\n  hasAnyEditingRow: PropTypes.bool,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  icons: PropTypes.object.isRequired,\r\n  isTreeData: PropTypes.bool.isRequired,\r\n  onRowSelected: PropTypes.func,\r\n  options: PropTypes.object.isRequired,\r\n  pageSize: PropTypes.number,\r\n  renderData: PropTypes.array,\r\n  initialFormData: PropTypes.object,\r\n  selection: PropTypes.bool.isRequired,\r\n  showAddRow: PropTypes.bool,\r\n  treeDataMaxLevel: PropTypes.number,\r\n  localization: PropTypes.object,\r\n  onFilterChanged: PropTypes.func,\r\n  onGroupExpandChanged: PropTypes.func,\r\n  onToggleDetailPanel: PropTypes.func.isRequired,\r\n  onTreeExpandChanged: PropTypes.func.isRequired,\r\n  onRowClick: PropTypes.func,\r\n  onEditingCanceled: PropTypes.func,\r\n  onEditingApproved: PropTypes.func,\r\n};\r\n\r\nexport default MTableBody;\r\n","export const elementSize = (props) => props.options.padding === 'default' ? 'medium' : 'small';\r\nexport const baseIconSize = (props) => elementSize(props) === \"medium\" ? 48 : 32;\r\nexport const rowActions = (props) => props.actions.filter(a => a.position === \"row\" || typeof a === \"function\");\r\nexport const actionsColumnWidth = (props) => rowActions(props).length * baseIconSize(props);\r\nexport const selectionMaxWidth = (props, maxTreeLevel) => baseIconSize(props) + 9 * maxTreeLevel;","/* eslint-disable no-unused-vars */\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\nimport * as CommonValues from '../utils/common-values';\r\n/* eslint-enable no-unused-vars */\r\n\r\n\r\nexport default class MTableBodyRow extends React.Component {\r\n  renderColumns() {\r\n    const size = CommonValues.elementSize(this.props);\r\n    const mapArr = this.props.columns.filter(columnDef => !columnDef.hidden && !(columnDef.tableData.groupOrder > -1))\r\n      .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n      .map((columnDef, index) => {\r\n        const value = this.props.getFieldValue(this.props.data, columnDef);\r\n        return (\r\n          <this.props.components.Cell\r\n            size={size}\r\n            icons={this.props.icons}\r\n            columnDef={{ cellStyle: this.props.options.cellStyle, ...columnDef }}\r\n            value={value}\r\n            key={\"cell-\" + this.props.data.tableData.id + \"-\" + columnDef.tableData.id}\r\n            rowData={this.props.data}\r\n          />\r\n        );\r\n      });\r\n    return mapArr;\r\n  }\r\n\r\n  renderActions() {\r\n    const size = CommonValues.elementSize(this.props);\r\n    const actions = CommonValues.rowActions(this.props);\r\n    const width = actions.length * CommonValues.baseIconSize(this.props);\r\n    return (\r\n      <TableCell size={size} padding=\"none\" key=\"key-actions-column\" style={{ width: width, padding: '0px 5px', boxSizing: 'border-box', ...this.props.options.actionsCellStyle }}>\r\n        <div style={{ display: 'flex' }}>\r\n          <this.props.components.Actions data={this.props.data} actions={actions} components={this.props.components} size={size} disabled={this.props.hasAnyEditingRow} />\r\n        </div>\r\n      </TableCell>\r\n    );\r\n  }\r\n  renderSelectionColumn() {\r\n    let checkboxProps = this.props.options.selectionProps || {};\r\n    if (typeof checkboxProps === 'function') {\r\n      checkboxProps = checkboxProps(this.props.data);\r\n    }\r\n\r\n    const size = CommonValues.elementSize(this.props);\r\n    const selectionWidth = CommonValues.selectionMaxWidth(this.props, this.props.treeDataMaxLevel);\r\n\r\n    const styles = size === 'medium' ? {\r\n      marginLeft: this.props.level * 9\r\n    } : {\r\n        padding: \"4px\",\r\n        marginLeft: 5 + this.props.level * 9\r\n      };\r\n\r\n    return (\r\n      <TableCell size={size} padding=\"none\" key=\"key-selection-column\" style={{ width: selectionWidth }}>\r\n        <Checkbox\r\n          size={size}\r\n          checked={this.props.data.tableData.checked === true}\r\n          onClick={(e) => e.stopPropagation()}\r\n          value={this.props.data.tableData.id.toString()}\r\n          onChange={(event) => this.props.onRowSelected(event, this.props.path, this.props.data)}\r\n          style={styles}\r\n          {...checkboxProps}\r\n        />\r\n      </TableCell>\r\n    );\r\n  }\r\n\r\n  rotateIconStyle = isOpen => ({\r\n    transform: isOpen ? 'rotate(90deg)' : 'none'\r\n  });\r\n\r\n  renderDetailPanelColumn() {\r\n    const size = CommonValues.elementSize(this.props);\r\n    const CustomIcon = ({ icon, iconProps, }) => typeof icon === \"string\" ? <Icon {...iconProps}>{icon}</Icon> : React.createElement(icon, { ...iconProps });\r\n\r\n    if (typeof this.props.detailPanel == 'function') {\r\n      return (\r\n        <TableCell size={size} padding=\"none\" key=\"key-detail-panel-column\" style={{ width: 42, textAlign: 'center' }}>\r\n          <IconButton\r\n            size={size}\r\n            style={{ transition: 'all ease 200ms', ...this.rotateIconStyle(this.props.data.tableData.showDetailPanel) }}\r\n            onClick={(event) => {\r\n              this.props.onToggleDetailPanel(this.props.path, this.props.detailPanel);\r\n              event.stopPropagation();\r\n            }}\r\n          >\r\n            <this.props.icons.DetailPanel />\r\n          </IconButton>\r\n        </TableCell>\r\n      );\r\n    }\r\n    else {\r\n      return (\r\n        <TableCell size={size} padding=\"none\" key=\"key-detail-panel-column\">\r\n          <div style={{ width: 42 * this.props.detailPanel.length, textAlign: 'center', display: 'flex' }}>\r\n            {this.props.detailPanel.map((panel, index) => {\r\n\r\n              if (typeof panel === \"function\") {\r\n                panel = panel(this.props.data);\r\n              }\r\n\r\n              const isOpen = (this.props.data.tableData.showDetailPanel || '').toString() === panel.render.toString();\r\n\r\n              let iconButton = <this.props.icons.DetailPanel />;\r\n              let animation = true;\r\n              if (isOpen) {\r\n                if (panel.openIcon) {\r\n                  iconButton = <CustomIcon icon={panel.openIcon} iconProps={panel.iconProps} />;\r\n                  animation = false;\r\n                }\r\n                else if (panel.icon) {\r\n                  iconButton = (\r\n                    <CustomIcon icon={panel.icon} iconProps={panel.iconProps} />\r\n                  );\r\n                }\r\n              }\r\n              else if (panel.icon) {\r\n                iconButton = (\r\n                  <CustomIcon icon={panel.icon} iconProps={panel.iconProps} />\r\n                );\r\n                animation = false;\r\n              }\r\n\r\n              iconButton = (\r\n                <IconButton\r\n                  size={size}\r\n                  key={\"key-detail-panel-\" + index}\r\n                  style={{ transition: 'all ease 200ms', ...this.rotateIconStyle(animation && isOpen) }}\r\n                  disabled={panel.disabled}\r\n                  onClick={(event) => {\r\n                    this.props.onToggleDetailPanel(this.props.path, panel.render);\r\n                    event.stopPropagation();\r\n                  }}\r\n                >\r\n                  {iconButton}\r\n                </IconButton>);\r\n\r\n              if (panel.tooltip) {\r\n                iconButton = <Tooltip key={\"key-detail-panel-\" + index} title={panel.tooltip}>{iconButton}</Tooltip>;\r\n              }\r\n\r\n              return iconButton;\r\n            })}\r\n          </div>\r\n        </TableCell>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderTreeDataColumn() {\r\n    const size = CommonValues.elementSize(this.props);\r\n    if (this.props.data.tableData.childRows && this.props.data.tableData.childRows.length > 0) {\r\n      return (\r\n        <TableCell size={size} padding=\"none\" key={\"key-tree-data-column\"} style={{ width: 48 + 9 * (this.props.treeDataMaxLevel - 2) }}>\r\n          <IconButton\r\n            size={size}\r\n            style={{\r\n              transition: 'all ease 200ms',\r\n              marginLeft: this.props.level * 9,\r\n              ...this.rotateIconStyle(this.props.data.tableData.isTreeExpanded)\r\n            }}\r\n            onClick={(event) => {\r\n              this.props.onTreeExpandChanged(this.props.path, this.props.data);\r\n              event.stopPropagation();\r\n            }}\r\n          >\r\n            <this.props.icons.DetailPanel />\r\n          </IconButton>\r\n        </TableCell>\r\n      );\r\n    }\r\n    else {\r\n      return(<TableCell padding=\"none\" key={\"key-tree-data-column\"} />);\r\n    }\r\n  }\r\n\r\n  getStyle(index, level) {\r\n    let style = {\r\n      transition: 'all ease 300ms',\r\n    };\r\n\r\n    if (typeof this.props.options.rowStyle === \"function\") {\r\n      style = {\r\n        ...style,\r\n        ...this.props.options.rowStyle(this.props.data, index, level)\r\n      };\r\n    }\r\n    else if (this.props.options.rowStyle) {\r\n      style = {\r\n        ...style,\r\n        ...this.props.options.rowStyle\r\n      };\r\n    }\r\n\r\n    if (this.props.onRowClick) {\r\n      style.cursor = 'pointer';\r\n    }\r\n\r\n    if (this.props.hasAnyEditingRow) {\r\n      style.opacity = 0.2;\r\n    }\r\n\r\n    return style;\r\n  }\r\n\r\n  render() {\r\n    const size = CommonValues.elementSize(this.props);\r\n    const renderColumns = this.renderColumns();\r\n    if (this.props.options.selection) {\r\n      renderColumns.splice(0, 0, this.renderSelectionColumn());\r\n    }\r\n    if (this.props.actions && this.props.actions.filter(a => a.position === \"row\" || typeof a === \"function\").length > 0) {\r\n      if (this.props.options.actionsColumnIndex === -1) {\r\n        renderColumns.push(this.renderActions());\r\n      } else if (this.props.options.actionsColumnIndex >= 0) {\r\n        let endPos = 0;\r\n        if (this.props.options.selection) {\r\n          endPos = 1;\r\n        }\r\n        renderColumns.splice(this.props.options.actionsColumnIndex + endPos, 0, this.renderActions());\r\n      }\r\n    }\r\n\r\n    // Then we add detail panel icon\r\n    if (this.props.detailPanel) {\r\n      if (this.props.options.detailPanelColumnAlignment === 'right') {\r\n        renderColumns.push(this.renderDetailPanelColumn());\r\n      } else {\r\n        renderColumns.splice(0, 0, this.renderDetailPanelColumn());\r\n      }\r\n    }\r\n\r\n    // Lastly we add tree data icon\r\n    if (this.props.isTreeData) {\r\n      renderColumns.splice(0, 0, this.renderTreeDataColumn());\r\n    }\r\n\r\n    this.props.columns\r\n      .filter(columnDef => columnDef.tableData.groupOrder > -1)\r\n      .forEach(columnDef => {\r\n        renderColumns.splice(0, 0, <TableCell size={size} padding=\"none\" key={\"key-group-cell\" + columnDef.tableData.id} />);\r\n      });\r\n\r\n    const {\r\n      icons,\r\n      data,\r\n      columns,\r\n      components,\r\n      detailPanel,\r\n      getFieldValue,\r\n      isTreeData,\r\n      onRowClick,\r\n      onRowSelected,\r\n      onTreeExpandChanged,\r\n      onToggleDetailPanel,\r\n      onEditingCanceled,\r\n      onEditingApproved,\r\n      options,\r\n      hasAnyEditingRow,\r\n      treeDataMaxLevel,\r\n      localization,\r\n      actions,\r\n      ...rowProps } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <TableRow\r\n          selected={hasAnyEditingRow}\r\n          {...rowProps}\r\n          hover={onRowClick ? true : false}\r\n          style={this.getStyle(this.props.index, this.props.level)}\r\n          onClick={(event) => {\r\n            onRowClick && onRowClick(event, this.props.data,\r\n              (panelIndex) => {\r\n                let panel = detailPanel;\r\n                if (Array.isArray(panel)) {\r\n                  panel = panel[panelIndex || 0];\r\n                  if (typeof panel === \"function\") {\r\n                    panel = panel(this.props.data);\r\n                  }\r\n                  panel = panel.render;\r\n                }\r\n\r\n                onToggleDetailPanel(this.props.path, panel);\r\n              });\r\n          }}\r\n        >\r\n          {renderColumns}\r\n        </TableRow>\r\n        {this.props.data.tableData && this.props.data.tableData.showDetailPanel &&\r\n          <TableRow\r\n          // selected={this.props.index % 2 === 0}\r\n          >\r\n            <TableCell size={size} colSpan={renderColumns.length} padding=\"none\">\r\n              {this.props.data.tableData.showDetailPanel(this.props.data)}\r\n            </TableCell>\r\n          </TableRow>\r\n        }\r\n        {this.props.data.tableData.childRows && this.props.data.tableData.isTreeExpanded &&\r\n          this.props.data.tableData.childRows.map((data, index) => {\r\n            if (data.tableData.editing) {\r\n              return (\r\n                <this.props.components.EditRow\r\n                  columns={this.props.columns.filter(columnDef => { return !columnDef.hidden })}\r\n                  components={this.props.components}\r\n                  data={data}\r\n                  icons={this.props.icons}\r\n                  localization={this.props.localization}\r\n                  getFieldValue={this.props.getFieldValue}\r\n                  key={index}\r\n                  mode={data.tableData.editing}\r\n                  options={this.props.options}\r\n                  isTreeData={this.props.isTreeData}\r\n                  detailPanel={this.props.detailPanel}\r\n                  onEditingCanceled={onEditingCanceled}\r\n                  onEditingApproved={onEditingApproved}\r\n                />\r\n              );\r\n            } else {\r\n              return (\r\n                <this.props.components.Row\r\n                  {...this.props}\r\n                  data={data}\r\n                  index={index}\r\n                  key={index}\r\n                  level={this.props.level + 1}\r\n                  path={[...this.props.path, index]}\r\n                  onEditingCanceled={onEditingCanceled}\r\n                  onEditingApproved={onEditingApproved}\r\n                  hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n                  treeDataMaxLevel={treeDataMaxLevel}\r\n                />\r\n              );\r\n            }\r\n          })\r\n        }\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nMTableBodyRow.defaultProps = {\r\n  actions: [],\r\n  index: 0,\r\n  data: {},\r\n  options: {},\r\n  path: []\r\n};\r\n\r\nMTableBodyRow.propTypes = {\r\n  actions: PropTypes.array,\r\n  icons: PropTypes.any.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  detailPanel: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.func]))]),\r\n  hasAnyEditingRow: PropTypes.bool,\r\n  options: PropTypes.object.isRequired,\r\n  onRowSelected: PropTypes.func,\r\n  path: PropTypes.arrayOf(PropTypes.number),\r\n  treeDataMaxLevel: PropTypes.number,\r\n  getFieldValue: PropTypes.func.isRequired,\r\n  columns: PropTypes.array,\r\n  onToggleDetailPanel: PropTypes.func.isRequired,\r\n  onRowClick: PropTypes.func,\r\n  onEditingApproved: PropTypes.func,\r\n  onEditingCanceled: PropTypes.func,\r\n};\r\n","/* eslint-disable no-unused-vars */\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\n/* eslint-enable no-unused-vars */\r\n\r\n\r\nclass MTableGroupbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n\r\n  getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    // padding: '8px 16px',\r\n    margin: `0 ${8}px 0 0`,\r\n\r\n    // change background colour if dragging\r\n    // background: isDragging ? 'lightgreen' : 'grey',\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  });\r\n\r\n  getListStyle = isDraggingOver => ({\r\n    // background: isDraggingOver ? 'lightblue' : '#0000000a',\r\n    background: '#0000000a',\r\n    display: 'flex',\r\n    width: '100%',\r\n    padding: 8,\r\n    overflow: 'auto',\r\n    border: '1px solid #ccc',\r\n    borderStyle: 'dashed'\r\n  });\r\n\r\n  render() {\r\n    return (\r\n      <Toolbar style={{ padding: 0, minHeight: 'unset' }}>\r\n        <Droppable droppableId=\"groups\" direction=\"horizontal\" placeholder=\"Deneme\">\r\n          {(provided, snapshot) => (\r\n            <div\r\n              ref={provided.innerRef}\r\n              style={this.getListStyle(snapshot.isDraggingOver)}\r\n            >\r\n              {this.props.groupColumns.length > 0 &&\r\n                <Typography variant=\"caption\" style={{ padding: 8 }}>\r\n                  {this.props.localization.groupedBy}\r\n                </Typography>\r\n              }\r\n              {this.props.groupColumns.map((columnDef, index) => {\r\n                return (\r\n                  <Draggable\r\n                    key={columnDef.tableData.id}\r\n                    draggableId={columnDef.tableData.id.toString()}\r\n                    index={index}>\r\n                    {(provided, snapshot) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        style={this.getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\r\n                      >\r\n                        <Chip\r\n                          {...provided.dragHandleProps}\r\n                          onClick={() => this.props.onSortChanged(columnDef)}\r\n                          label={\r\n                            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                              <div style={{ float: 'left' }}>{columnDef.title}</div>\r\n                              {columnDef.tableData.groupSort &&\r\n                                <this.props.icons.SortArrow\r\n                                  style={{\r\n                                    transition: '300ms ease all',\r\n                                    transform: columnDef.tableData.groupSort === \"asc\" ? 'rotate(-180deg)' : 'none',\r\n                                    fontSize: 18\r\n                                  }}\r\n                                />\r\n                              }\r\n                            </div>\r\n                          }\r\n                          style={{ boxShadow: 'none', textTransform: 'none' }}\r\n                          onDelete={() => this.props.onGroupRemoved(columnDef, index)}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                );\r\n              })}\r\n              {this.props.groupColumns.length === 0 &&\r\n                <Typography variant=\"caption\" style={{ padding: 8 }}>\r\n                  {this.props.localization.placeholder}\r\n                </Typography>\r\n              }\r\n              {provided.placeholder}\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </Toolbar>\r\n    );\r\n  }\r\n}\r\n\r\nMTableGroupbar.defaultProps = {\r\n};\r\n\r\nMTableGroupbar.propTypes = {\r\n  localization: PropTypes.shape({\r\n    groupedBy: PropTypes.string,\r\n    placeholder: PropTypes.string\r\n  }),\r\n};\r\n\r\nexport default MTableGroupbar;\r\n","/* eslint-disable no-unused-vars */\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\n/* eslint-enable no-unused-vars */\r\n\r\n\r\nexport default class MTableGroupRow extends React.Component {\r\n\r\n  rotateIconStyle = isOpen => ({\r\n    transform: isOpen ? 'rotate(90deg)' : 'none'\r\n  });\r\n\r\n  render() {\r\n    let colSpan = this.props.columns.filter(columnDef => !columnDef.hidden).length;\r\n    this.props.options.selection && colSpan++;    \r\n    this.props.detailPanel && colSpan++;\r\n    this.props.actions && this.props.actions.length > 0 && colSpan++;\r\n    const column = this.props.groups[this.props.level];\r\n\r\n    let detail;\r\n    if (this.props.groupData.isExpanded) {\r\n      if (this.props.groups.length > (this.props.level + 1)) { // Is there another group\r\n        detail = this.props.groupData.groups.map((groupData, index) => (\r\n          <this.props.components.GroupRow\r\n            actions={this.props.actions}\r\n            key={groupData.value || (\"\" + index)}\r\n            columns={this.props.columns}\r\n            components={this.props.components}\r\n            detailPanel={this.props.detailPanel}\r\n            getFieldValue={this.props.getFieldValue}\r\n            groupData={groupData}\r\n            groups={this.props.groups}            \r\n            icons={this.props.icons}\r\n            level={this.props.level + 1}\r\n            path={[...this.props.path, index]}\r\n            onGroupExpandChanged={this.props.onGroupExpandChanged}\r\n            onRowSelected={this.props.onRowSelected}\r\n            onRowClick={this.props.onRowClick}\r\n            onToggleDetailPanel={this.props.onToggleDetailPanel}\r\n            onTreeExpandChanged={this.props.onTreeExpandChanged}\r\n            onEditingCanceled={this.props.onEditingCanceled}\r\n            onEditingApproved={this.props.onEditingApproved}\r\n            options={this.props.options}\r\n            hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n            isTreeData={this.props.isTreeData}\r\n          />\r\n        ));\r\n      }\r\n      else {\r\n        detail = this.props.groupData.data.map((rowData, index) => {\r\n          if (rowData.tableData.editing) {\r\n            return (\r\n              <this.props.components.EditRow\r\n                columns={this.props.columns}\r\n                components={this.props.components}\r\n                data={rowData}\r\n                icons={this.props.icons}\r\n                path={[...this.props.path, index]}\r\n                localization={this.props.localization}\r\n                key={index}\r\n                mode={rowData.tableData.editing}\r\n                options={this.props.options}\r\n                isTreeData={this.props.isTreeData}\r\n                detailPanel={this.props.detailPanel}\r\n                onEditingCanceled={this.props.onEditingCanceled}\r\n                onEditingApproved={this.props.onEditingApproved}\r\n                getFieldValue={this.props.getFieldValue}\r\n              />\r\n            );\r\n          } else {\r\n            return (\r\n              <this.props.components.Row\r\n                actions={this.props.actions}\r\n                key={index}\r\n                columns={this.props.columns}\r\n                components={this.props.components}\r\n                data={rowData}\r\n                detailPanel={this.props.detailPanel}\r\n                getFieldValue={this.props.getFieldValue}\r\n                icons={this.props.icons}\r\n                path={[...this.props.path, index]}\r\n                onRowSelected={this.props.onRowSelected}\r\n                onRowClick={this.props.onRowClick}\r\n                onToggleDetailPanel={this.props.onToggleDetailPanel}\r\n                options={this.props.options}\r\n                isTreeData={this.props.isTreeData}\r\n                onTreeExpandChanged={this.props.onTreeExpandChanged}\r\n                onEditingCanceled={this.props.onEditingCanceled}\r\n                onEditingApproved={this.props.onEditingApproved}\r\n                hasAnyEditingRow={this.props.hasAnyEditingRow}\r\n              />\r\n            );\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    const freeCells = [];\r\n    for (let i = 0; i < this.props.level; i++) {\r\n      freeCells.push(<TableCell padding=\"checkbox\" key={ i } />);\r\n    }\r\n\r\n    let value = this.props.groupData.value;\r\n    if (column.lookup) {\r\n      value = column.lookup[value];\r\n    }\r\n    \r\n    let title = column.title;\r\n    if (typeof this.props.options.groupTitle === \"function\") {\r\n      title = this.props.options.groupTitle(this.props.groupData);\r\n    } else if (typeof title !== \"string\") {\r\n      title = React.cloneElement(title);\r\n    }\r\n\r\n    let separator = this.props.options.groupRowSeparator || \": \";\r\n\r\n    return (\r\n      <>\r\n        <TableRow>\r\n          {freeCells}\r\n          <this.props.components.Cell \r\n            colSpan={colSpan} \r\n            padding=\"none\" \r\n            columnDef={column} \r\n            value={value}\r\n            icons={this.props.icons}\r\n          >\r\n            <IconButton\r\n              style={{ transition: 'all ease 200ms', ...this.rotateIconStyle(this.props.groupData.isExpanded) }}\r\n              onClick={(event) => {\r\n                this.props.onGroupExpandChanged(this.props.path);\r\n              }}\r\n            >\r\n              <this.props.icons.DetailPanel />\r\n            </IconButton>\r\n            <b>{title}{separator}</b>\r\n          </this.props.components.Cell>\r\n        </TableRow>\r\n        {detail}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nMTableGroupRow.defaultProps = {\r\n  columns: [],\r\n  groups: [],\r\n  options: {},\r\n  level: 0\r\n};\r\n\r\nMTableGroupRow.propTypes = {\r\n  actions: PropTypes.array,\r\n  columns: PropTypes.arrayOf(PropTypes.object),\r\n  components: PropTypes.object,\r\n  detailPanel: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.object)]),\r\n  getFieldValue: PropTypes.func,\r\n  groupData: PropTypes.object,\r\n  groups: PropTypes.arrayOf(PropTypes.object),\r\n  hasAnyEditingRow: PropTypes.bool,\r\n  icons: PropTypes.object,\r\n  isTreeData: PropTypes.bool.isRequired,\r\n  level: PropTypes.number,\r\n  localization: PropTypes.object,\r\n  onGroupExpandChanged: PropTypes.func,\r\n  onRowSelected: PropTypes.func,\r\n  onRowClick: PropTypes.func,  \r\n  onToggleDetailPanel: PropTypes.func.isRequired,\r\n  onTreeExpandChanged: PropTypes.func.isRequired,\r\n  onEditingCanceled: PropTypes.func,\r\n  onEditingApproved: PropTypes.func,\r\n  options: PropTypes.object,\r\n  path: PropTypes.arrayOf(PropTypes.number),\r\n};\r\n","/* eslint-disable no-unused-vars */\r\nimport * as React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport PropTypes from 'prop-types';\r\n/* eslint-enable no-unused-vars */\r\n\r\n/* eslint-disable no-useless-escape */\r\nconst isoDateRegex = /^\\d{4}-(0[1-9]|1[0-2])-([12]\\d|0[1-9]|3[01])([T\\s](([01]\\d|2[0-3])\\:[0-5]\\d|24\\:00)(\\:[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3])\\:?([0-5]\\d)?)?)?$/;\r\n/* eslint-enable no-useless-escape */\r\n\r\nexport default class MTableCell extends React.Component {\r\n\r\n  getRenderValue() {\r\n    if (this.props.columnDef.emptyValue !== undefined && (this.props.value === undefined || this.props.value === null)) {\r\n      return this.getEmptyValue(this.props.columnDef.emptyValue);\r\n    }\r\n    if (this.props.columnDef.render) {\r\n      if (this.props.rowData) {\r\n        return this.props.columnDef.render(this.props.rowData, 'row');\r\n      }\r\n      else {\r\n        return this.props.columnDef.render(this.props.value, 'group');\r\n      }\r\n\r\n    } else if (this.props.columnDef.type === 'boolean') {\r\n      const style = { textAlign: 'left', verticalAlign: 'middle', width: 48 };\r\n      if (this.props.value) {\r\n        return <this.props.icons.Check style={style} />;\r\n      } else {\r\n        return <this.props.icons.ThirdStateCheck style={style} />;\r\n      }\r\n    } else if (this.props.columnDef.type === 'date') {\r\n      if (this.props.value instanceof Date) {\r\n        return this.props.value.toLocaleDateString();\r\n      } else if(isoDateRegex.exec(this.props.value)) {\r\n        return new Date(this.props.value).toLocaleDateString();\r\n      } else {\r\n        return this.props.value;\r\n      }\r\n    } else if (this.props.columnDef.type === 'time') {\r\n      if (this.props.value instanceof Date) {\r\n        return this.props.value.toLocaleTimeString();\r\n      } else if(isoDateRegex.exec(this.props.value)) {\r\n        return new Date(this.props.value).toLocaleTimeString();\r\n      } else {\r\n        return this.props.value;\r\n      }\r\n    } else if (this.props.columnDef.type === 'datetime') {\r\n      if (this.props.value instanceof Date) {\r\n        return this.props.value.toLocaleString();\r\n      } else if(isoDateRegex.exec(this.props.value)) {\r\n        return new Date(this.props.value).toLocaleString();\r\n      } else {\r\n        return this.props.value;\r\n      }\r\n    } else if (this.props.columnDef.type === 'currency') {\r\n      return this.getCurrencyValue(this.props.columnDef.currencySetting, this.props.value);\r\n    }\r\n    else if(typeof this.props.value === \"boolean\") {\r\n      // To avoid forwardref boolean children. \r\n      return this.props.value.toString();\r\n    }\r\n\r\n    return this.props.value;\r\n  }\r\n\r\n  getEmptyValue(emptyValue) {\r\n    if (typeof emptyValue === 'function') {\r\n      return this.props.columnDef.emptyValue(this.props.rowData);\r\n    } else {\r\n      return emptyValue;\r\n    }\r\n  }\r\n\r\n  getCurrencyValue(currencySetting, value) {\r\n    if (currencySetting !== undefined) {\r\n      return new Intl.NumberFormat((currencySetting.locale !== undefined) ? currencySetting.locale : 'en-US',\r\n        {\r\n          style: 'currency',\r\n          currency: (currencySetting.currencyCode !== undefined) ? currencySetting.currencyCode : 'USD',\r\n          minimumFractionDigits: (currencySetting.minimumFractionDigits !== undefined) ? currencySetting.minimumFractionDigits : 2,\r\n          maximumFractionDigits: (currencySetting.maximumFractionDigits !== undefined) ? currencySetting.maximumFractionDigits : 2\r\n        }).format((value !== undefined) ? value : 0);\r\n    } else {\r\n      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format((value !== undefined) ? value : 0);\r\n    }\r\n  }\r\n\r\n  handleClickCell = e => {\r\n    if (this.props.columnDef.disableClick) {\r\n      e.stopPropagation();\r\n    }\r\n  }\r\n\r\n  getStyle = () => {\r\n    let cellStyle = {\r\n      color: 'inherit',\r\n      width: this.props.columnDef.tableData.width,\r\n      boxSizing: 'border-box'\r\n    };\r\n\r\n    if (typeof this.props.columnDef.cellStyle === 'function') {\r\n      cellStyle = { ...cellStyle, ...this.props.columnDef.cellStyle(this.props.value, this.props.rowData) };\r\n    } else {\r\n      cellStyle = { ...cellStyle, ...this.props.columnDef.cellStyle };\r\n    }\r\n\r\n    if (this.props.columnDef.disableClick) {\r\n      cellStyle.cursor = 'default';\r\n    }\r\n\r\n    return { ...this.props.style, ...cellStyle };\r\n  }\r\n\r\n  render() {\r\n\r\n    const { icons, columnDef, rowData, ...cellProps } = this.props;\r\n\r\n    return (\r\n      <TableCell\r\n        size={this.props.size}\r\n        {...cellProps}\r\n        style={this.getStyle()}\r\n        align={['numeric','currency'].indexOf(this.props.columnDef.type) !== -1 ? \"right\" : \"left\"}\r\n        onClick={this.handleClickCell}\r\n      >\r\n        {this.props.children}\r\n        {this.getRenderValue()}\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\n\r\nMTableCell.defaultProps = {\r\n  columnDef: {},\r\n  value: undefined\r\n};\r\n\r\nMTableCell.propTypes = {\r\n  columnDef: PropTypes.object.isRequired,\r\n  value: PropTypes.any,\r\n  rowData: PropTypes.object\r\n};\r\n","export const byString = (o, s) => {\r\n  if (!s) {\r\n    return;\r\n  }\r\n\r\n  s = s.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\r\n  s = s.replace(/^\\./, '');           // strip a leading dot\r\n  var a = s.split('.');\r\n  for (var i = 0, n = a.length; i < n; ++i) {\r\n    var x = a[i];\r\n    if (o && x in o) {\r\n      o = o[x];\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n  return o;\r\n};\r\n\r\nexport const setByString = (obj, path, value) => {\r\n  var schema = obj;  // a moving reference to internal objects within obj\r\n\r\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\r\n  path = path.replace(/^\\./, '');           // strip a leading dot\r\n  var pList = path.split('.');\r\n  var len = pList.length;\r\n  for(var i = 0; i < len-1; i++) {\r\n      var elem = pList[i];\r\n      if( !schema[elem] ) schema[elem] = {};\r\n      schema = schema[elem];\r\n  }\r\n\r\n  schema[pList[len-1]] = value;\r\n};","/* eslint-disable no-unused-vars */\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\nimport { byString, setByString } from '../utils';\r\n/* eslint-enable no-unused-vars */\r\n\r\n\r\nexport default class MTableEditRow extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: props.data ? JSON.parse(JSON.stringify(props.data)) : this.createRowData()\r\n    };\r\n  }\r\n\r\n  createRowData() {\r\n    return this.props.columns.filter(column => (column.initialEditValue || column.initialEditValue === 0) && column.field).reduce((prev,column)=>{\r\n      prev[column.field]=column.initialEditValue;\r\n      return prev;\r\n    },{});\r\n  }\r\n  \r\n  renderColumns() {\r\n    const mapArr = this.props.columns.filter(columnDef => !columnDef.hidden && !(columnDef.tableData.groupOrder > -1))\r\n      .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n      .map((columnDef, index) => {\r\n        const value = (typeof this.state.data[columnDef.field] !== 'undefined' ? this.state.data[columnDef.field] : byString(this.state.data, columnDef.field));\r\n        const getCellStyle = (columnDef, value) => {\r\n          let cellStyle = {\r\n            color: 'inherit'\r\n          };\r\n          if (typeof columnDef.cellStyle === 'function') {\r\n            cellStyle = { ...cellStyle, ...columnDef.cellStyle(value, this.props.data) };\r\n          } else {\r\n            cellStyle = { ...cellStyle, ...columnDef.cellStyle };\r\n          }\r\n          if (columnDef.disableClick) {\r\n            cellStyle.cursor = 'default';\r\n          }\r\n\r\n          return { ...cellStyle };\r\n        };\r\n\r\n        const style = {};\r\n        if (index === 0) {\r\n          style.paddingLeft = 24 + this.props.level * 20;\r\n        }\r\n\r\n        let allowEditing = false;\r\n\r\n        if (columnDef.editable === undefined) {\r\n          allowEditing = true;\r\n        }\r\n        if (columnDef.editable === 'always') {\r\n          allowEditing = true;\r\n        }\r\n        if (columnDef.editable === 'onAdd' && this.props.mode === 'add') {\r\n          allowEditing = true;\r\n        }\r\n        if (columnDef.editable === 'onUpdate' && this.props.mode === 'update') {\r\n          allowEditing = true;\r\n        }\r\n        if (typeof columnDef.editable == 'function'){\r\n            allowEditing = columnDef.editable(columnDef, this.props.data);\r\n        }\r\n        if (!columnDef.field || !allowEditing) {\r\n          const readonlyValue = this.props.getFieldValue(this.state.data, columnDef);\r\n          return (\r\n            <this.props.components.Cell\r\n              icons={this.props.icons}\r\n              columnDef={columnDef}\r\n              value={readonlyValue}\r\n              key={columnDef.tableData.id}\r\n              rowData={this.props.data}\r\n              style={getCellStyle(columnDef, value)}\r\n            />\r\n          );\r\n        }\r\n        else {\r\n          const { editComponent, ...cellProps } = columnDef;\r\n          const EditComponent = editComponent || this.props.components.EditField;\r\n          \r\n          return (\r\n            <TableCell\r\n              key={columnDef.tableData.id}\r\n              align={['numeric'].indexOf(columnDef.type) !== -1 ? \"right\" : \"left\"}\r\n              style={getCellStyle(columnDef, value)}\r\n            >\r\n              <EditComponent\r\n                key={columnDef.tableData.id}\r\n                columnDef={cellProps}\r\n                value={value}\r\n                locale={this.props.localization.dateTimePickerLocalization}\r\n                rowData={this.state.data}\r\n                onChange={value => {\r\n                  const data = { ...this.state.data };\r\n                  setByString(data, columnDef.field, value);\r\n                  // data[columnDef.field] = value;\r\n                  this.setState({ data });\r\n                }}\r\n                onRowDataChange={data => {\r\n                  this.setState({ data });\r\n                }}\r\n              />\r\n            </TableCell>\r\n          );\r\n        }\r\n      });\r\n    return mapArr;\r\n  }\r\n\r\n  renderActions() {\r\n    const localization = { ...MTableEditRow.defaultProps.localization, ...this.props.localization };\r\n    const actions = [\r\n      {\r\n        icon: this.props.icons.Check,\r\n        tooltip: localization.saveTooltip,\r\n        onClick: () => {\r\n          const newData = this.state.data;\r\n          delete newData.tableData;\r\n          this.props.onEditingApproved(this.props.mode, this.state.data, this.props.data);\r\n        }\r\n      },\r\n      {\r\n        icon: this.props.icons.Clear,\r\n        tooltip: localization.cancelTooltip,\r\n        onClick: () => {\r\n          this.props.onEditingCanceled(this.props.mode, this.props.data);\r\n        }\r\n      }\r\n    ];\r\n    return (\r\n      <TableCell padding=\"none\" key=\"key-actions-column\" style={{ width: 42 * actions.length, padding: '0px 5px' }}>\r\n        <div style={{ display: 'flex' }}>\r\n          <this.props.components.Actions data={this.props.data} actions={actions} components={this.props.components} />\r\n        </div>\r\n      </TableCell>\r\n    );\r\n  }\r\n\r\n  getStyle() {\r\n    const style = {\r\n      // boxShadow: '1px 1px 1px 1px rgba(0,0,0,0.2)',\r\n      borderBottom: '1px solid red'\r\n    };\r\n\r\n    return style;\r\n  }\r\n\r\n  render() {\r\n    const localization = { ...MTableEditRow.defaultProps.localization, ...this.props.localization };\r\n    let columns;\r\n    if (this.props.mode === \"add\" || this.props.mode === \"update\") {\r\n      columns = this.renderColumns();\r\n    }\r\n    else {\r\n      const colSpan = this.props.columns.filter(columnDef => !columnDef.hidden && !(columnDef.tableData.groupOrder > -1)).length;\r\n      columns = [\r\n        <TableCell\r\n          padding={this.props.options.actionsColumnIndex === 0 ? \"none\" : undefined}\r\n          key=\"key-edit-cell\"\r\n          colSpan={colSpan}>\r\n          <Typography variant=\"h6\">\r\n            {localization.deleteText}\r\n          </Typography>\r\n        </TableCell>\r\n      ];\r\n    }\r\n\r\n\r\n    if (this.props.options.selection) {\r\n      columns.splice(0, 0, <TableCell padding=\"none\" key=\"key-selection-cell\" />);\r\n    }\r\n    if (this.props.isTreeData) {\r\n      columns.splice(0, 0, <TableCell padding=\"none\" key=\"key-tree-data-cell\" />);\r\n    }\r\n\r\n    if (this.props.options.actionsColumnIndex === -1) {\r\n      columns.push(this.renderActions());\r\n    } else if (this.props.options.actionsColumnIndex >= 0) {\r\n      let endPos = 0;\r\n      if (this.props.options.selection) {\r\n        endPos = 1;\r\n      }\r\n      if (this.props.isTreeData) {\r\n        endPos = 1;\r\n        if (this.props.options.selection) {\r\n          columns.splice(1, 1);\r\n        }\r\n      }\r\n      columns.splice(this.props.options.actionsColumnIndex + endPos, 0, this.renderActions());\r\n    }\r\n\r\n    // Lastly we add detail panel icon\r\n    if (this.props.detailPanel) {\r\n      const aligment = this.props.options.detailPanelColumnAlignment;\r\n      const index = aligment === \"left\" ? 0 : columns.length;\r\n      columns.splice(index, 0, <TableCell padding=\"none\" key=\"key-detail-panel-cell\" />);\r\n    }\r\n\r\n    this.props.columns\r\n      .filter(columnDef => columnDef.tableData.groupOrder > -1)\r\n      .forEach(columnDef => {\r\n        columns.splice(0, 0, <TableCell padding=\"none\" key={\"key-group-cell\" + columnDef.tableData.id} />);\r\n      });\r\n\r\n    const {\r\n      detailPanel,\r\n      isTreeData,\r\n      onRowClick,\r\n      onRowSelected,\r\n      onTreeExpandChanged,\r\n      onToggleDetailPanel,\r\n      onEditingApproved,\r\n      onEditingCanceled,\r\n      getFieldValue,\r\n      components,\r\n      icons,\r\n      columns: columnsProp, // renamed to not conflict with definition above\r\n      localization: localizationProp, // renamed to not conflict with definition above\r\n      options,\r\n      actions,\r\n      ...rowProps\r\n    } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <TableRow\r\n          {...rowProps}\r\n          style={this.getStyle()}\r\n        >\r\n          {columns}\r\n        </TableRow>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nMTableEditRow.defaultProps = {\r\n  actions: [],\r\n  index: 0,\r\n  options: {},\r\n  path: [],\r\n  localization: {\r\n    saveTooltip: 'Save',\r\n    cancelTooltip: 'Cancel',\r\n    deleteText: 'Are you sure you want to delete this row?',\r\n  }\r\n};\r\n\r\nMTableEditRow.propTypes = {\r\n  actions: PropTypes.array,\r\n  icons: PropTypes.any.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  data: PropTypes.object,\r\n  detailPanel: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.func]))]),\r\n  options: PropTypes.object.isRequired,\r\n  onRowSelected: PropTypes.func,\r\n  path: PropTypes.arrayOf(PropTypes.number),\r\n  columns: PropTypes.array,\r\n  onRowClick: PropTypes.func,\r\n  onEditingApproved: PropTypes.func,\r\n  onEditingCanceled: PropTypes.func,\r\n  localization: PropTypes.object,\r\n  getFieldValue: PropTypes.func\r\n};\r\n","import * as React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, TimePicker, DatePicker, DateTimePicker } from '@material-ui/pickers';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass MTableEditField extends React.Component {\r\n  getProps() {\r\n    const { columnDef, rowData, onRowDataChange, ...props } = this.props;\r\n    return props;\r\n  }\r\n\r\n  renderLookupField() {\r\n    return (\r\n        <Select\r\n          {...this.getProps()}\r\n          value={this.props.value === undefined ? '' : this.props.value}\r\n          onChange={event => this.props.onChange(event.target.value)}\r\n          style={{\r\n            fontSize: 13,\r\n          }}\r\n          SelectDisplayProps={{ 'aria-label': this.props.columnDef.title }}\r\n        >\r\n          {Object.keys(this.props.columnDef.lookup).map(key => (\r\n            <MenuItem key={key} value={key}>{this.props.columnDef.lookup[key]}</MenuItem>)\r\n          )}\r\n        </Select>\r\n    );\r\n  }\r\n\r\n  renderBooleanField() {\r\n    return (\r\n      <Checkbox\r\n        {...this.getProps()}\r\n        value={String(this.props.value)}\r\n        checked={Boolean(this.props.value)}\r\n        onChange={event => this.props.onChange(event.target.checked)}\r\n        style={{\r\n          paddingLeft: 0,\r\n          paddingTop: 0,\r\n          paddingBottom: 0\r\n        }}\r\n        inputProps={{\r\n          'aria-label': this.props.columnDef.title\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDateField() {\r\n    return (\r\n      <MuiPickersUtilsProvider\r\n        utils={DateFnsUtils}\r\n        locale={this.props.dateTimePickerLocalization}\r\n      >\r\n        <DatePicker\r\n          {...this.getProps()}\r\n          format='dd.MM.yyyy'\r\n          value={this.props.value || null}\r\n          onChange={this.props.onChange}\r\n          clearable\r\n          InputProps={{\r\n            style: {\r\n              fontSize: 13\r\n            }\r\n          }}\r\n          inputProps={{\r\n            'aria-label': `${this.props.columnDef.title}: press space to edit`\r\n          }}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n  renderTimeField() {\r\n    return (\r\n      <MuiPickersUtilsProvider\r\n        utils={DateFnsUtils}\r\n        locale={this.props.dateTimePickerLocalization}\r\n      >\r\n        <TimePicker\r\n          {...this.getProps()}\r\n          format='HH:mm:ss'\r\n          value={this.props.value || null}\r\n          onChange={this.props.onChange}\r\n          clearable\r\n          InputProps={{\r\n            style: {\r\n              fontSize: 13\r\n            },\r\n            inputProps: {\r\n              'aria-label': `${this.props.columnDef.title}: press space to edit`\r\n            }\r\n          }}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n\r\n  renderDateTimeField() {\r\n    return (\r\n      <MuiPickersUtilsProvider\r\n        utils={DateFnsUtils}\r\n        locale={this.props.dateTimePickerLocalization}\r\n      >\r\n        <DateTimePicker\r\n          {...this.getProps()}\r\n          format='dd.MM.yyyy HH:mm:ss'\r\n          value={this.props.value || null}\r\n          onChange={this.props.onChange}\r\n          clearable\r\n          InputProps={{\r\n            style: {\r\n              fontSize: 13\r\n            },\r\n            inputProps:{\r\n            'aria-label': `${this.props.columnDef.title}: press space to edit`\r\n          }\r\n          }}\r\n          \r\n        />\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n\r\n  renderTextField() {\r\n    return (\r\n      <TextField\r\n        {...this.getProps()}\r\n        style={this.props.columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        type={this.props.columnDef.type === 'numeric' ? 'number' : 'text'}\r\n        placeholder={this.props.columnDef.title}\r\n        value={this.props.value === undefined ? '' : this.props.value}\r\n        onChange={event => this.props.onChange(event.target.value)}\r\n        InputProps={{\r\n          style: {\r\n            fontSize: 13,\r\n          },\r\n          inputProps: {\r\n            'aria-label': this.props.columnDef.title\r\n          }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderCurrencyField() {\r\n    return (\r\n      <TextField\r\n        {...this.getProps()}\r\n        placeholder={this.props.columnDef.title}\r\n        value={this.props.value === undefined ? '' : this.props.value}\r\n        onChange={event => this.props.onChange(event.target.value)}\r\n        inputProps={{\r\n          style: {\r\n            fontSize: 13,\r\n            textAlign: 'right',\r\n            'aria-label': this.props.columnDef.title\r\n          }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let component = \"ok\";\r\n\r\n    if (this.props.columnDef.lookup) {\r\n      component = this.renderLookupField();\r\n    }\r\n    else if (this.props.columnDef.type === \"boolean\") {\r\n      component = this.renderBooleanField();\r\n    }\r\n    else if (this.props.columnDef.type === \"date\") {\r\n      component = this.renderDateField();\r\n    }\r\n    else if (this.props.columnDef.type === \"time\") {\r\n      component = this.renderTimeField();\r\n    }\r\n    else if (this.props.columnDef.type === \"datetime\") {\r\n      component = this.renderDateTimeField();\r\n    }\r\n    else if (this.props.columnDef.type === \"currency\") {\r\n      component = this.renderCurrencyField();\r\n    }\r\n    else {\r\n      component = this.renderTextField();\r\n    }\r\n\r\n    return component;\r\n\r\n  }\r\n}\r\n\r\nMTableEditField.propTypes = {\r\n  value: PropTypes.any,\r\n  onChange: PropTypes.func.isRequired,\r\n  columnDef: PropTypes.object.isRequired,\r\n  dateTimePickerLocalization: PropTypes.object\r\n};\r\n\r\nexport default MTableEditField;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, TimePicker, DatePicker, DateTimePicker } from '@material-ui/pickers';\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250\r\n    }\r\n  }\r\n};\r\n\r\nclass MTableFilterRow extends React.Component {\r\n  getLocalizationData = () => ({ ...MTableFilterRow.defaultProps.localization, ...this.props.localization });\r\n  getLocalizedFilterPlaceHolder = columnDef => columnDef.filterPlaceholder || this.getLocalizationData().filterPlaceHolder || \"\";\r\n\r\n  renderLookupFilter = (columnDef) => (\r\n    <FormControl style={{ width: '100%' }}>\r\n      <InputLabel htmlFor=\"select-multiple-checkbox\" style={{marginTop: -16}}>{this.getLocalizedFilterPlaceHolder(columnDef)}</InputLabel>\r\n      <Select\r\n        multiple\r\n        value={columnDef.tableData.filterValue || []}\r\n        onChange={event => {\r\n          this.props.onFilterChanged(columnDef.tableData.id, event.target.value);\r\n        }}\r\n        input={<Input id=\"select-multiple-checkbox\" />}\r\n        renderValue={selecteds => selecteds.map(selected => columnDef.lookup[selected]).join(', ')}\r\n        MenuProps={MenuProps}\r\n        style={{marginTop: 0}}\r\n      >\r\n        {\r\n          Object.keys(columnDef.lookup).map(key => (\r\n            <MenuItem key={key} value={key}>\r\n              <Checkbox checked={columnDef.tableData.filterValue ? columnDef.tableData.filterValue.indexOf(key.toString()) > -1 : false} />\r\n              <ListItemText primary={columnDef.lookup[key]} />\r\n            </MenuItem>\r\n          ))\r\n        }\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n  renderFilterComponent = (columnDef) => (\r\n    React.createElement(columnDef.filterComponent, { columnDef: columnDef, onFilterChanged: this.props.onFilterChanged })\r\n  )\r\n\r\n  renderBooleanFilter = (columnDef) => (\r\n    <Checkbox\r\n      indeterminate={columnDef.tableData.filterValue === undefined}\r\n      checked={columnDef.tableData.filterValue === 'checked'}\r\n      onChange={() => {\r\n        let val;\r\n        if (columnDef.tableData.filterValue === undefined) {\r\n          val = 'checked';\r\n        } else if (columnDef.tableData.filterValue === 'checked') {\r\n          val = 'unchecked';\r\n        }\r\n\r\n        this.props.onFilterChanged(columnDef.tableData.id, val);\r\n      }}\r\n    />\r\n  )\r\n\r\n  renderDefaultFilter = (columnDef) => {\r\n    const localization = this.getLocalizationData();\r\n    const FilterIcon = this.props.icons.Filter;\r\n    return (\r\n      <TextField\r\n        style={columnDef.type === 'numeric' ? { float: 'right' } : {}}\r\n        type={columnDef.type === 'numeric' ? 'number' : 'search'}\r\n        value={columnDef.tableData.filterValue || ''}\r\n        placeholder={this.getLocalizedFilterPlaceHolder(columnDef)}\r\n        onChange={(event) => {\r\n          this.props.onFilterChanged(columnDef.tableData.id, event.target.value);\r\n        }}\r\n        inputProps={{'aria-label': `filter data by ${columnDef.title}`}}\r\n        InputProps={this.props.hideFilterIcons || columnDef.hideFilterIcon ? undefined : {\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Tooltip title={localization.filterTooltip}>\r\n                <FilterIcon/>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          )\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDateTypeFilter = (columnDef) => {\r\n    const onDateInputChange = date => this.props.onFilterChanged(columnDef.tableData.id, date);\r\n    const pickerProps = {\r\n      value: columnDef.tableData.filterValue || null,\r\n      onChange: onDateInputChange,\r\n      placeholder: this.getLocalizedFilterPlaceHolder(columnDef),\r\n      clearable: true\r\n    };\r\n\r\n    let dateInputElement = null;\r\n    if (columnDef.type === 'date') {\r\n      dateInputElement = (\r\n        <DatePicker {...pickerProps} />\r\n      );\r\n    } else if (columnDef.type === 'datetime') {\r\n      dateInputElement = (\r\n        <DateTimePicker {...pickerProps} />\r\n      );\r\n    } else if (columnDef.type === 'time') {\r\n      dateInputElement = (\r\n        <TimePicker {...pickerProps} />\r\n      );\r\n    }\r\n    return (\r\n      <MuiPickersUtilsProvider\r\n        utils={DateFnsUtils}\r\n        locale={this.props.localization.dateTimePickerLocalization}>\r\n        {dateInputElement}\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n\r\n  getComponentForColumn(columnDef) {\r\n    if (columnDef.filtering === false) {\r\n      return null;\r\n    }\r\n\r\n    if (columnDef.field || columnDef.customFilterAndSearch) {\r\n      if (columnDef.filterComponent) {\r\n        return this.renderFilterComponent(columnDef);\r\n      } else if (columnDef.lookup) {\r\n        return this.renderLookupFilter(columnDef);\r\n      } else if (columnDef.type === 'boolean') {\r\n        return this.renderBooleanFilter(columnDef);\r\n      } else if (['date', 'datetime', 'time'].includes(columnDef.type)) {\r\n        return this.renderDateTypeFilter(columnDef);\r\n      } else {\r\n        return this.renderDefaultFilter(columnDef);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const columns = this.props.columns\r\n      .filter(columnDef => !columnDef.hidden && !(columnDef.tableData.groupOrder > -1))\r\n      .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n      .map(columnDef => (\r\n        <TableCell key={columnDef.tableData.id} style={{ ...this.props.filterCellStyle, ...columnDef.filterCellStyle }}>\r\n          {this.getComponentForColumn(columnDef)}\r\n        </TableCell>\r\n      ));\r\n\r\n    if (this.props.selection) {\r\n      columns.splice(0, 0, <TableCell padding=\"none\" key=\"key-selection-column\" />);\r\n    }\r\n\r\n    if (this.props.hasActions) {\r\n      if (this.props.actionsColumnIndex === -1) {\r\n        columns.push(<TableCell key=\"key-action-column\" />);\r\n      } else {\r\n        let endPos = 0;\r\n        if (this.props.selection) {\r\n          endPos = 1;\r\n        }\r\n        columns.splice(this.props.actionsColumnIndex + endPos, 0, <TableCell key=\"key-action-column\" />);\r\n      }\r\n    }\r\n\r\n    if (this.props.hasDetailPanel) {\r\n      columns.splice(0, 0, <TableCell padding=\"none\" key=\"key-detail-panel-column\" />);\r\n    }\r\n\r\n    if (this.props.isTreeData > 0) {\r\n      columns.splice(0, 0,\r\n        <TableCell\r\n          padding=\"none\"\r\n          key={\"key-tree-data-filter\"}\r\n        />\r\n      );\r\n    }\r\n\r\n    this.props.columns\r\n      .filter(columnDef => columnDef.tableData.groupOrder > -1)\r\n      .forEach(columnDef => {\r\n        columns.splice(0, 0, <TableCell padding=\"checkbox\" key={\"key-group-filter\" + columnDef.tableData.id} />);\r\n      });\r\n\r\n    return (\r\n      <TableRow style={{ height: 10 }}>\r\n        {columns}\r\n      </TableRow>\r\n    );\r\n  }\r\n}\r\n\r\nMTableFilterRow.defaultProps = {\r\n  columns: [],\r\n  selection: false,\r\n  hasActions: false,\r\n  localization: {\r\n    filterTooltip: 'Filter'\r\n  },\r\n  hideFilterIcons: false,\r\n};\r\n\r\nMTableFilterRow.propTypes = {\r\n  columns: PropTypes.array.isRequired,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  isTreeData: PropTypes.bool.isRequired,\r\n  onFilterChanged: PropTypes.func.isRequired,\r\n  filterCellStyle: PropTypes.object,\r\n  selection: PropTypes.bool.isRequired,\r\n  actionsColumnIndex: PropTypes.number,\r\n  hasActions: PropTypes.bool,\r\n  localization: PropTypes.object,\r\n  hideFilterIcons: PropTypes.bool,\r\n};\r\n\r\nexport default MTableFilterRow;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport { Tooltip } from '@material-ui/core';\r\nimport * as CommonValues from '../utils/common-values';\r\n/* eslint-enable no-unused-vars */\r\n\r\nexport class MTableHeader extends React.Component {\r\n\r\n  renderHeader() {\r\n    const size = this.props.options.padding === 'default' ? 'medium' : 'small';\r\n\r\n    const mapArr = this.props.columns.filter(columnDef => !columnDef.hidden && !(columnDef.tableData.groupOrder > -1))\r\n      .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n      .map((columnDef, index) => {\r\n        let content = columnDef.title;\r\n\r\n        if (this.props.draggable) {\r\n          content = (\r\n            <Draggable\r\n              key={columnDef.tableData.id}\r\n              draggableId={columnDef.tableData.id.toString()}\r\n              index={index}>\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  {...provided.dragHandleProps}\r\n                >\r\n                  {columnDef.title}\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          );\r\n        }\r\n\r\n        if (columnDef.sorting !== false && this.props.sorting) {\r\n          content = (\r\n            <TableSortLabel\r\n              IconComponent={this.props.icons.SortArrow}\r\n              active={this.props.orderBy === columnDef.tableData.id}\r\n              direction={this.props.orderDirection || 'asc'}\r\n              onClick={() => {\r\n                const orderDirection =\r\n                  columnDef.tableData.id !== this.props.orderBy\r\n                    ? 'asc'\r\n                    : this.props.orderDirection === 'asc'\r\n                      ? 'desc'\r\n                      : this.props.orderDirection === 'desc' && this.props.thirdSortClick\r\n                        ? ''\r\n                        : this.props.orderDirection === 'desc' && !this.props.thirdSortClick\r\n                          ? 'asc'\r\n                          : this.props.orderDirection === ''\r\n                            ? 'asc'\r\n                            : 'desc';\r\n                this.props.onOrderChange(columnDef.tableData.id, orderDirection);\r\n              }}\r\n            >\r\n              {content}\r\n            </TableSortLabel>\r\n          );\r\n        }\r\n\r\n        if (columnDef.tooltip) {\r\n          content = <Tooltip title={columnDef.tooltip}><span>{content}</span></Tooltip>;\r\n        }\r\n\r\n        return (\r\n          <TableCell\r\n            key={columnDef.tableData.id}\r\n            align={['numeric'].indexOf(columnDef.type) !== -1 ? \"right\" : \"left\"}\r\n            className={this.props.classes.header}\r\n            style={{ ...this.props.headerStyle, ...columnDef.headerStyle, boxSizing: 'border-box', width: columnDef.tableData.width }}\r\n            size={size}\r\n          >\r\n            {content}\r\n          </TableCell>\r\n        );\r\n      });\r\n    return mapArr;\r\n  }\r\n\r\n\r\n\r\n  renderActionsHeader() {\r\n    const localization = { ...MTableHeader.defaultProps.localization, ...this.props.localization };\r\n    const width = CommonValues.actionsColumnWidth(this.props);\r\n    return (\r\n      <TableCell\r\n        key=\"key-actions-column\"\r\n        padding=\"checkbox\"\r\n        className={this.props.classes.header}\r\n        style={{ ...this.props.headerStyle, width: width, textAlign: 'center', boxSizing: 'border-box' }}\r\n      >\r\n        <TableSortLabel disabled>{localization.actions}</TableSortLabel>\r\n      </TableCell>\r\n    );\r\n  }\r\n  renderSelectionHeader() {\r\n    const selectionWidth = CommonValues.selectionMaxWidth(this.props, this.props.treeDataMaxLevel);\r\n\r\n    return (\r\n      <TableCell\r\n        padding=\"none\"\r\n        key=\"key-selection-column\"\r\n        className={this.props.classes.header}\r\n        style={{ ...this.props.headerStyle, width: selectionWidth }}\r\n      >\r\n        {this.props.showSelectAllCheckbox &&\r\n          <Checkbox\r\n            indeterminate={this.props.selectedCount > 0 && this.props.selectedCount < this.props.dataCount}\r\n            checked={this.props.dataCount > 0 && this.props.selectedCount === this.props.dataCount}\r\n            onChange={(event, checked) => this.props.onAllSelected && this.props.onAllSelected(checked)}\r\n          />\r\n        }\r\n      </TableCell>\r\n    );\r\n  }\r\n\r\n  renderDetailPanelColumnCell() {\r\n    return <TableCell\r\n      padding=\"none\"\r\n      key=\"key-detail-panel-column\"\r\n      className={this.props.classes.header}\r\n      style={{ ...this.props.headerStyle }}\r\n    />;\r\n  }\r\n\r\n  render() {\r\n    const headers = this.renderHeader();\r\n    if (this.props.hasSelection) {\r\n      headers.splice(0, 0, this.renderSelectionHeader());\r\n    }\r\n\r\n    if (this.props.showActionsColumn) {\r\n      if (this.props.actionsHeaderIndex >= 0) {\r\n        let endPos = 0;\r\n        if (this.props.hasSelection) {\r\n          endPos = 1;\r\n        }\r\n        headers.splice(this.props.actionsHeaderIndex + endPos, 0, this.renderActionsHeader());\r\n      } else if (this.props.actionsHeaderIndex === -1) {\r\n        headers.push(this.renderActionsHeader());\r\n      }\r\n    }\r\n\r\n    if (this.props.hasDetailPanel) {\r\n      if (this.props.detailPanelColumnAlignment === 'right') {\r\n        headers.push(this.renderDetailPanelColumnCell());\r\n      } else {\r\n        headers.splice(0, 0, this.renderDetailPanelColumnCell());\r\n      }\r\n    }\r\n\r\n    if (this.props.isTreeData > 0) {\r\n      headers.splice(0, 0,\r\n        <TableCell\r\n          padding=\"none\"\r\n          key={\"key-tree-data-header\"}\r\n          className={this.props.classes.header}\r\n          style={{ ...this.props.headerStyle }}\r\n        />\r\n      );\r\n    }\r\n\r\n    this.props.columns\r\n      .filter(columnDef => columnDef.tableData.groupOrder > -1)\r\n      .forEach(columnDef => {\r\n        headers.splice(0, 0, <TableCell padding=\"checkbox\" key={\"key-group-header\" + columnDef.tableData.id} className={this.props.classes.header} />);\r\n      });\r\n\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          {headers}\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\nMTableHeader.defaultProps = {\r\n  dataCount: 0,\r\n  hasSelection: false,\r\n  headerStyle: {},\r\n  selectedCount: 0,\r\n  sorting: true,\r\n  localization: {\r\n    actions: 'Actions'\r\n  },\r\n  orderBy: undefined,\r\n  orderDirection: 'asc',\r\n  actionsHeaderIndex: 0,\r\n  detailPanelColumnAlignment: \"left\",\r\n  draggable: true,\r\n  thirdSortClick: true,\r\n};\r\n\r\nMTableHeader.propTypes = {\r\n  columns: PropTypes.array.isRequired,\r\n  dataCount: PropTypes.number,\r\n  hasDetailPanel: PropTypes.bool.isRequired,\r\n  detailPanelColumnAlignment: PropTypes.string,\r\n  hasSelection: PropTypes.bool,\r\n  headerStyle: PropTypes.object,\r\n  localization: PropTypes.object,\r\n  selectedCount: PropTypes.number,\r\n  sorting: PropTypes.bool,\r\n  onAllSelected: PropTypes.func,\r\n  onOrderChange: PropTypes.func,\r\n  orderBy: PropTypes.number,\r\n  orderDirection: PropTypes.string,\r\n  actionsHeaderIndex: PropTypes.number,\r\n  showActionsColumn: PropTypes.bool,\r\n  showSelectAllCheckbox: PropTypes.bool,\r\n  draggable: PropTypes.bool,\r\n  thirdSortClick: PropTypes.bool,\r\n  tooltip: PropTypes.string\r\n};\r\n\r\n\r\nexport const styles = theme => ({\r\n  header: {\r\n    position: 'sticky',\r\n    top: 0,\r\n    zIndex: 10,\r\n    backgroundColor: theme.palette.background.paper, // Change according to theme,\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(MTableHeader);\r\n","/* eslint-disable no-unused-vars */\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTablePaginationInner extends React.Component {\r\n  handleFirstPageButtonClick = event => {\r\n    this.props.onChangePage(event, 0);\r\n  };\r\n\r\n  handleBackButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page - 1);\r\n  };\r\n\r\n  handleNextButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page + 1);\r\n  };\r\n\r\n  handleLastPageButtonClick = event => {\r\n    this.props.onChangePage(event, Math.max(0, Math.ceil(this.props.count / this.props.rowsPerPage) - 1));\r\n  };\r\n\r\n  render() {\r\n    const { classes, count, page, rowsPerPage, theme, showFirstLastPageButtons } = this.props;\r\n    const localization = { ...MTablePaginationInner.defaultProps.localization, ...this.props.localization };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        {showFirstLastPageButtons &&\r\n          <Tooltip title={localization.firstTooltip}>\r\n            <span>\r\n              <IconButton\r\n                onClick={this.handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label={localization.firstAriaLabel}\r\n              >\r\n                {theme.direction === 'rtl' ? <this.props.icons.LastPage /> : <this.props.icons.FirstPage />}\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n        }\r\n        <Tooltip title={localization.previousTooltip}>\r\n          <span>\r\n            <IconButton\r\n              onClick={this.handleBackButtonClick}\r\n              disabled={page === 0}\r\n              aria-label={localization.previousAriaLabel}\r\n            >\r\n              {theme.direction === 'rtl' ? <this.props.icons.NextPage /> : <this.props.icons.PreviousPage />}\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n        <Typography variant=\"caption\" style={{ flex: 1, textAlign: 'center', alignSelf: 'center', flexBasis: 'inherit' }} >\r\n          {localization.labelDisplayedRows.replace('{from}', this.props.page * this.props.rowsPerPage + 1).replace('{to}', Math.min((this.props.page + 1) * this.props.rowsPerPage, this.props.count)).replace('{count}', this.props.count)}\r\n        </Typography>\r\n        <Tooltip title={localization.nextTooltip}>\r\n          <span>\r\n            <IconButton\r\n              onClick={this.handleNextButtonClick}\r\n              disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n              aria-label={localization.nextAriaLabel}\r\n            >\r\n              {theme.direction === 'rtl' ? <this.props.icons.PreviousPage /> : <this.props.icons.NextPage />}\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n        {showFirstLastPageButtons && \r\n          <Tooltip title={localization.lastTooltip}>\r\n            <span>\r\n              <IconButton\r\n                onClick={this.handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label={localization.lastAriaLabel}\r\n              >\r\n                {theme.direction === 'rtl' ? <this.props.icons.FirstPage /> : <this.props.icons.LastPage />}\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n        }\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nconst actionsStyles = theme => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n    display: 'flex', \r\n    // lineHeight: '48px'\r\n  }\r\n});\r\n\r\nMTablePaginationInner.propTypes = {\r\n  onChangePage: PropTypes.func,\r\n  page: PropTypes.number,\r\n  count: PropTypes.number,\r\n  rowsPerPage: PropTypes.number,\r\n  classes: PropTypes.object,\r\n  localization: PropTypes.object,\r\n  theme: PropTypes.any,\r\n  showFirstLastPageButtons: PropTypes.bool\r\n};\r\n\r\nMTablePaginationInner.defaultProps = {\r\n  showFirstLastPageButtons: true,\r\n  localization: {\r\n    firstTooltip: 'First Page',\r\n    previousTooltip: 'Previous Page',\r\n    nextTooltip: 'Next Page',\r\n    lastTooltip: 'Last Page',\r\n    labelDisplayedRows: '{from}-{to} of {count}',\r\n    labelRowsPerPage: 'Rows per page:'\r\n  }\r\n};\r\n\r\nconst MTablePagination = withStyles(actionsStyles, { withTheme: true })(MTablePaginationInner);\r\n\r\nexport default MTablePagination;\r\n","/* eslint-disable no-unused-vars */\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Button from '@material-ui/core/Button';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\n/* eslint-enable no-unused-vars */\r\n\r\nclass MTablePaginationInner extends React.Component {\r\n  handleFirstPageButtonClick = event => {\r\n    this.props.onChangePage(event, 0);\r\n  };\r\n\r\n  handleBackButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page - 1);\r\n  };\r\n\r\n  handleNextButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page + 1);\r\n  };\r\n\r\n  handleNumberButtonClick = number => event => {\r\n    this.props.onChangePage(event, number);\r\n  };\r\n\r\n  handleLastPageButtonClick = event => {\r\n    this.props.onChangePage(\r\n      event,\r\n      Math.max(0, Math.ceil(this.props.count / this.props.rowsPerPage) - 1)\r\n    );\r\n  };\r\n\r\n  renderPagesButton(start, end) {\r\n    const buttons = [];\r\n\r\n    for (let p = start; p <= end; p++) {\r\n      const buttonVariant = p === this.props.page ? \"contained\" : \"text\";\r\n      buttons.push(\r\n        <Button\r\n          size=\"small\"\r\n          style={{\r\n            boxShadow: 'none',\r\n            maxWidth: '30px', maxHeight: '30px', minWidth: '30px', minHeight: '30px'\r\n          }}\r\n          disabled={p === this.props.page}\r\n          variant={buttonVariant}\r\n          onClick={this.handleNumberButtonClick(p)}\r\n          key={p}\r\n        >\r\n          {p + 1}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return <span>{buttons}</span>;\r\n  }\r\n\r\n  render() {\r\n    const { classes, count, page, rowsPerPage, theme, showFirstLastPageButtons } = this.props;\r\n\r\n    const localization = { ...MTablePaginationInner.defaultProps.localization, ...this.props.localization };\r\n    const maxPages = Math.ceil(count / rowsPerPage) - 1;\r\n\r\n    const pageStart = Math.max(page - 1, 0);\r\n    const pageEnd = Math.min(maxPages, page + 1);\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n      {showFirstLastPageButtons &&\r\n        <Tooltip title={localization.firstTooltip}>\r\n            <span>\r\n              <IconButton\r\n                  onClick={this.handleFirstPageButtonClick}\r\n                  disabled={page === 0}\r\n                  aria-label={localization.firstAriaLabel}\r\n              >\r\n                {theme.direction === 'rtl' ? <this.props.icons.LastPage /> : <this.props.icons.FirstPage />}\r\n              </IconButton>\r\n            </span>\r\n        </Tooltip>\r\n        }\r\n        <Tooltip title={localization.previousTooltip}>\r\n          <span>\r\n            <IconButton\r\n              onClick={this.handleBackButtonClick}\r\n              disabled={page === 0}\r\n              aria-label={localization.previousAriaLabel}\r\n            >\r\n              <this.props.icons.PreviousPage />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n        <Hidden smDown={true}>\r\n          {this.renderPagesButton(pageStart, pageEnd)}\r\n        </Hidden>\r\n        <Tooltip title={localization.nextTooltip}>\r\n          <span>\r\n            <IconButton\r\n              onClick={this.handleNextButtonClick}\r\n              disabled={page >= maxPages}\r\n              aria-label={localization.nextAriaLabel}\r\n            >\r\n              <this.props.icons.NextPage />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n      {showFirstLastPageButtons &&\r\n        <Tooltip title={localization.lastTooltip}>\r\n            <span>\r\n              <IconButton\r\n                  onClick={this.handleLastPageButtonClick}\r\n                  disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                  aria-label={localization.lastAriaLabel}\r\n              >\r\n                {theme.direction === 'rtl' ? <this.props.icons.FirstPage /> : <this.props.icons.LastPage />}\r\n              </IconButton>\r\n            </span>\r\n        </Tooltip>\r\n      }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst actionsStyles = theme => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n    marginLeft: theme.spacing(2.5)\r\n  }\r\n});\r\n\r\nMTablePaginationInner.propTypes = {\r\n  onChangePage: PropTypes.func,\r\n  page: PropTypes.number,\r\n  count: PropTypes.number,\r\n  rowsPerPage: PropTypes.number,\r\n  classes: PropTypes.object,\r\n  localization: PropTypes.object,\r\n  theme: PropTypes.any,\r\n  showFirstLastPageButtons: PropTypes.bool\r\n};\r\n\r\nMTablePaginationInner.defaultProps = {\r\n  showFirstLastPageButtons: true,\r\n  localization: {\r\n    firstTooltip: 'First Page',\r\n    previousTooltip: 'Previous Page',\r\n    nextTooltip: 'Next Page',\r\n    lastTooltip: 'Last Page',\r\n    labelDisplayedRows: '{from}-{to} of {count}',\r\n    labelRowsPerPage: 'Rows per page:'\r\n  }\r\n};\r\n\r\nconst MTableSteppedPagination = withStyles(actionsStyles, { withTheme: true })(MTablePaginationInner);\r\n\r\nexport default MTableSteppedPagination;","/* eslint-disable no-unused-vars */\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\r\nimport classNames from 'classnames';\r\nimport { CsvBuilder } from 'filefy';\r\nimport PropTypes, { oneOf } from 'prop-types';\r\nimport * as React from 'react';\r\n/* eslint-enable no-unused-vars */\r\n\r\nexport class MTableToolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columnsButtonAnchorEl: null,\r\n      exportButtonAnchorEl: null,\r\n      searchText: ''\r\n    };\r\n  }\r\n\r\n  onSearchChange = searchText => {\r\n    this.props.dataManager.changeSearchText(searchText);\r\n    this.setState(({ searchText }), this.props.onSearchChanged(searchText));\r\n  }\r\n\r\n  defaultExportCsv = () => {\r\n    const columns = this.props.columns\r\n      .filter(columnDef => {\r\n        return !columnDef.hidden && columnDef.field && columnDef.export !== false;\r\n      })\r\n      .sort((a, b) => (a.tableData.columnOrder > b.tableData.columnOrder) ? 1 : -1);\r\n    const dataToExport = this.props.exportAllData ? this.props.data : this.props.renderData;\r\n    const data = dataToExport.map(rowData =>\r\n      columns.map(columnDef => {\r\n        return this.props.getFieldValue(rowData, columnDef);\r\n      })\r\n    );\r\n\r\n    const builder = new CsvBuilder((this.props.exportFileName || this.props.title || 'data') + '.csv');\r\n    builder\r\n      .setDelimeter(this.props.exportDelimiter)\r\n      .setColumns(columns.map(columnDef => columnDef.title))\r\n      .addRows(data)\r\n      .exportFile();\r\n  }\r\n\r\n  exportCsv = () => {\r\n    if (this.props.exportCsv) {\r\n      this.props.exportCsv(this.props.columns, this.props.data);\r\n    } else {\r\n      this.defaultExportCsv();\r\n    }\r\n    this.setState({ exportButtonAnchorEl: null });\r\n  }\r\n\r\n  renderSearch() {\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    if (this.props.search) {\r\n      return (\r\n        <TextField\r\n          autoFocus={this.props.searchAutoFocus}\r\n          className={this.props.searchFieldAlignment === 'left' && this.props.showTitle === false ? null : this.props.classes.searchField}\r\n          value={this.state.searchText}\r\n          onChange={event => this.onSearchChange(event.target.value)}\r\n          placeholder={localization.searchPlaceholder}\r\n          variant={this.props.searchFieldVariant}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <Tooltip title={localization.searchTooltip}>\r\n                  <this.props.icons.Search color=\"inherit\" fontSize=\"small\" />\r\n                </Tooltip>\r\n              </InputAdornment>\r\n            ),\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  disabled={!this.state.searchText}\r\n                  onClick={() => this.onSearchChange(\"\")}\r\n                >\r\n                  <this.props.icons.ResetSearch color=\"inherit\" fontSize=\"small\" />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n            // style: this.props.searchFieldStyle, //    :)\r\n            style: {\r\n              width: 10\r\n            },\r\n            inputProps: {\r\n              'aria-label': \"Search\"\r\n            }\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  renderDefaultActions() {\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {this.props.columnsButton &&\r\n          <span>\r\n            <Tooltip title={localization.showColumnsTitle}>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={event => this.setState({ columnsButtonAnchorEl: event.currentTarget })}\r\n                aria-label={localization.showColumnsAriaLabel}>\r\n\r\n                <this.props.icons.ViewColumn />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n              anchorEl={this.state.columnsButtonAnchorEl}\r\n              open={Boolean(this.state.columnsButtonAnchorEl)}\r\n              onClose={() => this.setState({ columnsButtonAnchorEl: null })}>\r\n              <MenuItem key={\"text\"} disabled style={{ opacity: 1, fontWeight: 600, fontSize: 12 }}>\r\n                {localization.addRemoveColumns}\r\n              </MenuItem>\r\n              {\r\n                this.props.columns.map((col) => {\r\n                  return (\r\n                    <li key={col.tableData.id}>\r\n                      <MenuItem\r\n                        className={classes.formControlLabel}\r\n                        component=\"label\"\r\n                        htmlFor={`column-toggle-${col.tableData.id}`}\r\n                        disabled={col.removable === false}\r\n                      >\r\n                        <Checkbox\r\n                          checked={!col.hidden}\r\n                          id={`column-toggle-${col.tableData.id}`}\r\n                          onChange={() => this.props.onColumnsChanged(col, !col.hidden)}\r\n                        />\r\n                        <span>{col.title}</span>\r\n                      </MenuItem>\r\n                    </li>\r\n                  );\r\n                })\r\n              }\r\n            </Menu>\r\n          </span>\r\n        }\r\n        {this.props.exportButton &&\r\n          <span>\r\n            <Tooltip title={localization.exportTitle}>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={event => this.setState({ exportButtonAnchorEl: event.currentTarget })}\r\n                aria-label={localization.exportAriaLabel}>\r\n                <this.props.icons.Export />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n              anchorEl={this.state.exportButtonAnchorEl}\r\n              open={Boolean(this.state.exportButtonAnchorEl)}\r\n              onClose={() => this.setState({ exportButtonAnchorEl: null })}\r\n            >\r\n              <MenuItem key=\"export-csv\" onClick={this.exportCsv}>\r\n                {localization.exportName}\r\n              </MenuItem>\r\n            </Menu>\r\n          </span>\r\n\r\n        }\r\n        <span>\r\n          <this.props.components.Actions actions={this.props.actions && this.props.actions.filter(a => a.position === \"toolbar\")} components={this.props.components} />\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSelectedActions() {\r\n    return (\r\n      <React.Fragment>\r\n        <this.props.components.Actions actions={this.props.actions.filter(a => a.position === \"toolbarOnSelect\")} data={this.props.selectedRows} components={this.props.components} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  renderActions() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.actions}>\r\n        <div>\r\n          {this.props.selectedRows && this.props.selectedRows.length > 0\r\n            ? this.renderSelectedActions()\r\n            : this.renderDefaultActions()\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderToolbarTitle(title) {\r\n    const { classes } = this.props;\r\n    const toolBarTitle = (typeof title === 'string') ? <Typography variant='h6' style={{\r\n      whiteSpace: 'nowrap',\r\n      overflow: 'hidden',\r\n      textOverflow: 'ellipsis'\r\n    }}>{title}</Typography> : title;\r\n\r\n    return (\r\n      <div className={classes.title}>\r\n        {toolBarTitle}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const localization = { ...MTableToolbar.defaultProps.localization, ...this.props.localization };\r\n    const title = this.props.showTextRowsSelected && this.props.selectedRows && this.props.selectedRows.length > 0 ? localization.nRowsSelected.replace('{0}', this.props.selectedRows.length) : this.props.showTitle ? this.props.title : null;\r\n    return (\r\n      <Toolbar className={classNames(classes.root, { [classes.highlight]: this.props.showTextRowsSelected && this.props.selectedRows && this.props.selectedRows.length > 0 })}>\r\n        {title && this.renderToolbarTitle(title)}\r\n        {this.props.searchFieldAlignment === 'left' && this.renderSearch()}\r\n        {this.props.toolbarButtonAlignment === 'left' && this.renderActions()}\r\n        <div className={classes.spacer} />\r\n        {this.props.searchFieldAlignment === 'right' && this.renderSearch()}\r\n        {this.props.toolbarButtonAlignment === 'right' && this.renderActions()}\r\n      </Toolbar >\r\n    );\r\n  }\r\n}\r\n\r\nMTableToolbar.defaultProps = {\r\n  actions: [],\r\n  columns: [],\r\n  columnsButton: false,\r\n  localization: {\r\n    addRemoveColumns: 'Add or remove columns',\r\n    nRowsSelected: '{0} row(s) selected',\r\n    showColumnsTitle: 'Show Columns',\r\n    showColumnsAriaLabel: 'Show Columns',\r\n    exportTitle: 'Export',\r\n    exportAriaLabel: 'Export',\r\n    exportName: 'Export as CSV',\r\n    searchTooltip: 'Search',\r\n    searchPlaceholder: 'Search'\r\n  },\r\n  search: true,\r\n  showTitle: true,\r\n  showTextRowsSelected: true,\r\n  toolbarButtonAlignment: 'right',\r\n  searchAutoFocus: false,\r\n  searchFieldAlignment: 'right',\r\n  searchFieldVariant: 'standard',\r\n  selectedRows: [],\r\n  title: 'No Title!'\r\n};\r\n\r\nMTableToolbar.propTypes = {\r\n  actions: PropTypes.array,\r\n  columns: PropTypes.array,\r\n  columnsButton: PropTypes.bool,\r\n  components: PropTypes.object.isRequired,\r\n  getFieldValue: PropTypes.func.isRequired,\r\n  localization: PropTypes.object.isRequired,\r\n  onColumnsChanged: PropTypes.func.isRequired,\r\n  dataManager: PropTypes.object.isRequired,\r\n  onSearchChanged: PropTypes.func.isRequired,\r\n  search: PropTypes.bool.isRequired,\r\n  searchFieldStyle: PropTypes.object,\r\n  searchFieldVariant: PropTypes.string,\r\n  selectedRows: PropTypes.array,\r\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\r\n  showTitle: PropTypes.bool.isRequired,\r\n  showTextRowsSelected: PropTypes.bool.isRequired,\r\n  toolbarButtonAlignment: PropTypes.string.isRequired,\r\n  searchFieldAlignment: PropTypes.string.isRequired,\r\n  renderData: PropTypes.array,\r\n  data: PropTypes.array,\r\n  exportAllData: PropTypes.bool,\r\n  exportButton: PropTypes.bool,\r\n  exportDelimiter: PropTypes.string,\r\n  exportFileName: PropTypes.string,\r\n  exportCsv: PropTypes.func,\r\n  classes: PropTypes.object,\r\n  searchAutoFocus: PropTypes.bool\r\n};\r\n\r\nexport const styles = theme => ({\r\n  root: {\r\n    paddingRight: theme.spacing(1)\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n        color: theme.palette.secondary.main,\r\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85)\r\n      }\r\n      : {\r\n        color: theme.palette.text.primary,\r\n        backgroundColor: theme.palette.secondary.dark\r\n      },\r\n  spacer: {\r\n    flex: '1 1 10%'\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    overflow: 'hidden'\r\n  },\r\n  searchField: {\r\n    minWidth: 150,\r\n    paddingLeft: theme.spacing(2)\r\n  },\r\n  formControlLabel: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(MTableToolbar);\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport * as MComponents from './components';\r\nimport PropTypes from 'prop-types';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst OverlayLoading = props => (\r\n  <div style={{ display: 'table', width: '100%', height: '100%', backgroundColor: fade(props.theme.palette.background.paper, 0.7) }}>\r\n    <div style={{ display: 'table-cell', width: '100%', height: '100%', verticalAlign: 'middle', textAlign: 'center' }}>\r\n      <CircularProgress />\r\n    </div>\r\n  </div>\r\n);\r\nOverlayLoading.propTypes = {\r\n  theme: PropTypes.any\r\n};\r\n\r\nconst Container = (props) => <Paper elevation={2} {...props} />;\r\n\r\nexport const defaultProps = {\r\n  actions: [],\r\n  classes: {},\r\n  columns: [],\r\n  components: {\r\n    Action: MComponents.MTableAction,\r\n    Actions: MComponents.MTableActions,\r\n    Body: MComponents.MTableBody,\r\n    Cell: MComponents.MTableCell,\r\n    Container: Container,\r\n    EditField: MComponents.MTableEditField,\r\n    EditRow: MComponents.MTableEditRow,\r\n    FilterRow: MComponents.MTableFilterRow,\r\n    Groupbar: MComponents.MTableGroupbar,\r\n    GroupRow: MComponents.MTableGroupRow,\r\n    Header: MComponents.MTableHeader,\r\n    OverlayLoading: OverlayLoading,\r\n    Pagination: TablePagination,\r\n    Row: MComponents.MTableBodyRow,\r\n    Toolbar: MComponents.MTableToolbar\r\n  },\r\n  data: [],\r\n  icons: {\r\n    /* eslint-disable react/display-name */\r\n    Add: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>add_box</Icon>),\r\n    Check: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>check</Icon>),\r\n    Clear: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>clear</Icon>),\r\n    Delete: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>delete_outline</Icon>),\r\n    DetailPanel: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>chevron_right</Icon>),\r\n    Edit: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>edit</Icon>),\r\n    Export: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>save_alt</Icon>),\r\n    Filter: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>filter_list</Icon>),\r\n    FirstPage: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>first_page</Icon>),\r\n    LastPage: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>last_page</Icon>),\r\n    NextPage: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>chevron_right</Icon>),\r\n    PreviousPage: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>chevron_left</Icon>),\r\n    ResetSearch: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>clear</Icon>),\r\n    Search: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>search</Icon>),\r\n    SortArrow: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>arrow_downward</Icon>),\r\n    ThirdStateCheck: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>remove</Icon>),\r\n    ViewColumn: React.forwardRef((props, ref) => <Icon {...props} ref={ref}>view_column</Icon>)\r\n    /* eslint-enable react/display-name */\r\n  },\r\n  isLoading: false,\r\n  title: 'Table Title',\r\n  options: {\r\n    actionsColumnIndex: 0,\r\n    addRowPosition: 'last',\r\n    columnsButton: false,\r\n    detailPanelType: 'multiple',\r\n    debounceInterval: 200,\r\n    doubleHorizontalScroll: false,\r\n    emptyRowsWhenPaging: true,\r\n    exportAllData: false,\r\n    exportButton: false,\r\n    exportDelimiter: ',',\r\n    filtering: false,\r\n    groupTitle: false,\r\n    header: true,\r\n    hideFilterIcons: false,\r\n    loadingType: 'overlay',\r\n    padding: 'default',\r\n    searchAutoFocus: false,\r\n    paging: true,\r\n    pageSize: 5,\r\n    pageSizeOptions: [5, 10, 20],\r\n    paginationType: 'normal',\r\n    showEmptyDataSourceMessage: true,\r\n    showFirstLastPageButtons: true,\r\n    showSelectAllCheckbox: true,\r\n    search: true,\r\n    showTitle: true,\r\n    showTextRowsSelected: true,\r\n    tableLayout: 'auto',\r\n    toolbarButtonAlignment: 'right',\r\n    searchFieldAlignment: 'right',\r\n    searchFieldStyle: {},\r\n    searchFieldVariant: 'standard',\r\n    selection: false,\r\n    selectionProps: {},\r\n    sorting: true,\r\n    toolbar: true,\r\n    defaultExpanded: false,\r\n    detailPanelColumnAlignment: 'left',\r\n    thirdSortClick: true,\r\n    overflowY: 'auto',\r\n  },\r\n  localization: {\r\n    grouping: {\r\n      groupedBy: 'Grouped By:',\r\n      placeholder: 'Drag headers here to group by',\r\n    },\r\n    pagination: {\r\n      labelDisplayedRows: '{from}-{to} of {count}',\r\n      labelRowsPerPage: 'Rows per page:',\r\n      labelRowsSelect: 'rows'\r\n    },\r\n    toolbar: {},\r\n    header: {},\r\n    body: {\r\n      filterRow: {},\r\n      editRow: {\r\n        saveTooltip: 'Save',\r\n        cancelTooltip: 'Cancel',\r\n        deleteText: 'Are you sure you want to delete this row?',\r\n      },\r\n      addTooltip: 'Add',\r\n      deleteTooltip: 'Delete',\r\n      editTooltip: 'Edit'\r\n    }\r\n  },\r\n  style: {\r\n  }\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nconst RefComponent = PropTypes.shape({ current: PropTypes.element });\r\nconst StyledComponent = PropTypes.shape({\r\n  classes: PropTypes.object,\r\n  innerRef: RefComponent\r\n});\r\n\r\nexport const propTypes = {\r\n  actions: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\r\n    icon: PropTypes.oneOfType([PropTypes.element, PropTypes.func, PropTypes.string, RefComponent]).isRequired,\r\n    isFreeAction: PropTypes.bool,\r\n    position: PropTypes.oneOf(['auto', 'toolbar', 'toolbarOnSelect', 'row']),\r\n    tooltip: PropTypes.string,\r\n    onClick: PropTypes.func.isRequired,\r\n    iconProps: PropTypes.object,\r\n    disabled: PropTypes.bool,\r\n    hidden: PropTypes.bool,\r\n  })])),\r\n  columns: PropTypes.arrayOf(PropTypes.shape({\r\n    cellStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\r\n    currencySetting: PropTypes.shape({\r\n      locale: PropTypes.string,\r\n      currencyCode: PropTypes.string,\r\n      minimumFractionDigits: PropTypes.number,\r\n      maximumFractionDigits: PropTypes.number\r\n    }),\r\n    customFilterAndSearch: PropTypes.func,\r\n    customSort: PropTypes.func,\r\n    defaultFilter: PropTypes.any,\r\n    defaultSort: PropTypes.oneOf(['asc', 'desc']),\r\n    editComponent: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\r\n    emptyValue: PropTypes.oneOfType([PropTypes.string, PropTypes.node, PropTypes.func]),\r\n    export: PropTypes.bool,\r\n    field: PropTypes.string,\r\n    filtering: PropTypes.bool,\r\n    filterCellStyle: PropTypes.object,\r\n    filterPlaceholder: PropTypes.string,\r\n    filterComponent: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\r\n    grouping: PropTypes.bool,\r\n    headerStyle: PropTypes.object,\r\n    hidden: PropTypes.bool,\r\n    hideFilterIcon: PropTypes.bool,\r\n    initialEditValue: PropTypes.any,\r\n    lookup: PropTypes.object,\r\n    editable: PropTypes.oneOfType([PropTypes.func, PropTypes.oneOf(['always', 'onUpdate', 'onAdd', 'never'])]),\r\n    removable: PropTypes.bool,\r\n    render: PropTypes.func,\r\n    searchable: PropTypes.bool,\r\n    sorting: PropTypes.bool,\r\n    title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\r\n    type: PropTypes.oneOf(['string', 'boolean', 'numeric', 'date', 'datetime', 'time', 'currency'])\r\n  })).isRequired,\r\n  components: PropTypes.shape({\r\n    Action: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Actions: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Body: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Cell: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Container: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    EditField: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    EditRow: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    FilterRow: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Groupbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    GroupRow: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Header: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    OverlayLoading: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Row: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent]),\r\n    Toolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func, StyledComponent])\r\n  }),\r\n  data: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.object), PropTypes.func]).isRequired,\r\n  editable: PropTypes.shape({\r\n    onRowAdd: PropTypes.func,\r\n    onRowUpdate: PropTypes.func,\r\n    onRowDelete: PropTypes.func\r\n  }),\r\n  detailPanel: PropTypes.oneOfType([\r\n    PropTypes.func,\r\n    PropTypes.arrayOf(PropTypes.oneOfType([\r\n      PropTypes.func,\r\n      PropTypes.shape({\r\n        disabled: PropTypes.bool,\r\n        icon: PropTypes.oneOfType([PropTypes.element, PropTypes.func, PropTypes.string, RefComponent]),\r\n        openIcon: PropTypes.oneOfType([PropTypes.element, PropTypes.func, PropTypes.string, RefComponent]),\r\n        tooltip: PropTypes.string,\r\n        render: PropTypes.func.isRequired\r\n      })\r\n    ]))\r\n  ]),\r\n  icons: PropTypes.shape({\r\n    Add: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    Check: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    Clear: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    Delete: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    DetailPanel: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    Edit: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    Export: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    Filter: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    FirstPage: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    LastPage: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    NextPage: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    PreviousPage: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    Refresh: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    ResetSearch: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    Search: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    SortArrow: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    ThirdStateCheck: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n    ViewColumn: PropTypes.oneOfType([PropTypes.element, PropTypes.func, RefComponent]),\r\n  }),\r\n  isLoading: PropTypes.bool,\r\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\r\n  options: PropTypes.shape({\r\n    actionsCellStyle: PropTypes.object,\r\n    actionsColumnIndex: PropTypes.number,\r\n    addRowPosition: PropTypes.oneOf(['first', 'last']),\r\n    columnsButton: PropTypes.bool,\r\n    defaultExpanded: PropTypes.bool | PropTypes.func,\r\n    debounceInterval: PropTypes.number,\r\n    detailPanelType: PropTypes.oneOf(['single', 'multiple']),\r\n    doubleHorizontalScroll: PropTypes.bool,\r\n    emptyRowsWhenPaging: PropTypes.bool,\r\n    exportAllData: PropTypes.bool,\r\n    exportButton: PropTypes.bool,\r\n    exportDelimiter: PropTypes.string,\r\n    exportFileName: PropTypes.string,\r\n    exportCsv: PropTypes.func,\r\n    filtering: PropTypes.bool,\r\n    filterCellStyle: PropTypes.object,\r\n    header: PropTypes.bool,\r\n    headerStyle: PropTypes.object,\r\n    hideFilterIcons: PropTypes.bool,\r\n    initialPage: PropTypes.number,\r\n    maxBodyHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n    minBodyHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n    loadingType: PropTypes.oneOf(['overlay', 'linear']),\r\n    overflowY: PropTypes.oneOf(['visible', 'hidden', 'scroll', 'auto', 'initial', 'inherit']),\r\n    padding: PropTypes.oneOf(['default', 'dense']),\r\n    paging: PropTypes.bool,\r\n    pageSize: PropTypes.number,\r\n    pageSizeOptions: PropTypes.arrayOf(PropTypes.number),\r\n    paginationType: PropTypes.oneOf(['normal', 'stepped']),\r\n    rowStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\r\n    search: PropTypes.bool,\r\n    searchText: PropTypes.string,\r\n    toolbarButtonAlignment: PropTypes.oneOf(['left', 'right']),\r\n    searchFieldAlignment: PropTypes.oneOf(['left', 'right']),\r\n    searchFieldStyle: PropTypes.object,\r\n    searchAutoFocus: PropTypes.bool,\r\n    searchFieldVariant: PropTypes.oneOf( ['standard', 'filled', 'outlined']),\r\n    selection: PropTypes.bool,\r\n    selectionProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\r\n    showEmptyDataSourceMessage: PropTypes.bool,\r\n    showFirstLastPageButtons: PropTypes.bool,\r\n    showSelectAllCheckbox: PropTypes.bool,\r\n    showTitle: PropTypes.bool,\r\n    showTextRowsSelected: PropTypes.bool,\r\n    sorting: PropTypes.bool,\r\n    toolbar: PropTypes.bool,\r\n    thirdSortClick: PropTypes.bool\r\n  }),\r\n  localization: PropTypes.shape({\r\n    grouping: PropTypes.shape({\r\n      groupedBy: PropTypes.string,\r\n      placeholder: PropTypes.string\r\n    }),\r\n    pagination: PropTypes.object,\r\n    toolbar: PropTypes.object,\r\n    header: PropTypes.object,\r\n    body: PropTypes.object\r\n  }),\r\n  initialFormData: PropTypes.object,\r\n  onSearchChange: PropTypes.func,\r\n  onFilterChange: PropTypes.func,\r\n  onColumnDragged: PropTypes.func,\r\n  onGroupRemoved: PropTypes.func,\r\n  onSelectionChange: PropTypes.func,\r\n  onChangeRowsPerPage: PropTypes.func,\r\n  onChangePage: PropTypes.func,\r\n  onChangeColumnHidden: PropTypes.func,\r\n  onOrderChange: PropTypes.func,\r\n  onRowClick: PropTypes.func,\r\n  onTreeExpandChange: PropTypes.func,\r\n  onQueryChange: PropTypes.func,\r\n  tableRef: PropTypes.any,\r\n  style: PropTypes.object,\r\n  page: PropTypes.number,\r\n  totalCount: PropTypes.number\r\n};\r\n","import formatDate from 'date-fns/format';\r\nimport { byString } from './';\r\n\r\nexport default class DataManager {\r\n  applyFilters = false;\r\n  applySearch = false;\r\n  applySort = false;\r\n  currentPage = 0;\r\n  detailPanelType = 'multiple'\r\n  lastDetailPanelRow = undefined;\r\n  lastEditingRow = undefined;\r\n  orderBy = -1;\r\n  orderDirection = '';\r\n  pageSize = 5;\r\n  paging = true;\r\n  parentFunc = null;\r\n  searchText = '';\r\n  selectedCount = 0;\r\n  treefiedDataLength = 0;\r\n  treeDataMaxLevel = 0;\r\n  groupedDataLength = 0;\r\n  defaultExpanded = false;\r\n  \r\n  data = [];\r\n  columns = [];\r\n\r\n  filteredData = [];\r\n  searchedData = [];\r\n  groupedData = [];\r\n  treefiedData = [];\r\n  sortedData = [];\r\n  pagedData = [];\r\n  renderData = [];\r\n\r\n  filtered = false;\r\n  searched = false;\r\n  grouped = false;\r\n  treefied = false;\r\n  sorted = false;\r\n  paged = false;\r\n\r\n  rootGroupsIndex = {};\r\n\r\n  constructor() {\r\n  }\r\n\r\n  setData(data) {\r\n    this.selectedCount = 0;\r\n\r\n    this.data = data.map((row, index) => {\r\n      row.tableData = { ...row.tableData, id: index };\r\n      if (row.tableData.checked) {\r\n        this.selectedCount++;\r\n      }\r\n      return row;\r\n    });\r\n\r\n    this.filtered = false;\r\n  }\r\n\r\n  setColumns(columns) {    \r\n    const undefinedWidthColumns = columns.filter(c => c.width === undefined);\r\n    let usedWidth = [\"0px\"];\r\n\r\n    this.columns = columns.map((columnDef, index) => {\r\n      columnDef.tableData = {\r\n        columnOrder: index,\r\n        filterValue: columnDef.defaultFilter,\r\n        groupOrder: columnDef.defaultGroupOrder,\r\n        groupSort: columnDef.defaultGroupSort || 'asc',     \r\n        width: columnDef.width,   \r\n        ...columnDef.tableData,\r\n        id: index,\r\n      };\r\n\r\n      if(columnDef.width !== undefined) {\r\n        if(typeof columnDef.width === \"number\") {\r\n          usedWidth.push(columnDef.width + \"px\");\r\n        }\r\n        else {\r\n          usedWidth.push(columnDef.width);\r\n        }\r\n      }\r\n\r\n      return columnDef;\r\n    });\r\n\r\n    usedWidth = \"(\" + usedWidth.join(' + ') + \")\";\r\n    undefinedWidthColumns.forEach(columnDef => {\r\n      columnDef.tableData.width = `calc((100% - ${usedWidth}) / ${undefinedWidthColumns.length})`;\r\n    });\r\n  }\r\n\r\n  setDefaultExpanded(expanded) {\r\n    this.defaultExpanded = expanded;\r\n  }\r\n\r\n  changeApplySearch(applySearch) {\r\n    this.applySearch = applySearch;\r\n    this.searched = false;\r\n  }\r\n\r\n  changeApplyFilters(applyFilters) {\r\n    this.applyFilters = applyFilters;\r\n    this.filtered = false;\r\n  }\r\n\r\n  changeApplySort(applySort) {\r\n    this.applySort = applySort;\r\n    this.sorted = false;\r\n  }\r\n\r\n  changePaging(paging) {\r\n    this.paging = paging;\r\n    this.paged = false;\r\n  }\r\n\r\n  changeCurrentPage(currentPage) {\r\n    this.currentPage = currentPage;\r\n    this.paged = false;\r\n  }\r\n\r\n  changePageSize(pageSize) {\r\n    this.pageSize = pageSize;\r\n    this.paged = false;\r\n  }\r\n\r\n  changeParentFunc(parentFunc) {\r\n    this.parentFunc = parentFunc;\r\n  }\r\n\r\n  changeFilterValue(columnId, value) {\r\n    this.columns[columnId].tableData.filterValue = value;\r\n    this.filtered = false;\r\n  }\r\n\r\n  changeRowSelected(checked, path) {\r\n    const rowData = this.findDataByPath(this.sortedData, path);\r\n    rowData.tableData.checked = checked;\r\n    this.selectedCount = this.selectedCount + (checked ? 1 : -1);\r\n\r\n    const checkChildRows = rowData => {\r\n      if (rowData.tableData.childRows) {\r\n        rowData.tableData.childRows.forEach(childRow => {\r\n          if (childRow.tableData.checked !== checked) {\r\n            childRow.tableData.checked = checked;\r\n            this.selectedCount = this.selectedCount + (checked ? 1 : -1);\r\n          }\r\n          checkChildRows(childRow);\r\n        });\r\n      }\r\n    };\r\n\r\n    checkChildRows(rowData);\r\n\r\n    this.filtered = false;\r\n  }\r\n\r\n  changeDetailPanelVisibility(path, render) {\r\n    const rowData = this.findDataByPath(this.sortedData, path);\r\n\r\n    if ((rowData.tableData.showDetailPanel || '').toString() === render.toString()) {\r\n      rowData.tableData.showDetailPanel = undefined;\r\n    }\r\n    else {\r\n      rowData.tableData.showDetailPanel = render;\r\n    }\r\n\r\n    if (this.detailPanelType === 'single' && this.lastDetailPanelRow && this.lastDetailPanelRow != rowData) {\r\n      this.lastDetailPanelRow.tableData.showDetailPanel = undefined;\r\n    }\r\n\r\n    this.lastDetailPanelRow = rowData;\r\n  }\r\n\r\n  changeGroupExpand(path) {\r\n    const rowData = this.findDataByPath(this.sortedData, path);\r\n    rowData.isExpanded = !rowData.isExpanded;\r\n  }\r\n\r\n  changeSearchText(searchText) {\r\n    this.searchText = searchText;\r\n    this.searched = false;\r\n    this.currentPage = 0;\r\n  }\r\n\r\n  changeRowEditing(rowData, mode) {\r\n    if (rowData) {\r\n      rowData.tableData.editing = mode;\r\n\r\n      if (this.lastEditingRow && this.lastEditingRow != rowData) {\r\n        this.lastEditingRow.tableData.editing = undefined;\r\n      }\r\n\r\n      if (mode) {\r\n        this.lastEditingRow = rowData;\r\n      }\r\n      else {\r\n        this.lastEditingRow = undefined;\r\n      }\r\n    }\r\n    else if (this.lastEditingRow) {\r\n      this.lastEditingRow.tableData.editing = undefined;\r\n      this.lastEditingRow = undefined;\r\n    }\r\n  }\r\n\r\n  changeAllSelected(checked) {\r\n    let selectedCount = 0;\r\n    if (this.isDataType(\"group\")) {\r\n      const setCheck = (data) => {\r\n        data.forEach(element => {\r\n          if (element.groups.length > 0) {\r\n            setCheck(element.groups);\r\n          }\r\n          else {\r\n            element.data.forEach(d => {\r\n              d.tableData.checked = checked;\r\n              selectedCount++;\r\n            });\r\n          }\r\n        });\r\n      };\r\n\r\n      setCheck(this.groupedData);\r\n    }\r\n    else {\r\n      this.searchedData.map(row => {\r\n        row.tableData.checked = checked;\r\n        return row;\r\n      });\r\n      selectedCount = this.searchedData.length;\r\n    }\r\n\r\n    this.selectedCount = checked ? selectedCount : 0;\r\n  }\r\n\r\n  changeOrder(orderBy, orderDirection) {\r\n    this.orderBy = orderBy;\r\n    this.orderDirection = orderDirection;\r\n    this.currentPage = 0;\r\n\r\n    this.sorted = false;\r\n  }\r\n\r\n  changeGroupOrder(columnId) {\r\n    const column = this.columns.find(c => c.tableData.id === columnId);\r\n\r\n    if (column.tableData.groupSort === 'asc') {\r\n      column.tableData.groupSort = 'desc';\r\n    }\r\n    else {\r\n      column.tableData.groupSort = 'asc';\r\n    }\r\n\r\n    this.sorted = false;\r\n  }\r\n\r\n    changeColumnHidden(column, hidden) {\r\n    column.hidden = hidden;\r\n  }\r\n\r\n  changeTreeExpand(path) {\r\n    const rowData = this.findDataByPath(this.sortedData, path);\r\n    rowData.tableData.isTreeExpanded = !rowData.tableData.isTreeExpanded;\r\n  }\r\n\r\n  changeDetailPanelType(type) {\r\n    this.detailPanelType = type;\r\n  }\r\n\r\n  changeByDrag(result) {\r\n    let start = 0;\r\n\r\n    let groups = this.columns\r\n      .filter(col => col.tableData.groupOrder > -1)\r\n      .sort((col1, col2) => col1.tableData.groupOrder - col2.tableData.groupOrder);\r\n\r\n\r\n    if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"groups\") {\r\n      start = Math.min(result.destination.index, result.source.index);\r\n      const end = Math.max(result.destination.index, result.source.index);\r\n\r\n      groups = groups.slice(start, end + 1);\r\n\r\n      if (result.destination.index < result.source.index) {\r\n        // Take last and add as first\r\n        const last = groups.pop();\r\n        groups.unshift(last);\r\n      }\r\n      else {\r\n        // Take first and add as last\r\n        const last = groups.shift();\r\n        groups.push(last);\r\n      }\r\n    }\r\n    else if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"headers\") {\r\n      const newGroup = this.columns.find(c => c.tableData.id == result.draggableId);\r\n\r\n      if (newGroup.grouping === false || !newGroup.field) {\r\n        return;\r\n      }\r\n\r\n      groups.splice(result.destination.index, 0, newGroup);\r\n    }\r\n    else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"groups\") {\r\n      const removeGroup = this.columns.find(c => c.tableData.id == result.draggableId);\r\n      removeGroup.tableData.groupOrder = undefined;\r\n      groups.splice(result.source.index, 1);\r\n    }\r\n    else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"headers\") {\r\n      start = Math.min(result.destination.index, result.source.index);\r\n      const end = Math.max(result.destination.index, result.source.index);\r\n\r\n      // get the effective start and end considering hidden columns\r\n      const sorted = this.columns\r\n          .sort((a, b) => a.tableData.columnOrder - b.tableData.columnOrder)\r\n          .filter(column => column.tableData.groupOrder === undefined);\r\n      let numHiddenBeforeStart = 0;\r\n      let numVisibleBeforeStart = 0;\r\n      for (let i = 0; i < sorted.length && numVisibleBeforeStart <= start; i++) {\r\n        if (sorted[i].hidden) {\r\n          numHiddenBeforeStart++;\r\n        } else {\r\n          numVisibleBeforeStart++;\r\n        }\r\n      }\r\n      const effectiveStart = start + numHiddenBeforeStart;\r\n\r\n      let effectiveEnd = effectiveStart;\r\n      for (let numVisibleInRange = 0; numVisibleInRange < (end - start) && effectiveEnd < sorted.length; effectiveEnd++) {\r\n        if (!sorted[effectiveEnd].hidden) {\r\n          numVisibleInRange++;\r\n        }\r\n      }\r\n      const colsToMov = sorted.slice(effectiveStart, effectiveEnd + 1);\r\n\r\n      if (result.destination.index < result.source.index) {\r\n        // Take last and add as first\r\n        const last = colsToMov.pop();\r\n        colsToMov.unshift(last);\r\n      }\r\n      else {\r\n        // Take first and add as last\r\n        const last = colsToMov.shift();\r\n        colsToMov.push(last);\r\n      }\r\n\r\n      for (let i = 0; i < colsToMov.length; i++) {\r\n        colsToMov[i].tableData.columnOrder = effectiveStart + i;\r\n      }\r\n\r\n      return;\r\n    }\r\n    else {\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < groups.length; i++) {\r\n      groups[i].tableData.groupOrder = start + i;\r\n    }\r\n\r\n    this.sorted = this.grouped = false;\r\n  }\r\n\r\n  expandTreeForNodes = (data) => {\r\n    data.forEach(row => {\r\n      let currentRow = row;\r\n      while (this.parentFunc(currentRow, this.data)) {\r\n        let parent = this.parentFunc(currentRow, this.data);\r\n        if (parent) {\r\n          parent.tableData.isTreeExpanded = true;\r\n        }\r\n        currentRow = parent;\r\n      }\r\n    });\r\n  }\r\n\r\n  findDataByPath = (renderData, path) => {\r\n    if (this.isDataType(\"tree\")) {\r\n      const node = path.reduce((result, current) => {\r\n        return (\r\n          result &&\r\n          result.tableData &&\r\n          result.tableData.childRows &&\r\n          result.tableData.childRows[current]\r\n        );\r\n      }, { tableData: { childRows: renderData } });\r\n\r\n      return node;\r\n    }\r\n    else {\r\n      const data = { groups: renderData };\r\n\r\n      const node = path.reduce((result, current) => {\r\n        if (result.groups.length > 0) {\r\n          return result.groups[current];\r\n        }\r\n        else if (result.data) {\r\n          return result.data[current];\r\n        }\r\n        else {\r\n          return undefined;\r\n        }\r\n      }, data);\r\n      return node;\r\n    }\r\n  }\r\n\r\n  findGroupByGroupPath(renderData, path) {\r\n    const data = { groups: renderData, groupsIndex: this.rootGroupsIndex };\r\n\r\n    const node = path.reduce((result, current) => {\r\n      if (!result) {\r\n        return undefined;\r\n      }\r\n\r\n      if (result.groupsIndex[current] !== undefined) {\r\n        return result.groups[result.groupsIndex[current]];\r\n      }\r\n      return undefined;\r\n      // const group = result.groups.find(a => a.value === current);\r\n      // return group;\r\n    }, data);\r\n    return node;\r\n  }\r\n\r\n  getFieldValue = (rowData, columnDef, lookup = true) => {\r\n    let value = (typeof rowData[columnDef.field] !== 'undefined' ? rowData[columnDef.field] : byString(rowData, columnDef.field));\r\n    if (columnDef.lookup && lookup) {\r\n      value = columnDef.lookup[value];\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  isDataType(type) {\r\n    let dataType = \"normal\";\r\n\r\n    if (this.parentFunc) {\r\n      dataType = \"tree\";\r\n    }\r\n    else if (this.columns.find(a => a.tableData.groupOrder > -1)) {\r\n      dataType = \"group\";\r\n    }\r\n\r\n    return type === dataType;\r\n  }\r\n\r\n  sort(a, b, type) {\r\n    if (type === 'numeric') {\r\n      return a - b;\r\n    } else {\r\n      if (a !== b) { // to find nulls\r\n        if (!a) return -1;\r\n        if (!b) return 1;\r\n      }\r\n      return a < b ? -1 : a > b ? 1 : 0;\r\n    }\r\n  }\r\n\r\n  sortList(list) {\r\n    const columnDef = this.columns.find(_ => _.tableData.id === this.orderBy);\r\n    let result = list;\r\n\r\n    if (columnDef.customSort) {\r\n      if (this.orderDirection === 'desc') {\r\n        result = list.sort((a, b) => columnDef.customSort(b, a, 'row'));\r\n      }\r\n      else {\r\n        result = list.sort((a, b) => columnDef.customSort(a, b, 'row'));\r\n      }\r\n    }\r\n    else {\r\n      result = list.sort(\r\n        this.orderDirection === 'desc'\r\n          ? (a, b) => this.sort(this.getFieldValue(b, columnDef), this.getFieldValue(a, columnDef), columnDef.type)\r\n          : (a, b) => this.sort(this.getFieldValue(a, columnDef), this.getFieldValue(b, columnDef), columnDef.type)\r\n      );\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getRenderState = () => {\r\n    if (this.filtered === false) {\r\n      this.filterData();\r\n    }\r\n\r\n    if (this.searched === false) {\r\n      this.searchData();\r\n    }\r\n\r\n    if (this.grouped === false && this.isDataType(\"group\")) {\r\n      this.groupData();\r\n    }\r\n\r\n    if (this.treefied === false && this.isDataType(\"tree\")) {\r\n      this.treefyData();\r\n    }\r\n\r\n    if (this.sorted === false) {\r\n      this.sortData();\r\n    }\r\n\r\n    if (this.paged === false) {\r\n      this.pageData();\r\n    }\r\n\r\n    return {\r\n      columns: this.columns,\r\n      currentPage: this.currentPage,\r\n      data: this.sortedData,\r\n      lastEditingRow: this.lastEditingRow,\r\n      orderBy: this.orderBy,\r\n      orderDirection: this.orderDirection,\r\n      originalData: this.data,\r\n      pageSize: this.pageSize,\r\n      renderData: this.pagedData,\r\n      searchText: this.searchText,\r\n      selectedCount: this.selectedCount,\r\n      treefiedDataLength: this.treefiedDataLength,\r\n      treeDataMaxLevel: this.treeDataMaxLevel,\r\n      groupedDataLength: this.groupedDataLength\r\n    };\r\n  }\r\n\r\n  // =====================================================================================================\r\n  // DATA MANUPULATIONS\r\n  // =====================================================================================================\r\n\r\n  filterData = () => {\r\n    this.searched = this.grouped = this.treefied = this.sorted = this.paged = false;\r\n\r\n    this.filteredData = [...this.data];\r\n\r\n    if (this.applyFilters) {\r\n      this.columns.filter(columnDef => columnDef.tableData.filterValue).forEach(columnDef => {\r\n        const { lookup, type, tableData } = columnDef;\r\n        if (columnDef.customFilterAndSearch) {\r\n          this.filteredData = this.filteredData.filter(row => !!columnDef.customFilterAndSearch(tableData.filterValue, row, columnDef));\r\n        }\r\n        else {\r\n          if (lookup) {\r\n            this.filteredData = this.filteredData.filter(row => {\r\n              const value = this.getFieldValue(row, columnDef, false);\r\n              return !tableData.filterValue ||\r\n                tableData.filterValue.length === 0 ||\r\n                tableData.filterValue.indexOf(value !== undefined && value !== null && value.toString()) > -1;\r\n            });\r\n          } else if (type === 'numeric') {\r\n            this.filteredData = this.filteredData.filter(row => {\r\n              const value = this.getFieldValue(row, columnDef);\r\n              return (value + \"\") === tableData.filterValue;\r\n            });\r\n          } else if (type === 'boolean' && tableData.filterValue) {\r\n            this.filteredData = this.filteredData.filter(row => {\r\n              const value = this.getFieldValue(row, columnDef);\r\n              return (value && tableData.filterValue === 'checked') ||\r\n                (!value && tableData.filterValue === 'unchecked');\r\n            });\r\n          } else if (['date', 'datetime'].includes(type)) {\r\n            this.filteredData = this.filteredData.filter(row => {\r\n              const value = this.getFieldValue(row, columnDef);\r\n\r\n              const currentDate = value ? new Date(value) : null;\r\n\r\n              if (currentDate && currentDate.toString() !== 'Invalid Date') {\r\n                const selectedDate = tableData.filterValue;\r\n                let currentDateToCompare = '';\r\n                let selectedDateToCompare = '';\r\n\r\n                if (type === 'date') {\r\n                  currentDateToCompare = formatDate(currentDate, 'MM/dd/yyyy');\r\n                  selectedDateToCompare = formatDate(selectedDate, 'MM/dd/yyyy');\r\n                } else if (type === 'datetime') {\r\n                  currentDateToCompare = formatDate(currentDate, 'MM/dd/yyyy - HH:mm');\r\n                  selectedDateToCompare = formatDate(selectedDate, 'MM/dd/yyyy - HH:mm');\r\n                }\r\n\r\n                return currentDateToCompare === selectedDateToCompare;\r\n              }\r\n\r\n              return true;\r\n            });\r\n          } else if (type === 'time') {\r\n            this.filteredData = this.filteredData.filter(row => {\r\n              const value = this.getFieldValue(row, columnDef);\r\n              const currentHour = value || null;\r\n\r\n              if (currentHour) {\r\n                const selectedHour = tableData.filterValue;\r\n                const currentHourToCompare = formatDate(selectedHour, 'HH:mm');\r\n\r\n                return currentHour === currentHourToCompare;\r\n              }\r\n\r\n              return true;\r\n            });\r\n          } else {\r\n            this.filteredData = this.filteredData.filter(row => {\r\n              const value = this.getFieldValue(row, columnDef);\r\n              return value && value.toString().toUpperCase().includes(tableData.filterValue.toUpperCase());\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    this.filtered = true;\r\n  }\r\n\r\n  searchData = () => {\r\n    this.grouped = this.treefied = this.sorted = this.paged = false;\r\n\r\n    this.searchedData = [...this.filteredData];\r\n\r\n    if (this.searchText && this.applySearch) {\r\n      this.searchedData = this.searchedData.filter(row => {\r\n        return this.columns\r\n          .filter(columnDef => { return columnDef.searchable === undefined ? !columnDef.hidden : columnDef.searchable })\r\n          .some(columnDef => {\r\n            if (columnDef.customFilterAndSearch) {\r\n              return !!columnDef.customFilterAndSearch(this.searchText, row, columnDef);\r\n            }\r\n            else if (columnDef.field) {\r\n              const value = this.getFieldValue(row, columnDef);\r\n              if (value) {\r\n                return value.toString().toUpperCase().includes(this.searchText.toUpperCase());\r\n              }\r\n            }\r\n          });\r\n      });\r\n    }\r\n    this.searched = true;\r\n  }\r\n\r\n  groupData() {\r\n    this.sorted = this.paged = false;\r\n    this.groupedDataLength = 0;\r\n\r\n    const tmpData = [...this.searchedData];\r\n\r\n    const groups = this.columns\r\n      .filter(col => col.tableData.groupOrder > -1)\r\n      .sort((col1, col2) => col1.tableData.groupOrder - col2.tableData.groupOrder);\r\n\r\n    const subData = tmpData.reduce((result, currentRow) => {\r\n      let object = result;\r\n      object = groups.reduce((o, colDef) => {\r\n        const value = currentRow[colDef.field] || byString(currentRow, colDef.field);\r\n\r\n        let group;\r\n        if (o.groupsIndex[value] !== undefined) {\r\n          group = o.groups[o.groupsIndex[value]];\r\n        }\r\n\r\n        if (!group) {\r\n          const path = [...(o.path || []), value];\r\n          let oldGroup = this.findGroupByGroupPath(this.groupedData, path) || { isExpanded: (typeof this.defaultExpanded ==='boolean') ? this.defaultExpanded : false };\r\n\r\n          group = { value, groups: [], groupsIndex: {}, data: [], isExpanded: oldGroup.isExpanded, path: path };\r\n          o.groups.push(group);\r\n          o.groupsIndex[value] = o.groups.length - 1;\r\n        }\r\n        return group;\r\n      }, object);\r\n\r\n      object.data.push(currentRow);\r\n      this.groupedDataLength++;\r\n\r\n      return result;\r\n    }, { groups: [], groupsIndex: {} });\r\n\r\n    this.groupedData = subData.groups;\r\n    this.grouped = true;\r\n    this.rootGroupsIndex = subData.groupsIndex;\r\n  }\r\n\r\n  treefyData() {\r\n    this.sorted = this.paged = false;\r\n    this.data.forEach(a => a.tableData.childRows = null);\r\n    this.treefiedData = [];\r\n    this.treefiedDataLength = 0;\r\n    this.treeDataMaxLevel = 0;\r\n\r\n    // if filter or search is enabled, collapse the tree\r\n    if (this.searchText || this.columns.some(columnDef => columnDef.tableData.filterValue)) {\r\n      this.data.forEach(row => {\r\n        row.tableData.isTreeExpanded = false;\r\n      });\r\n\r\n      // expand the tree for all nodes present after filtering and searching\r\n      this.expandTreeForNodes(this.searchedData);\r\n    }\r\n\r\n    const addRow = (rowData) => {\r\n      rowData.tableData.markedForTreeRemove = false;\r\n      let parent = this.parentFunc(rowData, this.data);\r\n      if (parent) {\r\n        parent.tableData.childRows = parent.tableData.childRows || [];\r\n        if (!parent.tableData.childRows.includes(rowData)) {\r\n          parent.tableData.childRows.push(rowData);\r\n          this.treefiedDataLength++;\r\n        }\r\n\r\n        addRow(parent);\r\n\r\n        rowData.tableData.path = [...parent.tableData.path, parent.tableData.childRows.length - 1];\r\n        this.treeDataMaxLevel = Math.max(this.treeDataMaxLevel, rowData.tableData.path.length);\r\n      }\r\n      else {\r\n        if (!this.treefiedData.includes(rowData)) {\r\n          this.treefiedData.push(rowData);\r\n          this.treefiedDataLength++;\r\n          rowData.tableData.path = [this.treefiedData.length - 1];\r\n        }\r\n      }\r\n    };\r\n\r\n    // Add all rows initially\r\n    this.data.forEach(rowData => {\r\n      addRow(rowData);\r\n    });\r\n    const markForTreeRemove = (rowData) => {\r\n      let pointer = this.treefiedData;\r\n      rowData.tableData.path.forEach(pathPart => {\r\n        if (pointer.tableData && pointer.tableData.childRows) {\r\n          pointer = pointer.tableData.childRows;\r\n        }\r\n        pointer = pointer[pathPart];\r\n      });\r\n      pointer.tableData.markedForTreeRemove = true;\r\n    };\r\n\r\n    const traverseChildrenAndUnmark = (rowData) => {\r\n      if (rowData.tableData.childRows) {\r\n        rowData.tableData.childRows.forEach(row => {\r\n          traverseChildrenAndUnmark(row);\r\n        });\r\n      }\r\n      rowData.tableData.markedForTreeRemove = false;\r\n    };\r\n\r\n    // for all data rows, restore initial expand if no search term is available and remove items that shouldn't be there\r\n    this.data.forEach(rowData => {\r\n      if (!this.searchText && !this.columns.some(columnDef => columnDef.tableData.filterValue)) {\r\n        if (rowData.tableData.isTreeExpanded === undefined) {\r\n          var isExpanded = (typeof this.defaultExpanded ==='boolean') ? this.defaultExpanded : this.defaultExpanded(rowData);\r\n          rowData.tableData.isTreeExpanded = isExpanded;\r\n        }\r\n      }\r\n      const hasSearchMatchedChildren = rowData.tableData.isTreeExpanded;\r\n\r\n      if (!hasSearchMatchedChildren && this.searchedData.indexOf(rowData) < 0) {\r\n        markForTreeRemove(rowData);\r\n      }\r\n    });\r\n\r\n    // preserve all children of nodes that are matched by search or filters\r\n    this.data.forEach(rowData => {\r\n      if (this.searchedData.indexOf(rowData) > -1) {\r\n        traverseChildrenAndUnmark(rowData);\r\n      }\r\n    });\r\n\r\n    const traverseTreeAndDeleteMarked = (rowDataArray) => {\r\n      for (var i = rowDataArray.length - 1; i >= 0; i--) {\r\n        const item = rowDataArray[i];\r\n        if (item.tableData.childRows) {\r\n          traverseTreeAndDeleteMarked(item.tableData.childRows);\r\n        }\r\n        if (item.tableData.markedForTreeRemove)\r\n          rowDataArray.splice(i, 1);\r\n      }\r\n    };\r\n\r\n    traverseTreeAndDeleteMarked(this.treefiedData);\r\n    this.treefied = true;\r\n  }\r\n\r\n  sortData() {\r\n    this.paged = false;\r\n\r\n    if (this.isDataType(\"group\")) {\r\n      this.sortedData = [...this.groupedData];\r\n\r\n      const groups = this.columns\r\n        .filter(col => col.tableData.groupOrder > -1)\r\n        .sort((col1, col2) => col1.tableData.groupOrder - col2.tableData.groupOrder);\r\n\r\n      const sortGroups = (list, columnDef) => {\r\n        if (columnDef.customSort) {\r\n          return list.sort(\r\n            columnDef.tableData.groupSort === 'desc'\r\n              ? (a, b) => columnDef.customSort(b.value, a.value, 'group')\r\n              : (a, b) => columnDef.customSort(a.value, b.value, 'group')\r\n          );\r\n        }\r\n        else {\r\n          return list.sort(\r\n            columnDef.tableData.groupSort === 'desc'\r\n              ? (a, b) => this.sort(b.value, a.value, columnDef.type)\r\n              : (a, b) => this.sort(a.value, b.value, columnDef.type)\r\n          );\r\n        }\r\n      };\r\n\r\n      this.sortedData = sortGroups(this.sortedData, groups[0]);\r\n\r\n      const sortGroupData = (list, level) => {\r\n        list.forEach(element => {\r\n          if (element.groups.length > 0) {\r\n            const column = groups[level];\r\n            element.groups = sortGroups(element.groups, column);\r\n            sortGroupData(element.groups, level + 1);\r\n          }\r\n          else {\r\n            if (this.orderBy >= 0 && this.orderDirection) {\r\n              element.data = this.sortList(element.data);\r\n            }\r\n          }\r\n        });\r\n      };\r\n\r\n      sortGroupData(this.sortedData, 1);\r\n    }\r\n    else if (this.isDataType(\"tree\")) {\r\n      this.sortedData = [...this.treefiedData];\r\n      if (this.orderBy != -1) {\r\n        this.sortedData = this.sortList(this.sortedData);\r\n\r\n        const sortTree = (list) => {\r\n          list.forEach(item => {\r\n            if (item.tableData.childRows) {\r\n              item.tableData.childRows = this.sortList(item.tableData.childRows);\r\n              sortTree(item.tableData.childRows);\r\n            }\r\n          });\r\n        };\r\n\r\n        sortTree(this.sortedData);\r\n      }\r\n    }\r\n    else if (this.isDataType(\"normal\")) {\r\n      this.sortedData = [...this.searchedData];\r\n      if (this.orderBy != -1 && this.applySort) {\r\n        this.sortedData = this.sortList(this.sortedData);\r\n      }\r\n    }\r\n\r\n    this.sorted = true;\r\n  }\r\n\r\n  pageData() {\r\n    this.pagedData = [...this.sortedData];\r\n\r\n    if (this.paging) {\r\n      const startIndex = this.currentPage * this.pageSize;\r\n      const endIndex = startIndex + this.pageSize;\r\n\r\n      this.pagedData = this.pagedData.slice(startIndex, endIndex);\r\n    }\r\n\r\n    this.paged = true;\r\n  }\r\n}\r\n","/* eslint-disable no-unused-vars */\r\nimport Table from '@material-ui/core/Table';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport DoubleScrollbar from \"react-double-scrollbar\";\r\nimport * as React from 'react';\r\nimport { MTablePagination, MTableSteppedPagination } from './components';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport DataManager from './utils/data-manager';\r\nimport { debounce } from 'debounce';\r\nimport equal from 'fast-deep-equal';\r\nimport { withStyles } from '@material-ui/core';\r\nimport * as CommonValues from './utils/common-values';\r\n\r\n/* eslint-enable no-unused-vars */\r\n\r\nexport default class MaterialTable extends React.Component {\r\n  dataManager = new DataManager();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const calculatedProps = this.getProps(props);\r\n    this.setDataManagerFields(calculatedProps, true);\r\n    const renderState = this.dataManager.getRenderState();\r\n\r\n    this.state = {\r\n      data: [],\r\n      ...renderState,\r\n      query: {\r\n        filters: renderState.columns\r\n          .filter(a => a.tableData.filterValue)\r\n          .map(a => ({\r\n            column: a,\r\n            operator: \"=\",\r\n            value: a.tableData.filterValue\r\n          })),\r\n        orderBy: renderState.columns.find(a => a.tableData.id === renderState.orderBy),\r\n        orderDirection: renderState.orderDirection,\r\n        page: 0,\r\n        pageSize: calculatedProps.options.pageSize,\r\n        search: renderState.searchText,\r\n\r\n        totalCount: 0\r\n      },\r\n      showAddRow: false,\r\n      width: 0\r\n    };\r\n\r\n    this.tableContainerDiv = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ ...this.dataManager.getRenderState(), width: this.tableContainerDiv.current.scrollWidth }, () => {\r\n      if (this.isRemoteData()) {\r\n        this.onQueryChange(this.state.query);\r\n      }\r\n    });\r\n  }\r\n\r\n  setDataManagerFields(props, isInit) {\r\n    let defaultSortColumnIndex = -1;\r\n    let defaultSortDirection = '';\r\n    if (props && props.options.sorting !== false) {\r\n      defaultSortColumnIndex = props.columns.findIndex(a => a.defaultSort && a.sorting !== false);\r\n      defaultSortDirection = defaultSortColumnIndex > -1 ? props.columns[defaultSortColumnIndex].defaultSort : '';\r\n    }\r\n\r\n    this.dataManager.setColumns(props.columns);\r\n    this.dataManager.setDefaultExpanded(props.options.defaultExpanded);\r\n    this.dataManager.changeRowEditing();\r\n\r\n    if (this.isRemoteData(props)) {\r\n      this.dataManager.changeApplySearch(false);\r\n      this.dataManager.changeApplyFilters(false);\r\n      this.dataManager.changeApplySort(false);\r\n    }\r\n    else {\r\n      this.dataManager.changeApplySearch(true);\r\n      this.dataManager.changeApplyFilters(true);\r\n      this.dataManager.changeApplySort(true);\r\n      this.dataManager.setData(props.data);\r\n    }\r\n\r\n    isInit && this.dataManager.changeOrder(defaultSortColumnIndex, defaultSortDirection);\r\n    isInit && this.dataManager.changeSearchText(props.options.searchText || '');\r\n    isInit && this.dataManager.changeCurrentPage(props.options.initialPage ? props.options.initialPage : 0);\r\n    (isInit || this.isRemoteData()) && this.dataManager.changePageSize(props.options.pageSize);\r\n    this.dataManager.changePaging(props.options.paging);\r\n    isInit && this.dataManager.changeParentFunc(props.parentChildData);\r\n    this.dataManager.changeDetailPanelType(props.options.detailPanelType);\r\n  }\r\n\r\n  cleanColumns(columns) {\r\n    return columns.map(col => {\r\n      const colClone = {...col};\r\n      delete colClone.tableData;\r\n      return colClone;\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // const propsChanged = Object.entries(this.props).reduce((didChange, prop) => didChange || prop[1] !== prevProps[prop[0]], false);\r\n\r\n    const fixedPrevColumns = this.cleanColumns(prevProps.columns);\r\n    const fixedPropsColumns = this.cleanColumns(this.props.columns);\r\n\r\n    let propsChanged = !equal(fixedPrevColumns, fixedPropsColumns);\r\n    propsChanged = propsChanged || !equal(prevProps.options, this.props.options);\r\n    if(!this.isRemoteData()) {\r\n      propsChanged = propsChanged || !equal(prevProps.data, this.props.data);\r\n    }\r\n\r\n    if (propsChanged) {\r\n      const props = this.getProps(this.props);\r\n      this.setDataManagerFields(props);\r\n      this.setState(this.dataManager.getRenderState());\r\n    }\r\n\r\n    const count = this.isRemoteData() ? this.state.query.totalCount : this.state.data.length;\r\n    const currentPage = this.isRemoteData() ? this.state.query.page : this.state.currentPage;\r\n    const pageSize = this.isRemoteData() ? this.state.query.pageSize : this.state.pageSize;\r\n\r\n    if (count <= pageSize * currentPage && currentPage !== 0) {\r\n      this.onChangePage(null, Math.max(0, Math.ceil(count / pageSize) - 1));\r\n    }\r\n  }\r\n\r\n  getProps(props) {\r\n    const calculatedProps = { ...(props || this.props) };\r\n    calculatedProps.components = { ...MaterialTable.defaultProps.components, ...calculatedProps.components };\r\n    calculatedProps.icons = { ...MaterialTable.defaultProps.icons, ...calculatedProps.icons };\r\n    calculatedProps.options = { ...MaterialTable.defaultProps.options, ...calculatedProps.options };\r\n\r\n    const localization = { ...MaterialTable.defaultProps.localization.body, ...calculatedProps.localization.body };\r\n\r\n    calculatedProps.actions = [...(calculatedProps.actions || [])];\r\n\r\n    if (calculatedProps.options.selection)\r\n      calculatedProps.actions = calculatedProps.actions.filter(a => a).map(action => {\r\n        if (\r\n          (action.position === \"auto\") ||\r\n          (action.isFreeAction === false) ||\r\n          (action.position === undefined && action.isFreeAction === undefined)\r\n        )\r\n          if (typeof action === \"function\") return { action: action, position: \"toolbarOnSelect\" };\r\n          else return { ...action, position: \"toolbarOnSelect\" };\r\n        else if (action.isFreeAction)\r\n          if (typeof action === \"function\") return { action: action, position: \"toolbar\" };\r\n          else return { ...action, position: \"toolbar\" };\r\n        else return action;\r\n      });\r\n    else\r\n      calculatedProps.actions = calculatedProps.actions.filter(a => a).map(action => {\r\n        if (\r\n          (action.position === \"auto\") ||\r\n          (action.isFreeAction === false) ||\r\n          (action.position === undefined && action.isFreeAction === undefined)\r\n        )\r\n          if (typeof action === \"function\") return { action: action, position: \"row\" };\r\n          else return { ...action, position: \"row\" };\r\n        else if (action.isFreeAction)\r\n          if (typeof action === \"function\") return { action: action, position: \"toolbar\" };\r\n          else return { ...action, position: \"toolbar\" };\r\n        else return action;\r\n      });\r\n\r\n    if (calculatedProps.editable) {\r\n      if (calculatedProps.editable.onRowAdd) {\r\n        calculatedProps.actions.push({\r\n          icon: calculatedProps.icons.Add,\r\n          tooltip: localization.addTooltip,\r\n          position: \"toolbar\",\r\n          disabled: !!(this.dataManager.lastEditingRow),\r\n          onClick: () => {\r\n            this.dataManager.changeRowEditing();\r\n            this.setState({\r\n              ...this.dataManager.getRenderState(),\r\n              showAddRow: !this.state.showAddRow\r\n            });\r\n          }\r\n        });\r\n      }\r\n      if (calculatedProps.editable.onRowUpdate) {\r\n        calculatedProps.actions.push(rowData => ({\r\n          icon: calculatedProps.icons.Edit,\r\n          tooltip: localization.editTooltip,\r\n          disabled: calculatedProps.editable.isEditable && !calculatedProps.editable.isEditable(rowData),\r\n          onClick: (e, rowData) => {\r\n            this.dataManager.changeRowEditing(rowData, \"update\");\r\n            this.setState({\r\n              ...this.dataManager.getRenderState(),\r\n              showAddRow: false\r\n            });\r\n          }\r\n        }));\r\n      }\r\n      if (calculatedProps.editable.onRowDelete) {\r\n        calculatedProps.actions.push(rowData => ({\r\n          icon: calculatedProps.icons.Delete,\r\n          tooltip: localization.deleteTooltip,\r\n          disabled: calculatedProps.editable.isDeletable && !calculatedProps.editable.isDeletable(rowData),\r\n          onClick: (e, rowData) => {\r\n            this.dataManager.changeRowEditing(rowData, \"delete\");\r\n            this.setState({\r\n              ...this.dataManager.getRenderState(),\r\n              showAddRow: false\r\n            });\r\n          }\r\n        }));\r\n      }\r\n    }\r\n\r\n    return calculatedProps;\r\n  }\r\n\r\n  isRemoteData = (props) => !Array.isArray((props || this.props).data)\r\n\r\n  isOutsidePageNumbers = (props) => (props.page !== undefined && props.totalCount !== undefined);\r\n\r\n  onAllSelected = (checked) => {\r\n    this.dataManager.changeAllSelected(checked);\r\n    this.setState(this.dataManager.getRenderState(), () => this.onSelectionChange());\r\n  }\r\n\r\n  onChangeColumnHidden = (column, hidden) => {\r\n    this.dataManager.changeColumnHidden(column, hidden);\r\n    this.setState(this.dataManager.getRenderState(), () => {\r\n      this.props.onChangeColumnHidden && this.props.onChangeColumnHidden(column, hidden);\r\n    });\r\n  }\r\n\r\n  onChangeGroupOrder = (groupedColumn) => {\r\n    this.dataManager.changeGroupOrder(groupedColumn.tableData.id);\r\n    this.setState(this.dataManager.getRenderState());\r\n  }\r\n\r\n  onChangeOrder = (orderBy, orderDirection) => {\r\n    const newOrderBy = orderDirection === '' ? -1 : orderBy;\r\n    this.dataManager.changeOrder(newOrderBy, orderDirection);\r\n\r\n    if (this.isRemoteData()) {\r\n      const query = { ...this.state.query };\r\n      query.page = 0;\r\n      query.orderBy = this.state.columns.find(a => a.tableData.id === newOrderBy);\r\n      query.orderDirection = orderDirection;\r\n      this.onQueryChange(query, () => {\r\n        this.props.onOrderChange && this.props.onOrderChange(newOrderBy, orderDirection);\r\n      });\r\n    } else {\r\n      this.setState(this.dataManager.getRenderState(), () => {\r\n        this.props.onOrderChange && this.props.onOrderChange(newOrderBy, orderDirection);\r\n      });\r\n    }\r\n  }\r\n\r\n  onChangePage = (event, page) => {\r\n    if (this.isRemoteData()) {\r\n      const query = { ...this.state.query };\r\n      query.page = page;\r\n      this.onQueryChange(query, () => {\r\n        this.props.onChangePage && this.props.onChangePage(page);\r\n      });\r\n    }\r\n    else {\r\n      if (!this.isOutsidePageNumbers(this.props)) {\r\n        this.dataManager.changeCurrentPage(page);\r\n      }\r\n      this.setState(this.dataManager.getRenderState(), () => {\r\n        this.props.onChangePage && this.props.onChangePage(page);\r\n      });\r\n    }\r\n  }\r\n\r\n  onChangeRowsPerPage = (event) => {\r\n    const pageSize = event.target.value;\r\n\r\n    this.dataManager.changePageSize(pageSize);\r\n\r\n    this.props.onChangePage && this.props.onChangePage(0);\r\n\r\n    if (this.isRemoteData()) {\r\n      const query = { ...this.state.query };\r\n      query.pageSize = event.target.value;\r\n      query.page = 0;\r\n      this.onQueryChange(query, () => {\r\n        this.props.onChangeRowsPerPage && this.props.onChangeRowsPerPage(pageSize);\r\n      });\r\n    }\r\n    else {\r\n      this.dataManager.changeCurrentPage(0);\r\n      this.setState(this.dataManager.getRenderState(), () => {\r\n        this.props.onChangeRowsPerPage && this.props.onChangeRowsPerPage(pageSize);\r\n      });\r\n    }\r\n  }\r\n\r\n  onDragEnd = result => {\r\n    if (!result || !result.source || !result.destination) return;\r\n    this.dataManager.changeByDrag(result);\r\n    this.setState(this.dataManager.getRenderState(), () => {\r\n      if (this.props.onColumnDragged && result.destination.droppableId === \"headers\" &&\r\n        result.source.droppableId === \"headers\") {\r\n        this.props.onColumnDragged(result.source.index, result.destination.index);\r\n      }\r\n    });\r\n  }\r\n\r\n  onGroupExpandChanged = (path) => {\r\n    this.dataManager.changeGroupExpand(path);\r\n    this.setState(this.dataManager.getRenderState());\r\n  }\r\n\r\n  onGroupRemoved = (groupedColumn, index) => {\r\n    const result = {\r\n      combine: null,\r\n      destination: { droppableId: \"headers\", index: 0 },\r\n      draggableId: groupedColumn.tableData.id,\r\n      mode: \"FLUID\",\r\n      reason: \"DROP\",\r\n      source: { index, droppableId: \"groups\" },\r\n      type: \"DEFAULT\"\r\n    };\r\n    this.dataManager.changeByDrag(result);\r\n    this.setState(this.dataManager.getRenderState(), () => {\r\n      this.props.onGroupRemoved && this.props.onGroupRemoved(groupedColumn, index);\r\n    });\r\n  }\r\n\r\n  onEditingApproved = (mode, newData, oldData) => {\r\n    if (mode === \"add\") {\r\n      this.setState({ isLoading: true }, () => {\r\n        this.props.editable.onRowAdd(newData)\r\n          .then(result => {\r\n            this.setState({ isLoading: false, showAddRow: false }, () => {\r\n              if (this.isRemoteData()) {\r\n                this.onQueryChange(this.state.query);\r\n              }\r\n            });\r\n          })\r\n          .catch(reason => {\r\n            this.setState({ isLoading: false });\r\n          });\r\n      });\r\n    }\r\n    else if (mode === \"update\") {\r\n      this.setState({ isLoading: true }, () => {\r\n        this.props.editable.onRowUpdate(newData, oldData)\r\n          .then(result => {\r\n            this.dataManager.changeRowEditing(oldData);\r\n            this.setState({\r\n              isLoading: false,\r\n              ...this.dataManager.getRenderState()\r\n            }, () => {\r\n              if (this.isRemoteData()) {\r\n                this.onQueryChange(this.state.query);\r\n              }\r\n            });\r\n          })\r\n          .catch(reason => {\r\n            this.setState({ isLoading: false });\r\n          });\r\n      });\r\n\r\n    }\r\n    else if (mode === \"delete\") {\r\n      this.setState({ isLoading: true }, () => {\r\n        this.props.editable.onRowDelete(oldData)\r\n          .then(result => {\r\n            this.dataManager.changeRowEditing(oldData);\r\n            this.setState({\r\n              isLoading: false,\r\n              ...this.dataManager.getRenderState()\r\n            }, () => {\r\n              if (this.isRemoteData()) {\r\n                this.onQueryChange(this.state.query);\r\n              }\r\n            });\r\n          })\r\n          .catch(reason => {\r\n            this.setState({ isLoading: false });\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  onEditingCanceled = (mode, rowData) => {\r\n    if (mode === \"add\") {\r\n      this.setState({ showAddRow: false });\r\n    }\r\n    else if (mode === \"update\" || mode === \"delete\") {\r\n      this.dataManager.changeRowEditing(rowData);\r\n      this.setState(this.dataManager.getRenderState());\r\n    }\r\n  }\r\n\r\n  onQueryChange = (query, callback) => {\r\n    query = { ...this.state.query, ...query };\r\n    this.setState({ isLoading: true }, () => {\r\n      this.props.data(query).then((result) => {\r\n        query.totalCount = result.totalCount;\r\n        query.page = result.page;\r\n        this.dataManager.setData(result.data);\r\n        this.setState({\r\n          isLoading: false,\r\n          ...this.dataManager.getRenderState(),\r\n          query\r\n        }, () => {\r\n          callback && callback();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  onRowSelected = (event, path, dataClicked) => {\r\n    this.dataManager.changeRowSelected(event.target.checked, path);\r\n    this.setState(this.dataManager.getRenderState(), () => this.onSelectionChange(dataClicked));\r\n  }\r\n\r\n  onSelectionChange = (dataClicked) => {\r\n    if (this.props.onSelectionChange) {\r\n      const selectedRows = [];\r\n\r\n      const findSelecteds = list => {\r\n        list.forEach(row => {\r\n          if (row.tableData.checked) {\r\n            selectedRows.push(row);\r\n          }\r\n\r\n          row.tableData.childRows && findSelecteds(row.tableData.childRows);\r\n        });\r\n      };\r\n\r\n      findSelecteds(this.state.originalData);\r\n      this.props.onSelectionChange(selectedRows, dataClicked);\r\n    }\r\n  }\r\n\r\n  onSearchChangeDebounce = debounce((searchText) => {\r\n    if (this.isRemoteData()) {\r\n      const query = { ...this.state.query };\r\n      query.page = 0;\r\n      query.search = searchText;\r\n\r\n      this.onQueryChange(query);\r\n    }\r\n    else {\r\n      this.setState(this.dataManager.getRenderState(), () => {\r\n        this.props.onSearchChange && this.props.onSearchChange(searchText);\r\n      });\r\n    }\r\n  }, this.props.options.debounceInterval)\r\n\r\n  onFilterChange = (columnId, value) => {\r\n    this.dataManager.changeFilterValue(columnId, value);\r\n    this.setState({}, this.onFilterChangeDebounce);\r\n  }\r\n\r\n  onFilterChangeDebounce = debounce(() => {\r\n    if (this.isRemoteData()) {\r\n      const query = { ...this.state.query };\r\n      query.page = 0;\r\n      query.filters = this.state.columns\r\n        .filter(a => a.tableData.filterValue)\r\n        .map(a => ({\r\n          column: a,\r\n          operator: \"=\",\r\n          value: a.tableData.filterValue\r\n        }));\r\n\r\n      this.onQueryChange(query);\r\n    }\r\n    else {\r\n      this.setState(this.dataManager.getRenderState(), () => {\r\n        if (this.props.onFilterChange) {\r\n          const appliedFilters = this.state.columns\r\n            .filter(a => a.tableData.filterValue)\r\n            .map(a => ({\r\n              column: a,\r\n              operator: \"=\",\r\n              value: a.tableData.filterValue\r\n            }));\r\n          this.props.onFilterChange(appliedFilters);\r\n        }\r\n      });\r\n    }\r\n  }, this.props.options.debounceInterval)\r\n\r\n  onTreeExpandChanged = (path, data) => {\r\n    this.dataManager.changeTreeExpand(path);\r\n    this.setState(this.dataManager.getRenderState(), () => {\r\n      this.props.onTreeExpandChange && this.props.onTreeExpandChange(data, data.tableData.isTreeExpanded);\r\n    });\r\n  }\r\n\r\n  onToggleDetailPanel = (path, render) => {\r\n    this.dataManager.changeDetailPanelVisibility(path, render);\r\n    this.setState(this.dataManager.getRenderState());\r\n  }\r\n\r\n  renderFooter() {\r\n    const props = this.getProps();\r\n    if (props.options.paging) {\r\n      const localization = { ...MaterialTable.defaultProps.localization.pagination, ...this.props.localization.pagination };\r\n\r\n      const isOutsidePageNumbers = this.isOutsidePageNumbers(props);\r\n      const currentPage = isOutsidePageNumbers\r\n        ? Math.min(props.page, Math.floor(props.totalCount / this.state.pageSize))\r\n        : this.state.currentPage;\r\n      const totalCount = isOutsidePageNumbers\r\n        ? props.totalCount\r\n        : this.state.data.length;\r\n\r\n      return (\r\n        <Table>\r\n          <TableFooter style={{ display: 'grid' }}>\r\n            <TableRow>\r\n              <props.components.Pagination\r\n                classes={{\r\n                  root: props.classes.paginationRoot,\r\n                  toolbar: props.classes.paginationToolbar,\r\n                  caption: props.classes.paginationCaption,\r\n                  selectRoot: props.classes.paginationSelectRoot,\r\n                }}\r\n                style={{ float: props.theme.direction === \"rtl\" ? \"\" : \"right\", overflowX: 'auto' }}\r\n                colSpan={3}\r\n                count={this.isRemoteData() ? this.state.query.totalCount : totalCount}\r\n                icons={props.icons}\r\n                rowsPerPage={this.state.pageSize}\r\n                rowsPerPageOptions={props.options.pageSizeOptions}\r\n                SelectProps={{\r\n                  renderValue: value => <div style={{ padding: '0px 5px' }}>{value + ' ' + localization.labelRowsSelect + ' '}</div>\r\n                }}\r\n                page={this.isRemoteData() ? this.state.query.page : currentPage}\r\n                onChangePage={this.onChangePage}\r\n                onChangeRowsPerPage={this.onChangeRowsPerPage}\r\n                ActionsComponent={(subProps) => props.options.paginationType === 'normal' ?\r\n                  <MTablePagination {...subProps} icons={props.icons} localization={localization} showFirstLastPageButtons={props.options.showFirstLastPageButtons} /> :\r\n                  <MTableSteppedPagination {...subProps} icons={props.icons} localization={localization} showFirstLastPageButtons={props.options.showFirstLastPageButtons} />}\r\n                labelDisplayedRows={(row) => localization.labelDisplayedRows.replace('{from}', row.from).replace('{to}', row.to).replace('{count}', row.count)}\r\n                labelRowsPerPage={localization.labelRowsPerPage}\r\n              />\r\n            </TableRow>\r\n          </TableFooter>\r\n        </Table>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderTable = (props) => (\r\n    <Table style={{ tableLayout: (props.options.fixedColumns && (props.options.fixedColumns.left || props.options.fixedColumns.right)) ? 'fixed' : props.options.tableLayout }}>\r\n      {props.options.header &&\r\n        <props.components.Header\r\n          actions={props.actions}\r\n          localization={{ ...MaterialTable.defaultProps.localization.header, ...this.props.localization.header }}\r\n          columns={this.state.columns}\r\n          hasSelection={props.options.selection}\r\n          headerStyle={props.options.headerStyle}\r\n          icons={props.icons}\r\n          selectedCount={this.state.selectedCount}\r\n          dataCount={\r\n            props.parentChildData ? this.state.treefiedDataLength : (\r\n              (this.state.columns.filter(col => col.tableData.groupOrder > -1).length > 0) ? this.state.groupedDataLength : this.state.data.length\r\n            )\r\n          }\r\n          hasDetailPanel={!!props.detailPanel}\r\n          detailPanelColumnAlignment={props.options.detailPanelColumnAlignment}\r\n          showActionsColumn={props.actions && props.actions.filter(a => a.position === \"row\" || typeof a === \"function\").length > 0}\r\n          showSelectAllCheckbox={props.options.showSelectAllCheckbox}\r\n          orderBy={this.state.orderBy}\r\n          orderDirection={this.state.orderDirection}\r\n          onAllSelected={this.onAllSelected}\r\n          onOrderChange={this.onChangeOrder}\r\n          actionsHeaderIndex={props.options.actionsColumnIndex}\r\n          sorting={props.options.sorting}\r\n          grouping={props.options.grouping}\r\n          isTreeData={this.props.parentChildData !== undefined}\r\n          draggable={props.options.draggable}\r\n          thirdSortClick={props.options.thirdSortClick}\r\n          treeDataMaxLevel={this.state.treeDataMaxLevel}\r\n          options={props.options}\r\n        />\r\n      }\r\n      <props.components.Body\r\n        actions={props.actions}\r\n        components={props.components}\r\n        icons={props.icons}\r\n        renderData={this.state.renderData}\r\n        currentPage={this.state.currentPage}\r\n        initialFormData={props.initialFormData}\r\n        pageSize={this.state.pageSize}\r\n        columns={this.state.columns}\r\n        detailPanel={props.detailPanel}\r\n        options={props.options}\r\n        getFieldValue={this.dataManager.getFieldValue}\r\n        isTreeData={this.props.parentChildData !== undefined}\r\n        onFilterChanged={this.onFilterChange}\r\n        onRowSelected={this.onRowSelected}\r\n        onToggleDetailPanel={this.onToggleDetailPanel}\r\n        onGroupExpandChanged={this.onGroupExpandChanged}\r\n        onTreeExpandChanged={this.onTreeExpandChanged}\r\n        onEditingCanceled={this.onEditingCanceled}\r\n        onEditingApproved={this.onEditingApproved}\r\n        localization={{ ...MaterialTable.defaultProps.localization.body, ...this.props.localization.body }}\r\n        onRowClick={this.props.onRowClick}\r\n        showAddRow={this.state.showAddRow}\r\n        hasAnyEditingRow={!!(this.state.lastEditingRow || this.state.showAddRow)}\r\n        hasDetailPanel={!!props.detailPanel}\r\n        treeDataMaxLevel={this.state.treeDataMaxLevel}\r\n      />\r\n    </Table>\r\n  )\r\n\r\n  getColumnsWidth = (props, count) => {\r\n    let result = [];\r\n\r\n    const actionsWidth = CommonValues.actionsColumnWidth(props);\r\n    if (actionsWidth > 0) {\r\n      if (count > 0 && props.options.actionsColumnIndex >= 0 && props.options.actionsColumnIndex < count) {\r\n        result.push(actionsWidth + \"px\");\r\n      }\r\n      else if (count < 0 && props.options.actionsColumnIndex < 0 && props.options.actionsColumnIndex >= count) {\r\n        result.push(actionsWidth + \"px\");\r\n      }\r\n    }\r\n\r\n    if (props.options.selection) {\r\n      const selectionWidth = CommonValues.selectionMaxWidth(props, this.state.treeDataMaxLevel);\r\n      result.push(selectionWidth + \"px\");\r\n    }\r\n\r\n    for (let i = 0; i < Math.abs(count) && i < props.columns.length; i++) {\r\n      const colDef = props.columns[i > 0 ? i : props.columns.length - 1 - i];\r\n      if(colDef.tableData) {\r\n        if (typeof colDef.tableData.width === \"number\") {\r\n          result.push(colDef.tableData.width + \"px\");\r\n        }\r\n        else {\r\n          result.push(colDef.tableData.width);\r\n        }\r\n      }\r\n    }\r\n\r\n    return \"calc(\" + result.join(' + ') + \")\";\r\n  }\r\n\r\n  render() {\r\n    const props = this.getProps();\r\n\r\n    return (\r\n      <DragDropContext onDragEnd={this.onDragEnd} nonce={props.options.cspNonce}>\r\n        <props.components.Container style={{ position: 'relative', ...props.style }}>\r\n          {props.options.toolbar &&\r\n            <props.components.Toolbar\r\n              actions={props.actions}\r\n              components={props.components}\r\n              selectedRows={this.state.selectedCount > 0 ? this.state.originalData.filter(a => { return a.tableData.checked }) : []}\r\n              columns={this.state.columns}\r\n              columnsButton={props.options.columnsButton}\r\n              icons={props.icons}\r\n              exportAllData={props.options.exportAllData}\r\n              exportButton={props.options.exportButton}\r\n              exportDelimiter={props.options.exportDelimiter}\r\n              exportFileName={props.options.exportFileName}\r\n              exportCsv={props.options.exportCsv}\r\n              getFieldValue={this.dataManager.getFieldValue}\r\n              data={this.state.data}\r\n              renderData={this.state.renderData}\r\n              search={props.options.search}\r\n              showTitle={props.options.showTitle}\r\n              showTextRowsSelected={props.options.showTextRowsSelected}\r\n              toolbarButtonAlignment={props.options.toolbarButtonAlignment}\r\n              searchFieldAlignment={props.options.searchFieldAlignment}\r\n              searchAutoFocus={props.options.searchAutoFocus}\r\n              searchFieldStyle={props.options.searchFieldStyle}\r\n              searchFieldVariant={props.options.searchFieldVariant}\r\n              title={props.title}\r\n              onSearchChanged={this.onSearchChangeDebounce}\r\n              dataManager={this.dataManager}\r\n              onColumnsChanged={this.onChangeColumnHidden}\r\n              localization={{ ...MaterialTable.defaultProps.localization.toolbar, ...this.props.localization.toolbar }}\r\n            />\r\n          }\r\n          {props.options.filtering &&\r\n          <this.props.components.FilterRow\r\n            columns={this.state.columns}\r\n            icons={props.icons}\r\n            onFilterChanged={this.onFilterChange}\r\n            localization={{ ...MaterialTable.defaultProps.localization.filterRow, ...this.props.localization.filterRow, dateTimePickerLocalization: this.props.localization.dateTimePickerLocalization }}\r\n            filterCellStyle={props.options.filterCellStyle}\r\n            hideFilterIcons={props.options.hideFilterIcons}\r\n            resetFilters={this.props.resetFilters} //    \r\n          />\r\n        }  \r\n          {props.options.grouping &&\r\n            <props.components.Groupbar\r\n              icons={props.icons}\r\n              localization={{ ...MaterialTable.defaultProps.localization.grouping, ...props.localization.grouping }}\r\n              groupColumns={this.state.columns\r\n                .filter(col => col.tableData.groupOrder > -1)\r\n                .sort((col1, col2) => col1.tableData.groupOrder - col2.tableData.groupOrder)\r\n              }\r\n              onSortChanged={this.onChangeGroupOrder}\r\n              onGroupRemoved={this.onGroupRemoved}\r\n            />\r\n          }\r\n          <ScrollBar double={props.options.doubleHorizontalScroll}>\r\n            <Droppable droppableId=\"headers\" direction=\"horizontal\">\r\n              {(provided, snapshot) => {\r\n                const table = this.renderTable(props);\r\n                return (\r\n                  <div ref={provided.innerRef}>\r\n                    <div ref={this.tableContainerDiv} style={{ maxHeight: props.options.maxBodyHeight, minHeight: props.options.minBodyHeight, overflowY: props.options.overflowY }}>\r\n\r\n                      {this.state.width && props.options.fixedColumns && props.options.fixedColumns.right ?\r\n                        <div style={{ width: this.getColumnsWidth(props, -1 * props.options.fixedColumns.right), position: 'absolute', top: 0, right: 0, boxShadow: '-2px 0px 15px rgba(125,147,178,.25)', overflowX: 'hidden', zIndex: 11 }}>\r\n                          <div style={{ width: this.state.width, background: 'white', transform: `translateX(calc(${this.getColumnsWidth(props, -1 * props.options.fixedColumns.right)} - 100%))` }}>\r\n                            {table}\r\n                          </div>\r\n                        </div> : null\r\n                      }\r\n\r\n                      <div  >\r\n                        {table}\r\n                      </div>\r\n\r\n                      {this.state.width && props.options.fixedColumns && props.options.fixedColumns.left ?\r\n                        <div style={{ width: this.getColumnsWidth(props, props.options.fixedColumns.left), position: 'absolute', top: 0, left: 0, boxShadow: '2px 0px 15px rgba(125,147,178,.25)', overflowX: 'hidden', zIndex: 11 }}>\r\n                          <div style={{ width: this.state.width, background: 'white' }}>\r\n                            {table}\r\n                          </div>\r\n                        </div> : null\r\n                      }\r\n\r\n                    </div>\r\n                    {provided.placeholder}\r\n                  </div>\r\n                );\r\n              }}\r\n            </Droppable>\r\n\r\n          </ScrollBar>\r\n          {(this.state.isLoading || props.isLoading) && props.options.loadingType === \"linear\" &&\r\n            <div style={{ position: 'relative', width: '100%' }}>\r\n              <div style={{ position: 'absolute', top: 0, left: 0, height: '100%', width: '100%' }}>\r\n                <LinearProgress />\r\n              </div>\r\n            </div>\r\n          }\r\n          {this.renderFooter()}\r\n\r\n          {(this.state.isLoading || props.isLoading) && props.options.loadingType === 'overlay' &&\r\n            <div style={{ position: 'absolute', top: 0, left: 0, height: '100%', width: '100%', zIndex: 11 }}>\r\n              <props.components.OverlayLoading theme={props.theme} />\r\n            </div>\r\n          }\r\n        </props.components.Container>\r\n      </DragDropContext>\r\n    );\r\n  }\r\n}\r\n\r\nvar style = () => ({\r\n  horizontalScrollContainer: {\r\n    '& ::-webkit-scrollbar': {\r\n      '-webkit-appearance': 'none'\r\n    },\r\n    '& ::-webkit-scrollbar:horizontal': {\r\n      height: 8\r\n    },\r\n    '& ::-webkit-scrollbar-thumb': {\r\n      borderRadius: 4,\r\n      border: '2px solid white',\r\n      backgroundColor: 'rgba(0, 0, 0, .3)'\r\n    }\r\n  }\r\n});\r\n\r\n\r\nconst ScrollBar = withStyles(style)(({ double, children, classes }) => {\r\n  if (double) {\r\n    return (\r\n      <DoubleScrollbar>\r\n        {children}\r\n      </DoubleScrollbar>\r\n    );\r\n  }\r\n  else {\r\n    return (\r\n      <div className={classes.horizontalScrollContainer} style={{ overflowX: 'auto', position: 'relative' }}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n});\r\n","import \"./utils/polyfill\";\r\nimport React from 'react';\r\nimport { defaultProps } from './default-props';\r\nimport { propTypes } from './prop-types';\r\nimport MaterialTable from './material-table';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nMaterialTable.defaultProps = defaultProps;\r\nMaterialTable.propTypes = propTypes;\r\n\r\nexport { MaterialTable as MTable };\r\n\r\nconst styles = theme => ({\r\n  paginationRoot: {\r\n    width: '100%'\r\n  },\r\n  paginationToolbar: {\r\n    padding: 0,\r\n    width: '100%'\r\n  },\r\n  paginationCaption: {\r\n    display: 'none'\r\n  },\r\n  paginationSelectRoot: {\r\n    margin: 0\r\n  }\r\n});\r\n\r\n\r\nexport default withStyles(styles, { withTheme: true })(props => <MaterialTable {...props} ref={props.tableRef} />);\r\nexport * from './components';\r\n","import React, { Component } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport config from '../config';\r\nimport FilterRow from './m-table-filter-row';\r\nimport MTBody from './m-table-body';\r\nimport MToolBar from './m-table-toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MTPagination from './m-table-stepped-pagination';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\r\nimport MTHeader from './m-table-header';\r\nimport Paper from '@material-ui/core/Paper'\r\nimport MTable from './src'\r\n\r\n\r\n\r\nconst objColumns = Object.values(config.columns)\r\nlet filteredData = []\r\nlet numOfRows = 0\r\n\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t  main: '#931e1d;',\r\n\t\t},\r\n\r\n\t\tsecondary: {\r\n\t\t  main: '#931e1d;',\r\n\t\t},\r\n\t  },\r\n\r\n\t\ttypography: {\r\n\t\t\tcolor: \"#515151\",\r\n\t\t\tfontFamily: \"Open Sans\",\r\n\t\t\tfontSize: 14,\r\n\t\t\tletterSpacing: -0.3,\r\n\t\t\twidth: 66\r\n\t\t},\r\n\r\n\t  overrides: {\r\n\t\tMuiTableCell: {\r\n\t\t\troot: {\r\n\t\t\t\ttextAlign: 'center',\r\n\t\t\t\tpadding: 'none',\r\n\t\t\t\twidth: 20,\r\n\t\t\t},\r\n\t\t\tsizeSmall: {\r\n\t\t\t\tpadding: 'none',\r\n\t\t\t\theight: 37,\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tMuiInputBase: {\r\n\t\t\troot: {\r\n\t\t\t\tfontFamily: \"Open Sans\",\r\n\t\t\t\tfontSize: 14,\r\n\t\t\t\tboxShadow: \"0 1px 2px rgba(0, 0, 0, 0.35)\",\r\n\t\t\t\tborderRadius: \"3px\",\r\n\t\t\t\tborder: \"1px solid #979797\",\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tMuiSelect: {\r\n\t\t\troot: {\r\n\t\t\t\tcolor: \"#515151\",\r\n\t\t\t\tfontFamily: \"Open Sans\",\r\n\t\t\t\tfontSize: 14,\r\n\t\t\t\tletterSpacing: -0.3,\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tMuiTableSortLabel: {\r\n\t\t\ticon: {\r\n\t\t\t\topacity: 0.3\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tMuiTableHead: {\r\n\t\t\troot: {\r\n\t\t\t\tborderWidth: 0,\r\n\t\t\t\tborderTopWidth: 2,\r\n\t\t\t\tborderBottomWidth: 2,\r\n\t\t\t\tborderColor: '#931e1d',\r\n\t\t\t\tborderStyle: 'solid',\r\n\t\t\t}\r\n\t\t}\r\n\t  }\r\n})\r\n\r\nclass TransferTableComponent extends Component {\r\n\tstate = {\r\n\t\tcolumns: [],\r\n\t\tdata: [],\r\n\t\tfilterCountry: '',\r\n\t\tdateRange: null,\r\n\t\tfilteredData: null,\r\n\t\tfilters: false\r\n\t}\r\n\r\n\ttoolbarRef = React.createRef()\r\n\ttableRef = React.createRef()\r\n\tpaginationRef = React.createRef()\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setData()\r\n\t\tthis.setFilters()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconsole.log('reset map: ' + prevProps.resetMap + '=> ' + this.props.resetMap )\r\n\t\tconsole.log('country' + prevProps.filterCountry + '=> ' + this.props.filterCountry )\r\n\t\t\r\n\t\tif (prevProps.filterCountry !== this.props.filterCountry || \r\n\t\t\t (prevProps.resetMap !== this.props.resetMap)) {\r\n\t\t\t\tconsole.log('update')\r\n\t\t\tif (this.props.filterCountry !== '') {\r\n\t\t\t\tthis.filterCountry(this.props.filterCountry)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetData = () => {\r\n\t\tthis.setState({ data: this.props.data, filteredData: [...this.props.data] })\r\n\t\tlet newData = this.getLookupData(this.props.data)\r\n\t\tthis.initLookup(newData)\r\n\t\tthis.loadImage()\r\n\t}\r\n\r\n\tsetFilters = () => {\r\n\t\tthis.setState({filters: true})\r\n\t}\r\n\r\n\tloadImage = () => {\r\n\t\tobjColumns.map(obj => {\r\n\t\t\tif (obj.type === 'image' && obj.lookup !== '') {\r\n\t\t\t\tlet keys = Object.keys(obj.lookup)\r\n\t\t\t\tkeys.map(key => {\r\n\t\t\t\t\tobj.lookup[key] = <img src={obj.lookup[key]} alt={key} />\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse if (obj.type === 'image-link') {\r\n\t\t\t\tthis.turnImageToLink(obj)\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.setState({columns: objColumns})\r\n\t}\r\n\r\n\tturnImageToLink = (column) => {\r\n\t\tlet dataCopy = [...this.props.data]\r\n\t\tlet field = column.field\r\n\t\tlet link = column.linkColumn\r\n\t\tconsole.log(field,link)\r\n\t\tdataCopy.map(row => {\r\n\t\t\trow[field] = <a href={row[link]}><img src={config.columns[field][\"imgLink\"][row[field]]} alt={row[field]}/></a>\r\n\t\t})\r\n\t\tthis.setState({data: dataCopy})\r\n\t}\r\n\r\n\t\r\n\tgetLookupData =(data)=> {\r\n\tlet cols = Object.keys(data[0])\r\n\tlet newData = cols.reduce((a,b)=> (a[b]={},a),{});\r\n\tthis.props.data.map(row =>\r\n\t\t{\r\n\t\t\tcols.map(col => {\r\n\t\t\t\tlet val = row[col]\r\n\t\t\t\tnewData[col][val] = val\r\n\t\t\t})\r\n\t\t})\t\r\n\t\treturn [newData, cols]\r\n\t}\r\n\r\n\tinitLookup =(data)=> {\r\n\t\tlet newData = data[0]\r\n\t\tlet keys = data[1]\r\n\r\n\t\tkeys.map(key => {\r\n\t\t\tobjColumns.forEach(col => {\r\n\t\t\t\tif (col.field === key && col.lookup === '' && (col.type === '' || col.type === 'numeric')) {\r\n\t\t\t\t\tcol.lookup = newData[key]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\t\r\n\tfilterCountry = (country) => {\r\n\t\tobjColumns.forEach(col => {\r\n\t\t\tif (col.field === \"country\") {\r\n\t\t\t\tcol.tableData.filterValue = [country]\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.setState({columns: objColumns})\r\n\t}\r\n\r\n\tresetFilters = () => {\r\n\t\tobjColumns.forEach(col => {\r\n\t\t\tcol.tableData.filterValue = \"\"\r\n\t\t})\r\n\t\tconsole.log('reset click')\r\n\t\tthis.setState({columns: objColumns})\r\n\t\tthis.props.handleResetMap()\r\n\t\tthis.toolbarRef.current.onSearchChange(\"\");\r\n\t\tthis.setState({dateRange: null})\r\n\t}\r\n\r\n\tgetFilteredData = () => {\r\n\t\tfilteredData = this.tableRef.current.state.data\r\n\t\tlet sumOfFilteredData = filteredData.reduce((a, b) => a + parseFloat(b.amount), 0)\r\n\t\tthis.paginationRef.current.setSum(sumOfFilteredData);\r\n\t}\r\n\r\n\tgetNumOfRowsOnCurrentPage = (value) => {\r\n\t\tnumOfRows = value\r\n\t}\r\n\r\n\thandleDateRange = (dateRange) => {\r\n\t\tthis.setState({dateRange: dateRange})\r\n\t}\r\n\r\n\tfilterAmountRange = (columnDef, data, value) => {\r\n\t\t// there must be a better way to compare\r\n\t\tlet\tfilteredData = [...data]\r\n        if (value.greaterThan != null && value.lessThan != null) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\treturn parseInt(value.greaterThan) <= parseInt(rowData.amount)\r\n\t\t\t\t\t&& parseInt(value.lessThan) >= parseInt(rowData.amount)\r\n\t\t\t})\r\n        } else if (value.greaterThan != null && value.lessThan == null) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\treturn parseInt(value.greaterThan) <= parseInt(rowData.amount)\r\n\t\t\t})\r\n        } else if (value.greaterThan == null && value.lessThan != null) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\treturn parseInt(value.lessThan) >= parseInt(rowData.amount)\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn filteredData\r\n\t}\r\n\r\n\tfilterDefault = (columnDef, data, value) => {\r\n\t\tlet filteredData = [...data]\r\n\t\tif (value.length > 0) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\treturn rowData[columnDef.field] == value\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn filteredData\r\n\t}\r\n\r\n\tfilterDateRange = (columnDef, data, value) => {\r\n\t\tlet filteredData = [...data]\r\n\t\tif (value.dateRange != null) {\r\n\t\t\tfilteredData = data.filter(rowData => {\r\n\t\t\t\tconst rowDate = new Date(rowData.transactionDate)\r\n\t\t\t\treturn rowDate >= value.dateRange[0] && rowDate <= value.dateRange[1]\r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.setState({dateRange: value.dateRange})\r\n\t\treturn filteredData\r\n\t}\r\n\r\n\thandleFilterChanged = (columnDef, value) => {\r\n\t\tlet filteredData = [...this.state.data]\r\n\t\tif (columnDef.type === 'number_range'){\r\n\t\t\tfilteredData = this.filterAmountRange(columnDef, filteredData, value)\r\n\t\t} else if (columnDef.type === 'date_range'){\r\n\t\t\tfilteredData = this.filterDateRange(columnDef, filteredData, value)\r\n\t\t} else {\r\n\t\t\tfilteredData = this.filterDefault(columnDef, filteredData, value)\r\n\t\t}\r\n\t\tthis.setState({filteredData: filteredData})\t\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<MuiThemeProvider theme={theme}>\r\n\t\t\t<MTable\r\n\t\t\t\ttableRef={this.tableRef}\r\n\t\t\t\tonSearchChange={this.getFilteredData}\r\n\t\t\t\tonFilterChange={this.getFilteredData}\r\n\t\t\t\tcolumns={this.state.columns}\r\n\t\t\t\tdata={this.state.data}\r\n\t\t\t\tcomponents={{\r\n\t\t\t\t\tFilterRow: props => <FilterRow {...props} dateRange={this.state.dateRange} dateRangeChange={this.handleDateRange} \r\n\t\t\t\t\tcellStyle={config.table.filterCellStyle} boxStyle={config.table.filterBoxStyle} resetFilters={this.resetFilters}/>,\r\n\t\t\t\t\tBody: props => <MTBody {...props} getFilteredData={this.getFilteredData} getNumOfRowsOnPage={this.getNumOfRowsOnCurrentPage}/>,\r\n\t\t\t\t\tToolbar: props => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"\" className='explore'>{config.table.textBody}</Typography>\r\n\t\t\t\t\t\t<MToolBar {...props} ref={this.toolbarRef}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tPagination: props => <MTPagination {...props} ref={this.paginationRef} numOfRows={numOfRows} totalNumOfRows={this.state.data.length}/>,\r\n\t\t\t\t\tHeader: props => <MTHeader {...props} />,\r\n\t\t\t\t\tContainer: props => <Paper {...props} elevation={0}/>\r\n\t\t\t\t}}\r\n\r\n\t\t\t\ticons={{ Search: () => <div /> }} \r\n\r\n\t\t\t\tlocalization={{\r\n\t\t\t\t\ttoolbar: { searchPlaceholder: \"Search the data\" },\r\n\t\t\t\t}}\r\n\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...config.table,\r\n\t\t\t\t\trowStyle: (data, index) => {\r\n\t\t\t\t\t\tif (index % 2 === 0 && !config.table.rowStyle.backgroundColor) {\r\n\t\t\t\t\t\t\treturn { ...config.table.rowStyle, backgroundColor: \"#e5e5e5\" }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {return {...config.table.rowStyle}}\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t/></MuiThemeProvider>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default TransferTableComponent;","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport config from '../config';\r\n\r\nconst legend = props => {\r\n    const items = {...config.legend}\r\n    \r\n    let keys = Object.keys(items)\r\n    let itemList = keys.map(key => {\r\n        return (<Grid item style={items[key].boxStyle}>\r\n            <Box display=\"flex\">\r\n                <img src={items[key].img} alt={key}/>\r\n                <Typography variant=\"body2\" style={items[key].titleStyle}>{items[key].title}</Typography>\r\n            </Box>\r\n            <Typography variant=\"body2\" style={items[key].bodyStyle}>{items[key].body}</Typography>\r\n        </Grid>)\r\n    })\r\n    return (\r\n        <Grid container pb={'40px'}\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\">\r\n        {itemList}\r\n        </Grid>\r\n    )\r\n}\r\n\r\n\r\nexport default legend","import React, { Component } from 'react';\r\n\r\nimport TransferMapComponent from \"./TransferMapComponent/TransferMapComponent\";\r\nimport TransferTableComponent from \"./TransferTableComponent/TransferTableComponent\";\r\nimport Legend from './Legend/Legend'\r\nimport config from \"./config\";\r\nimport {csv} from \"d3\";\r\n\r\nimport './styles.css'\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    ready: false,\r\n    data: {},\r\n    filterCountry: '',\r\n    resetMap: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    csv(config.csvUrl)\r\n      .then(d => this.setState({data: d, ready: true}))\r\n  }\r\n  \r\n  handleCountryClick = (country) => {\r\n    this.setState({filterCountry: country,\r\n                   resetMap: false})\r\n  }\r\n  handleResetMap = () => {\r\n    this.setState({resetMap: true,\r\n                   filterCountry: ''})\r\n  }\r\n\r\n  render() {\r\n    let all = null;\r\n    if (this.state.ready) {\r\n      all = (\r\n        <div>\r\n          <TransferMapComponent \r\n            data={this.state.data}\r\n            handleCountryClick={this.handleCountryClick}\r\n            resetMap={this.state.resetMap} />\r\n          <TransferTableComponent \r\n            data={this.state.data}\r\n            filterCountry={this.state.filterCountry}\r\n            resetMap={this.state.resetMap}\r\n            handleResetMap={this.handleResetMap} />\r\n          <Legend />\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"App\">\r\n        {all}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}